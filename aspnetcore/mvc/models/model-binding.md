---
title: "Associação de modelo"
author: rachelappel
description: "Informações sobre associação de modelo no ASP.NET MVC de núcleo"
ms.author: rachelap
manager: wpickett
ms.date: 01/22/2018
ms.topic: article
ms.technology: aspnet
ms.prod: asp.net-core
ms.assetid: 0be164aa-1d72-4192-bd6b-192c9c301164
uid: mvc/models/model-binding
ms.openlocfilehash: 26c4c016548cc3e465991c5ebf16893d4022145d
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/24/2018
---
# <a name="model-binding"></a><span data-ttu-id="90d09-103">Associação de modelo</span><span class="sxs-lookup"><span data-stu-id="90d09-103">Model Binding</span></span>

<span data-ttu-id="90d09-104">Por [Rachel Appel](https://github.com/rachelappel)</span><span class="sxs-lookup"><span data-stu-id="90d09-104">By [Rachel Appel](https://github.com/rachelappel)</span></span>

## <a name="introduction-to-model-binding"></a><span data-ttu-id="90d09-105">Introdução à associação de modelo</span><span class="sxs-lookup"><span data-stu-id="90d09-105">Introduction to model binding</span></span>

<span data-ttu-id="90d09-106">Associação de modelo no MVC do ASP.NET Core mapeia dados de solicitações HTTP para os parâmetros de método de ação.</span><span class="sxs-lookup"><span data-stu-id="90d09-106">Model binding in ASP.NET Core MVC maps data from HTTP requests to action method parameters.</span></span> <span data-ttu-id="90d09-107">Os parâmetros podem ser tipos simples, como cadeias de caracteres, inteiros ou flutuações, ou eles podem ser tipos complexos.</span><span class="sxs-lookup"><span data-stu-id="90d09-107">The parameters may be simple types such as strings, integers, or floats, or they may be complex types.</span></span> <span data-ttu-id="90d09-108">Isso é um ótimo recurso do MVC como mapear os dados de entrada para um representante é um cenário repetido com frequência, independentemente do tamanho ou a complexidade dos dados.</span><span class="sxs-lookup"><span data-stu-id="90d09-108">This is a great feature of MVC because mapping incoming data to a counterpart is an often repeated scenario, regardless of size or complexity of the data.</span></span> <span data-ttu-id="90d09-109">MVC resolve esse problema removendo associação para que os desenvolvedores não precisam manter reconfiguração de uma versão ligeiramente diferente desse mesmo código em todos os aplicativos.</span><span class="sxs-lookup"><span data-stu-id="90d09-109">MVC solves this problem by abstracting binding away so developers don't have to keep rewriting a slightly different version of that same code in every app.</span></span> <span data-ttu-id="90d09-110">Escrevendo seu próprio texto para o código de conversor de tipo é entediante e propenso a erros.</span><span class="sxs-lookup"><span data-stu-id="90d09-110">Writing your own text to type converter code is tedious, and error prone.</span></span>

## <a name="how-model-binding-works"></a><span data-ttu-id="90d09-111">Como funciona a associação de modelo</span><span class="sxs-lookup"><span data-stu-id="90d09-111">How model binding works</span></span>

<span data-ttu-id="90d09-112">Quando MVC recebe uma solicitação HTTP, ele encaminha a um método de ação específica de um controlador.</span><span class="sxs-lookup"><span data-stu-id="90d09-112">When MVC receives an HTTP request, it routes it to a specific action method of a controller.</span></span> <span data-ttu-id="90d09-113">Determina qual método de ação para executar com base no que é nos dados de rota e, em seguida, ele associa valores da solicitação de HTTP para os parâmetros do método de ação.</span><span class="sxs-lookup"><span data-stu-id="90d09-113">It determines which action method to run based on what is in the route data, then it binds values from the HTTP request to that action method's parameters.</span></span> <span data-ttu-id="90d09-114">Por exemplo, considere a seguinte URL:</span><span class="sxs-lookup"><span data-stu-id="90d09-114">For example, consider the following URL:</span></span>

`http://contoso.com/movies/edit/2`

<span data-ttu-id="90d09-115">Como o modelo de rota se parece com isso, `{controller=Home}/{action=Index}/{id?}`, `movies/edit/2` encaminha para o `Movies` controlador e sua `Edit` método de ação.</span><span class="sxs-lookup"><span data-stu-id="90d09-115">Since the route template looks like this, `{controller=Home}/{action=Index}/{id?}`, `movies/edit/2` routes to the `Movies` controller, and its `Edit` action method.</span></span> <span data-ttu-id="90d09-116">Ele também aceita um parâmetro opcional chamado `id`.</span><span class="sxs-lookup"><span data-stu-id="90d09-116">It also accepts an optional parameter called `id`.</span></span> <span data-ttu-id="90d09-117">O código para o método de ação deve ter esta aparência:</span><span class="sxs-lookup"><span data-stu-id="90d09-117">The code for the action method should look something like this:</span></span>

```csharp
public IActionResult Edit(int? id)
   ```

<span data-ttu-id="90d09-118">Observação: As cadeias de caracteres na rota de URL não diferenciam maiusculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="90d09-118">Note: The strings in the URL route are not case sensitive.</span></span>

<span data-ttu-id="90d09-119">MVC tentará associar dados de solicitação para os parâmetros de ação por nome.</span><span class="sxs-lookup"><span data-stu-id="90d09-119">MVC will try to bind request data to the action parameters by name.</span></span> <span data-ttu-id="90d09-120">MVC procurará valores para cada parâmetro usando o nome do parâmetro e os nomes de suas propriedades configuráveis públicas.</span><span class="sxs-lookup"><span data-stu-id="90d09-120">MVC will look for values for each parameter using the parameter name and the names of its public settable properties.</span></span> <span data-ttu-id="90d09-121">No exemplo acima, o parâmetro de ação só é chamado `id`, que associa MVC para o valor com o mesmo nome nos valores de rota.</span><span class="sxs-lookup"><span data-stu-id="90d09-121">In the above example, the only action parameter is named `id`, which MVC binds to the value with the same name in the route values.</span></span> <span data-ttu-id="90d09-122">Além dos valores de rota MVC associar dados de várias partes da solicitação e isso é feito em uma determinada ordem.</span><span class="sxs-lookup"><span data-stu-id="90d09-122">In addition to route values MVC will bind data from various parts of the request and it does so in a set order.</span></span> <span data-ttu-id="90d09-123">Abaixo está uma lista das fontes de dados na ordem em que a associação de modelo examina-los:</span><span class="sxs-lookup"><span data-stu-id="90d09-123">Below is a list of the data sources in the order that model binding looks through them:</span></span>

1. <span data-ttu-id="90d09-124">`Form values`: Estes são valores de formulário que entram na solicitação HTTP usando o método POST.</span><span class="sxs-lookup"><span data-stu-id="90d09-124">`Form values`: These are form values that go in the HTTP request using the POST method.</span></span> <span data-ttu-id="90d09-125">(incluindo as solicitações POST jQuery).</span><span class="sxs-lookup"><span data-stu-id="90d09-125">(including jQuery POST requests).</span></span>

2. <span data-ttu-id="90d09-126">`Route values`: O conjunto de valores de rota fornecida pelo [roteamento](xref:fundamentals/routing)</span><span class="sxs-lookup"><span data-stu-id="90d09-126">`Route values`: The set of route values provided by [Routing](xref:fundamentals/routing)</span></span>

3. <span data-ttu-id="90d09-127">`Query strings`: A parte da cadeia de caracteres de consulta do URI.</span><span class="sxs-lookup"><span data-stu-id="90d09-127">`Query strings`: The query string part of the URI.</span></span>

<!-- DocFX BUG
The link works but generates an error when building with DocFX
@fundamentals/routing
[Routing](xref:fundamentals/routing)
-->

<span data-ttu-id="90d09-128">Observação: Formulário valores, dados de rota e consulta cadeias de caracteres são armazenadas como pares nome-valor.</span><span class="sxs-lookup"><span data-stu-id="90d09-128">Note: Form values, route data, and query strings are all stored as name-value pairs.</span></span>

<span data-ttu-id="90d09-129">Como uma chave chamada solicitou a associação de modelo `id` e não há nada chamado `id` nos valores de formulário, ele movido para os valores de rota procurando essa chave.</span><span class="sxs-lookup"><span data-stu-id="90d09-129">Since model binding asked for a key named `id` and there's nothing named `id` in the form values, it moved on to the route values looking for that key.</span></span> <span data-ttu-id="90d09-130">Em nosso exemplo, é uma correspondência.</span><span class="sxs-lookup"><span data-stu-id="90d09-130">In our example, it's a match.</span></span> <span data-ttu-id="90d09-131">Associação ocorre, e o valor é convertido para o inteiro de 2.</span><span class="sxs-lookup"><span data-stu-id="90d09-131">Binding happens, and the value is converted to the integer 2.</span></span> <span data-ttu-id="90d09-132">A mesma solicitação usando Editar (id da cadeia de caracteres) seria converter a cadeia de caracteres "2".</span><span class="sxs-lookup"><span data-stu-id="90d09-132">The same request using Edit(string id) would convert to the string "2".</span></span>

<span data-ttu-id="90d09-133">Até agora, o exemplo usa tipos simples.</span><span class="sxs-lookup"><span data-stu-id="90d09-133">So far the example uses simple types.</span></span> <span data-ttu-id="90d09-134">No MVC tipos simples são qualquer tipo primitivo .NET ou com um conversor de tipo de cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="90d09-134">In MVC simple types are any .NET primitive type or type with a string type converter.</span></span> <span data-ttu-id="90d09-135">Se o parâmetro do método de ação fosse uma classe, como o `Movie` tipo, que contém tipos simples e complexos, como propriedades, será de associação de modelo do MVC ainda tratá-la perfeitamente.</span><span class="sxs-lookup"><span data-stu-id="90d09-135">If the action method's parameter were a class such as the `Movie` type, which contains both simple and complex types as properties, MVC's model binding will still handle it nicely.</span></span> <span data-ttu-id="90d09-136">Ele usa reflexão e recursão para percorrer as propriedades de tipos complexos procurando correspondências.</span><span class="sxs-lookup"><span data-stu-id="90d09-136">It uses reflection and recursion to traverse the properties of complex types looking for matches.</span></span> <span data-ttu-id="90d09-137">Associação de modelo procura o padrão de *parameter_name.property_name* para associar valores a propriedades.</span><span class="sxs-lookup"><span data-stu-id="90d09-137">Model binding looks for the pattern *parameter_name.property_name* to bind values to properties.</span></span> <span data-ttu-id="90d09-138">Se ele não encontrar os valores correspondentes deste formulário, ele tentará estabelecer uma ligação usando apenas o nome da propriedade.</span><span class="sxs-lookup"><span data-stu-id="90d09-138">If it doesn't find matching values of this form, it will attempt to bind using just the property name.</span></span> <span data-ttu-id="90d09-139">Para esses tipos como `Collection` tipos de associação de modelo procura correspondências para *parameter_name [index]* ou apenas *[index]*.</span><span class="sxs-lookup"><span data-stu-id="90d09-139">For those types such as `Collection` types, model binding looks for matches to *parameter_name[index]* or just *[index]*.</span></span> <span data-ttu-id="90d09-140">Trata da associação de modelo `Dictionary` tipos da mesma forma, pedindo *parameter_name [chave]* ou apenas *[chave]*, contanto que as chaves são tipos simples.</span><span class="sxs-lookup"><span data-stu-id="90d09-140">Model binding treats  `Dictionary` types similarly, asking for *parameter_name[key]* or just *[key]*, as long as the keys are simple types.</span></span> <span data-ttu-id="90d09-141">As chaves que há suporte para correspondem os nomes de campo HTML e os auxiliares de marcação gerados para o mesmo tipo de modelo.</span><span class="sxs-lookup"><span data-stu-id="90d09-141">Keys that are supported match the field names HTML and tag helpers generated for the same model type.</span></span> <span data-ttu-id="90d09-142">Isso permite que os valores de ciclo para que os campos do formulário permaneçam preenchidos com a entrada do usuário para sua conveniência, por exemplo, quando os dados associados de criar ou editar não passam na validação.</span><span class="sxs-lookup"><span data-stu-id="90d09-142">This enables round-tripping values so that the form fields remain filled with the user's input for their convenience, for example, when bound data from a create or edit didn't pass validation.</span></span>

<span data-ttu-id="90d09-143">Em ordem de associação para a classe deve ter um construtor padrão público e membro a ser associado deve ser públicas propriedades graváveis.</span><span class="sxs-lookup"><span data-stu-id="90d09-143">In order for binding to happen the class must have a public default constructor and member to be bound must be public writable properties.</span></span> <span data-ttu-id="90d09-144">Quando a associação de modelo ocorrer que a classe só será instanciada usando o construtor padrão público, as propriedades podem ser definidas.</span><span class="sxs-lookup"><span data-stu-id="90d09-144">When model binding happens the class will only be instantiated using the public default constructor, then the properties can be set.</span></span>

<span data-ttu-id="90d09-145">Quando um parâmetro é vinculado, associação de modelo para procurar por valores com esse nome e ele prossegue para associar o próximo parâmetro.</span><span class="sxs-lookup"><span data-stu-id="90d09-145">When a parameter is bound, model binding stops looking for values with that name and it moves on to bind the next parameter.</span></span> <span data-ttu-id="90d09-146">Caso contrário, o comportamento de associação de modelo padrão define parâmetros para seus valores padrão, dependendo de seu tipo:</span><span class="sxs-lookup"><span data-stu-id="90d09-146">Otherwise, the default model binding behavior sets parameters to their default values depending on their type:</span></span>

* <span data-ttu-id="90d09-147">`T[]`: Com a exceção de matrizes do tipo `byte[]`, associação define parâmetros de tipo `T[]` para `Array.Empty<T>()`.</span><span class="sxs-lookup"><span data-stu-id="90d09-147">`T[]`: With the exception of arrays of type `byte[]`, binding sets parameters of type `T[]` to `Array.Empty<T>()`.</span></span> <span data-ttu-id="90d09-148">Matrizes do tipo `byte[]` são definidos como `null`.</span><span class="sxs-lookup"><span data-stu-id="90d09-148">Arrays of type `byte[]` are set to `null`.</span></span>

* <span data-ttu-id="90d09-149">Tipos de referência: Associação cria uma instância de uma classe com o construtor padrão sem definir propriedades.</span><span class="sxs-lookup"><span data-stu-id="90d09-149">Reference Types: Binding creates an instance of a class with the default constructor without setting properties.</span></span> <span data-ttu-id="90d09-150">No entanto, os conjuntos de associação de modelo `string` parâmetros para `null`.</span><span class="sxs-lookup"><span data-stu-id="90d09-150">However, model binding sets `string` parameters to `null`.</span></span>

* <span data-ttu-id="90d09-151">Tipos anuláveis: Tipos anuláveis são definidos como `null`.</span><span class="sxs-lookup"><span data-stu-id="90d09-151">Nullable Types: Nullable types are set to `null`.</span></span> <span data-ttu-id="90d09-152">No exemplo acima, os conjuntos de associação de modelo `id` para `null` desde que ela é do tipo `int?`.</span><span class="sxs-lookup"><span data-stu-id="90d09-152">In the above example, model binding sets `id` to `null` since it's of type `int?`.</span></span>

* <span data-ttu-id="90d09-153">Tipos de valor: Tipos de valor não anuláveis do tipo `T` são definidos como `default(T)`.</span><span class="sxs-lookup"><span data-stu-id="90d09-153">Value Types: Non-nullable value types of type `T` are set to `default(T)`.</span></span> <span data-ttu-id="90d09-154">Por exemplo, a associação de modelo definirá um parâmetro `int id` como 0.</span><span class="sxs-lookup"><span data-stu-id="90d09-154">For example, model binding will set a parameter `int id` to 0.</span></span> <span data-ttu-id="90d09-155">Considere usar a validação do modelo ou tipos anuláveis em vez de valores padrão.</span><span class="sxs-lookup"><span data-stu-id="90d09-155">Consider using model validation or nullable types rather than relying on default values.</span></span>

<span data-ttu-id="90d09-156">Se a ligação falha, o MVC não gera um erro.</span><span class="sxs-lookup"><span data-stu-id="90d09-156">If binding fails, MVC doesn't throw an error.</span></span> <span data-ttu-id="90d09-157">Todas as ações que aceita a entrada do usuário devem verificar o `ModelState.IsValid` propriedade.</span><span class="sxs-lookup"><span data-stu-id="90d09-157">Every action which accepts user input should check the `ModelState.IsValid` property.</span></span>

<span data-ttu-id="90d09-158">Observação: Cada entrada no controlador de `ModelState` propriedade é um `ModelStateEntry` que contém um `Errors` propriedade.</span><span class="sxs-lookup"><span data-stu-id="90d09-158">Note: Each entry in the controller's `ModelState` property is a `ModelStateEntry` containing an `Errors` property.</span></span> <span data-ttu-id="90d09-159">Raramente é necessário para esta coleção de consulta por conta própria.</span><span class="sxs-lookup"><span data-stu-id="90d09-159">It's rarely necessary to query this collection yourself.</span></span> <span data-ttu-id="90d09-160">Use `ModelState.IsValid` em seu lugar.</span><span class="sxs-lookup"><span data-stu-id="90d09-160">Use `ModelState.IsValid` instead.</span></span>

<span data-ttu-id="90d09-161">Além disso, há alguns tipos de dados especiais que MVC deve considerar ao realizar a associação de modelo:</span><span class="sxs-lookup"><span data-stu-id="90d09-161">Additionally, there are some special data types that MVC must consider when performing model binding:</span></span>

* <span data-ttu-id="90d09-162">`IFormFile`, `IEnumerable<IFormFile>`: Um ou mais arquivos carregados que fazem parte da solicitação HTTP.</span><span class="sxs-lookup"><span data-stu-id="90d09-162">`IFormFile`, `IEnumerable<IFormFile>`: One or more uploaded files that are part of the HTTP request.</span></span>

* <span data-ttu-id="90d09-163">`CancellationToken`: Usado para cancelar a atividade em controladores de assíncronas.</span><span class="sxs-lookup"><span data-stu-id="90d09-163">`CancellationToken`: Used to cancel activity in asynchronous controllers.</span></span>

<span data-ttu-id="90d09-164">Esses tipos podem estar vinculados aos parâmetros de ação ou propriedades em um tipo de classe.</span><span class="sxs-lookup"><span data-stu-id="90d09-164">These types can be bound to action parameters or to properties on a class type.</span></span>

<span data-ttu-id="90d09-165">Após a conclusão, associação de modelo [validação](validation.md) ocorre.</span><span class="sxs-lookup"><span data-stu-id="90d09-165">Once model binding is complete, [Validation](validation.md) occurs.</span></span> <span data-ttu-id="90d09-166">Associação de modelo padrão funciona bem para a maioria dos cenários de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="90d09-166">Default model binding works great for the vast majority of development scenarios.</span></span> <span data-ttu-id="90d09-167">Também é extensível e se você tiver necessidades exclusivas, você pode personalizar o comportamento interno.</span><span class="sxs-lookup"><span data-stu-id="90d09-167">It's also extensible so if you have unique needs you can customize the built-in behavior.</span></span>

## <a name="customize-model-binding-behavior-with-attributes"></a><span data-ttu-id="90d09-168">Personalizar o comportamento de associação de modelo com atributos</span><span class="sxs-lookup"><span data-stu-id="90d09-168">Customize model binding behavior with attributes</span></span>

<span data-ttu-id="90d09-169">MVC contém vários atributos que podem ser usados para direcionar seu comportamento de associação de modelo padrão para uma fonte diferente.</span><span class="sxs-lookup"><span data-stu-id="90d09-169">MVC contains several attributes that you can use to direct its default model binding behavior to a different source.</span></span> <span data-ttu-id="90d09-170">Por exemplo, você pode especificar se a associação é exigida para uma propriedade, ou se ele nunca deve acontecer em todos os usando o `[BindRequired]` ou `[BindNever]` atributos.</span><span class="sxs-lookup"><span data-stu-id="90d09-170">For example, you can specify whether binding is required for a property, or if it should never happen at all by using the `[BindRequired]` or `[BindNever]` attributes.</span></span> <span data-ttu-id="90d09-171">Como alternativa, você pode substituir a fonte de dados padrão e especificar a fonte de dados do associador de modelo.</span><span class="sxs-lookup"><span data-stu-id="90d09-171">Alternatively, you can override the default data source, and specify the model binder's data source.</span></span> <span data-ttu-id="90d09-172">Abaixo está uma lista dos atributos de associação de modelo:</span><span class="sxs-lookup"><span data-stu-id="90d09-172">Below is a list of model binding attributes:</span></span>

* <span data-ttu-id="90d09-173">`[BindRequired]`: Este atributo adiciona um erro de estado de modelo se a associação não pode ocorrer.</span><span class="sxs-lookup"><span data-stu-id="90d09-173">`[BindRequired]`: This attribute adds a model state error if binding cannot occur.</span></span>

* <span data-ttu-id="90d09-174">`[BindNever]`: Informa o associador de modelo nunca vincular a esse parâmetro.</span><span class="sxs-lookup"><span data-stu-id="90d09-174">`[BindNever]`: Tells the model binder to never bind to this parameter.</span></span>

* <span data-ttu-id="90d09-175">`[FromHeader]`, `[FromQuery]`, `[FromRoute]`, `[FromForm]`: Usá-los para especificar a origem de associação exata que deseja aplicar.</span><span class="sxs-lookup"><span data-stu-id="90d09-175">`[FromHeader]`, `[FromQuery]`, `[FromRoute]`, `[FromForm]`: Use these to specify the exact binding source you want to apply.</span></span>

* <span data-ttu-id="90d09-176">`[FromServices]`: Este atributo utiliza [injeção de dependência](../../fundamentals/dependency-injection.md) para associar parâmetros de serviços.</span><span class="sxs-lookup"><span data-stu-id="90d09-176">`[FromServices]`: This attribute uses [dependency injection](../../fundamentals/dependency-injection.md) to bind parameters from services.</span></span>

* <span data-ttu-id="90d09-177">`[FromBody]`: Use os formatadores configurados para associar dados do corpo da solicitação.</span><span class="sxs-lookup"><span data-stu-id="90d09-177">`[FromBody]`: Use the configured formatters to bind data from the request body.</span></span> <span data-ttu-id="90d09-178">O formatador é selecionado com base no tipo de conteúdo da solicitação.</span><span class="sxs-lookup"><span data-stu-id="90d09-178">The formatter is selected based on content type of the request.</span></span>

* <span data-ttu-id="90d09-179">`[ModelBinder]`: Usado para substituir o associador de modelo padrão, a origem de associação e o nome.</span><span class="sxs-lookup"><span data-stu-id="90d09-179">`[ModelBinder]`: Used to override the default model binder, binding source and name.</span></span>

<span data-ttu-id="90d09-180">Os atributos são ferramentas muito úteis quando você precisa substituir o comportamento padrão de associação de modelo.</span><span class="sxs-lookup"><span data-stu-id="90d09-180">Attributes are very helpful tools when you need to override the default behavior of model binding.</span></span>

## <a name="bind-formatted-data-from-the-request-body"></a><span data-ttu-id="90d09-181">Associar dados formatados do corpo da solicitação</span><span class="sxs-lookup"><span data-stu-id="90d09-181">Bind formatted data from the request body</span></span>

<span data-ttu-id="90d09-182">Solicitação de dados podem vir de uma variedade de formatos como JSON, XML e muitos outros.</span><span class="sxs-lookup"><span data-stu-id="90d09-182">Request data can come in a variety of formats including JSON, XML and many others.</span></span> <span data-ttu-id="90d09-183">Quando você usa o atributo [FromBody] para indicar que você deseja associar um parâmetro de dados no corpo da solicitação, o MVC usa um conjunto configurado de formatadores de tratar os dados de solicitação com base em seu tipo de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="90d09-183">When you use the [FromBody] attribute to indicate that you want to bind a parameter to data in the request body, MVC uses a configured set of formatters to handle the request data based on its content type.</span></span> <span data-ttu-id="90d09-184">Por padrão MVC inclui um `JsonInputFormatter` classe para manipular dados JSON, mas você pode adicionar formatadores adicionais para lidar com XML e outros formatos personalizados.</span><span class="sxs-lookup"><span data-stu-id="90d09-184">By default MVC includes a `JsonInputFormatter` class for handling JSON data, but you can add additional formatters for handling XML and other custom formats.</span></span>

> [!NOTE]
> <span data-ttu-id="90d09-185">Pode haver no máximo um parâmetro por ação decorado com `[FromBody]`.</span><span class="sxs-lookup"><span data-stu-id="90d09-185">There can be at most one parameter per action decorated with `[FromBody]`.</span></span> <span data-ttu-id="90d09-186">Tempo de execução do ASP.NET Core MVC delega a responsabilidade de ler o fluxo da solicitação para o formatador.</span><span class="sxs-lookup"><span data-stu-id="90d09-186">The ASP.NET Core MVC run-time delegates the responsibility of reading the request stream to the formatter.</span></span> <span data-ttu-id="90d09-187">Depois que o fluxo da solicitação é lido para um parâmetro, geralmente não é possível ler o fluxo da solicitação novamente para associar outros `[FromBody]` parâmetros.</span><span class="sxs-lookup"><span data-stu-id="90d09-187">Once the request stream is read for a parameter, it's generally not possible to read the request stream again for binding other `[FromBody]` parameters.</span></span>

> [!NOTE]
> <span data-ttu-id="90d09-188">O `JsonInputFormatter` é o formatador padrão e é baseada em [Json.NET](https://www.newtonsoft.com/json).</span><span class="sxs-lookup"><span data-stu-id="90d09-188">The `JsonInputFormatter` is the default formatter and is based on [Json.NET](https://www.newtonsoft.com/json).</span></span>

<span data-ttu-id="90d09-189">ASP.NET seleciona formatadores de entrada com base no [Content-Type](https://www.w3.org/Protocols/rfc1341/4_Content-Type.html) cabeçalho e o tipo do parâmetro, a menos que haja um atributo aplicado a ele especificando caso contrário.</span><span class="sxs-lookup"><span data-stu-id="90d09-189">ASP.NET selects input formatters based on the [Content-Type](https://www.w3.org/Protocols/rfc1341/4_Content-Type.html) header and the type of the parameter, unless there's an attribute applied to it specifying otherwise.</span></span> <span data-ttu-id="90d09-190">Se você gostaria de usar XML ou outro formato você deve configurá-lo no *Startup.cs* arquivo, mas você pode ser necessário que obter uma referência para `Microsoft.AspNetCore.Mvc.Formatters.Xml` usando o NuGet.</span><span class="sxs-lookup"><span data-stu-id="90d09-190">If you'd like to use XML or another format you must configure it in the *Startup.cs* file, but you may first have to obtain a reference to `Microsoft.AspNetCore.Mvc.Formatters.Xml` using NuGet.</span></span> <span data-ttu-id="90d09-191">O código de inicialização deve ter esta aparência:</span><span class="sxs-lookup"><span data-stu-id="90d09-191">Your startup code should look something like this:</span></span>

```csharp
public void ConfigureServices(IServiceCollection services)
{
    services.AddMvc()
        .AddXmlSerializerFormatters();
   }
```

<span data-ttu-id="90d09-192">O código no *Startup.cs* arquivo contém um `ConfigureServices` método com um `services` argumento que você pode usar para criar serviços para seu aplicativo ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="90d09-192">Code in the *Startup.cs* file contains a `ConfigureServices` method with a `services` argument you can use to build up services for your ASP.NET app.</span></span> <span data-ttu-id="90d09-193">No exemplo, estamos adicionando um formatador XML como um serviço que forneça MVC para este aplicativo.</span><span class="sxs-lookup"><span data-stu-id="90d09-193">In the sample, we are adding an XML formatter as a service that MVC will provide for this app.</span></span> <span data-ttu-id="90d09-194">O `options` argumento passado para o `AddMvc` método permite que você adicionar e gerenciar filtros, formatadores e outras opções de sistema do MVC após a inicialização do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="90d09-194">The `options` argument passed into the `AddMvc` method allows you to add and manage filters, formatters, and other system options from MVC upon app startup.</span></span> <span data-ttu-id="90d09-195">Em seguida, aplique a `Consumes` de atributo para classes do controlador ou métodos de ação para trabalhar com o formato desejado.</span><span class="sxs-lookup"><span data-stu-id="90d09-195">Then apply the `Consumes` attribute to controller classes or action methods to work with the format you want.</span></span>

### <a name="custom-model-binding"></a><span data-ttu-id="90d09-196">Associação de modelo personalizado</span><span class="sxs-lookup"><span data-stu-id="90d09-196">Custom Model Binding</span></span>

<span data-ttu-id="90d09-197">Você pode estender a associação de modelo, escrevendo seus próprio associadores de modelo personalizado.</span><span class="sxs-lookup"><span data-stu-id="90d09-197">You can extend model binding by writing your own custom model binders.</span></span> <span data-ttu-id="90d09-198">Saiba mais sobre [associação de modelo personalizado](../advanced/custom-model-binding.md).</span><span class="sxs-lookup"><span data-stu-id="90d09-198">Learn more about [custom model binding](../advanced/custom-model-binding.md).</span></span>
