---
title: "Exibições parciais"
author: ardalis
description: "Usando exibições parciais no ASP.NET MVC de núcleo"
ms.author: riande
manager: wpickett
ms.date: 03/14/2017
ms.topic: article
ms.technology: aspnet
ms.prod: asp.net-core
uid: mvc/views/partial
ms.openlocfilehash: 5919c273de2a298c3e407f118ac478e6a6031332
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/24/2018
---
# <a name="partial-views"></a><span data-ttu-id="d90b6-103">Exibições parciais</span><span class="sxs-lookup"><span data-stu-id="d90b6-103">Partial Views</span></span>

<span data-ttu-id="d90b6-104">Por [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), e [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="d90b6-104">By [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), and [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

<span data-ttu-id="d90b6-105">Núcleo do ASP.NET MVC oferece suporte a modos de exibição parciais, que são úteis quando você tem componentes reutilizáveis de páginas da web que você deseja compartilhar entre diferentes modos de exibição.</span><span class="sxs-lookup"><span data-stu-id="d90b6-105">ASP.NET Core MVC supports partial views, which are useful when you have reusable parts of web pages you want to share between different views.</span></span>

<span data-ttu-id="d90b6-106">[Exibir ou baixar código de exemplo](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample) ([como baixar](xref:tutorials/index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="d90b6-106">[View or download sample code](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample) ([how to download](xref:tutorials/index#how-to-download-a-sample))</span></span>

## <a name="what-are-partial-views"></a><span data-ttu-id="d90b6-107">Quais são os modos de exibição parcial?</span><span class="sxs-lookup"><span data-stu-id="d90b6-107">What are Partial Views?</span></span>

<span data-ttu-id="d90b6-108">Uma exibição parcial é uma exibição que é renderizada dentro de outro modo de exibição.</span><span class="sxs-lookup"><span data-stu-id="d90b6-108">A partial view is a view that's rendered within another view.</span></span> <span data-ttu-id="d90b6-109">A saída HTML gerada por executar a exibição parcial é renderizada no modo de exibição de chamada (ou pai).</span><span class="sxs-lookup"><span data-stu-id="d90b6-109">The HTML output generated by executing the partial view is rendered into the calling (or parent) view.</span></span> <span data-ttu-id="d90b6-110">Como exibições, exibições parciais usam o *. cshtml* extensão de arquivo.</span><span class="sxs-lookup"><span data-stu-id="d90b6-110">Like views, partial views use the *.cshtml* file extension.</span></span>

## <a name="when-should-i-use-partial-views"></a><span data-ttu-id="d90b6-111">Quando devo usar exibições parciais?</span><span class="sxs-lookup"><span data-stu-id="d90b6-111">When Should I Use Partial Views?</span></span>

<span data-ttu-id="d90b6-112">Exibições parciais são uma maneira eficiente de separação de modos de exibição grandes em componentes menores.</span><span class="sxs-lookup"><span data-stu-id="d90b6-112">Partial views are an effective way of breaking up large views into smaller components.</span></span> <span data-ttu-id="d90b6-113">Podem reduzir a duplicação de exibir conteúdo e permitir que os elementos de exibição ser reutilizado.</span><span class="sxs-lookup"><span data-stu-id="d90b6-113">They can reduce duplication of view content and allow view elements to be reused.</span></span> <span data-ttu-id="d90b6-114">Elementos de layout comuns devem ser especificados no [cshtml](layout.md).</span><span class="sxs-lookup"><span data-stu-id="d90b6-114">Common layout elements should be specified in [_Layout.cshtml](layout.md).</span></span> <span data-ttu-id="d90b6-115">Conteúdo reutilizável de layout não pode ser encapsulado em modos de exibição parciais.</span><span class="sxs-lookup"><span data-stu-id="d90b6-115">Non-layout reusable content can be encapsulated into partial views.</span></span>

<span data-ttu-id="d90b6-116">Se você tiver uma página complexa composta por várias partes lógicas, ele pode ser útil trabalhar com cada parte como seu próprio modo de exibição parcial.</span><span class="sxs-lookup"><span data-stu-id="d90b6-116">If you have a complex page made up of several logical pieces, it can be helpful to work with each piece as its own partial view.</span></span> <span data-ttu-id="d90b6-117">Cada parte da página pode ser exibido no isolamento do restante da página e o modo de exibição para a página propriamente dita se torna muito mais simples porque ele contém apenas a estrutura da página geral e a chamadas para renderizar os modos de exibição parciais.</span><span class="sxs-lookup"><span data-stu-id="d90b6-117">Each piece of the page can be viewed in isolation from the rest of the page, and the view for the page itself becomes much simpler since it only contains the overall page structure and calls to render the partial views.</span></span>

<span data-ttu-id="d90b6-118">Dica: Execute o [não repita por conta própria princípio](http://deviq.com/don-t-repeat-yourself/) em exibições.</span><span class="sxs-lookup"><span data-stu-id="d90b6-118">Tip: Follow the [Don't Repeat Yourself Principle](http://deviq.com/don-t-repeat-yourself/) in your views.</span></span>

## <a name="declaring-partial-views"></a><span data-ttu-id="d90b6-119">Declarando exibições parciais</span><span class="sxs-lookup"><span data-stu-id="d90b6-119">Declaring Partial Views</span></span>

<span data-ttu-id="d90b6-120">Exibições parciais são criadas como qualquer outro modo de exibição: criar um *. cshtml* dentro do arquivo de *exibições* pasta.</span><span class="sxs-lookup"><span data-stu-id="d90b6-120">Partial views are created like any other view: you create a *.cshtml* file within the *Views* folder.</span></span> <span data-ttu-id="d90b6-121">Não há nenhuma diferença semântica entre uma exibição parcial e um modo de exibição normal - apenas estiver renderizados diferente.</span><span class="sxs-lookup"><span data-stu-id="d90b6-121">There's no semantic difference between a partial view and a regular view - they're just rendered differently.</span></span> <span data-ttu-id="d90b6-122">Você pode ter uma exibição que é retornada diretamente de um controlador `ViewResult`, e o mesmo modo de exibição pode ser usado como uma exibição parcial.</span><span class="sxs-lookup"><span data-stu-id="d90b6-122">You can have a view that's returned directly from a controller's `ViewResult`, and the same view can be used as a partial view.</span></span> <span data-ttu-id="d90b6-123">A principal diferença entre como um modo de exibição e uma exibição parcial são renderizados é que as exibições parciais não executam *viewstart* (enquanto exibições - Saiba mais sobre *viewstart* na [Layout ](layout.md)).</span><span class="sxs-lookup"><span data-stu-id="d90b6-123">The main difference between how a view and a partial view are rendered is that partial views don't run *_ViewStart.cshtml* (while views do - learn more about *_ViewStart.cshtml* in [Layout](layout.md)).</span></span>

## <a name="referencing-a-partial-view"></a><span data-ttu-id="d90b6-124">Fazendo referência a uma exibição parcial</span><span class="sxs-lookup"><span data-stu-id="d90b6-124">Referencing a Partial View</span></span>

<span data-ttu-id="d90b6-125">De dentro de uma página de exibição, há várias maneiras em que você pode renderizar uma exibição parcial.</span><span class="sxs-lookup"><span data-stu-id="d90b6-125">From within a view page, there are several ways in which you can render a partial view.</span></span> <span data-ttu-id="d90b6-126">É mais simples usar `Html.Partial`, que retorna um `IHtmlString` e pode ser referenciado, prefixando a chamada com `@`:</span><span class="sxs-lookup"><span data-stu-id="d90b6-126">The simplest is to use `Html.Partial`, which returns an `IHtmlString` and can be referenced by prefixing the call with `@`:</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=9)]

<span data-ttu-id="d90b6-127">O `PartialAsync` método está disponível para parcial exibições contendo código assíncrono (embora o código nos modos de exibição não é geralmente recomendado):</span><span class="sxs-lookup"><span data-stu-id="d90b6-127">The `PartialAsync` method is available for partial views containing asynchronous code (although code in views is generally discouraged):</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=8)]

<span data-ttu-id="d90b6-128">Você pode renderizar uma exibição parcial com `RenderPartial`.</span><span class="sxs-lookup"><span data-stu-id="d90b6-128">You can render a partial view with `RenderPartial`.</span></span> <span data-ttu-id="d90b6-129">Esse método não retorna um resultado; Ela transmite a saída renderizada diretamente para a resposta.</span><span class="sxs-lookup"><span data-stu-id="d90b6-129">This method doesn't return a result; it streams the rendered output directly to the response.</span></span> <span data-ttu-id="d90b6-130">Porque ele não retorna um resultado, ele deve ser chamado dentro de um bloco de código Razor (você também pode chamar `RenderPartialAsync` se necessário):</span><span class="sxs-lookup"><span data-stu-id="d90b6-130">Because it doesn't return a result, it must be called within a Razor code block (you can also call `RenderPartialAsync` if necessary):</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=10-12)]

<span data-ttu-id="d90b6-131">Porque ele transmite o resultado diretamente, `RenderPartial` e `RenderPartialAsync` podem executar melhor em alguns cenários.</span><span class="sxs-lookup"><span data-stu-id="d90b6-131">Because it streams the result directly, `RenderPartial` and `RenderPartialAsync` may perform better in some scenarios.</span></span> <span data-ttu-id="d90b6-132">No entanto, na maioria dos casos, recomenda-se você usar `Partial` e `PartialAsync`.</span><span class="sxs-lookup"><span data-stu-id="d90b6-132">However, in most cases it's recommended you use `Partial` and `PartialAsync`.</span></span>

> [!NOTE]
> <span data-ttu-id="d90b6-133">Se precisam de seus modos de exibição executar o código, o padrão recomendado é usar um [componentes da exibição](view-components.md) em vez de uma exibição parcial.</span><span class="sxs-lookup"><span data-stu-id="d90b6-133">If your views need to execute code, the recommended pattern is to use a [view component](view-components.md) instead of a partial view.</span></span>

### <a name="partial-view-discovery"></a><span data-ttu-id="d90b6-134">Descoberta do modo de exibição parcial</span><span class="sxs-lookup"><span data-stu-id="d90b6-134">Partial View Discovery</span></span>

<span data-ttu-id="d90b6-135">Ao fazer referência a uma exibição parcial, você pode consultar para seu local de várias maneiras:</span><span class="sxs-lookup"><span data-stu-id="d90b6-135">When referencing a partial view, you can refer to its location in several ways:</span></span>

```text
// Uses a view in current folder with this name
// If none is found, searches the Shared folder
@Html.Partial("ViewName")

// A view with this name must be in the same folder
@Html.Partial("ViewName.cshtml")

// Locate the view based on the application root
// Paths that start with "/" or "~/" refer to the application root
@Html.Partial("~/Views/Folder/ViewName.cshtml")
@Html.Partial("/Views/Folder/ViewName.cshtml")

// Locate the view using relative paths
@Html.Partial("../Account/LoginPartial.cshtml")
```

<span data-ttu-id="d90b6-136">Você pode ter diferentes modos de exibição parciais com o mesmo nome em pastas de exibição diferente.</span><span class="sxs-lookup"><span data-stu-id="d90b6-136">You can have different partial views with the same name in different view folders.</span></span> <span data-ttu-id="d90b6-137">Ao fazer referência as exibições por nome (sem a extensão de arquivo), modos de exibição em cada pasta usará o modo de exibição parcial na mesma pasta com eles.</span><span class="sxs-lookup"><span data-stu-id="d90b6-137">When referencing the views by name (without file extension), views in each folder will use the partial view in the same folder with them.</span></span> <span data-ttu-id="d90b6-138">Você também pode especificar um modo de exibição parcial padrão a ser usado, colocá-lo no *compartilhado* pasta.</span><span class="sxs-lookup"><span data-stu-id="d90b6-138">You can also specify a default partial view to use, placing it in the *Shared* folder.</span></span> <span data-ttu-id="d90b6-139">O modo de exibição parcial compartilhado será usado por todas as exibições que não têm sua própria versão do modo de exibição parcial.</span><span class="sxs-lookup"><span data-stu-id="d90b6-139">The shared partial view will be used by any views that don't have their own version of the partial view.</span></span> <span data-ttu-id="d90b6-140">Você pode ter uma exibição parcial padrão (em *compartilhado*), que é substituído por uma exibição parcial com o mesmo nome na mesma pasta que o modo de exibição do pai.</span><span class="sxs-lookup"><span data-stu-id="d90b6-140">You can have a default partial view (in *Shared*), which is overridden by a partial view with the same name in the same folder as the parent view.</span></span>

<span data-ttu-id="d90b6-141">Exibições parciais podem ser *encadeados*.</span><span class="sxs-lookup"><span data-stu-id="d90b6-141">Partial views can be *chained*.</span></span> <span data-ttu-id="d90b6-142">Isto é, uma exibição parcial pode chamar outro modo de exibição parcial (desde que você não criar um loop).</span><span class="sxs-lookup"><span data-stu-id="d90b6-142">That is, a partial view can call another partial view (as long as you don't create a loop).</span></span> <span data-ttu-id="d90b6-143">Dentro de cada exibição ou uma exibição parcial, os caminhos relativos são sempre em relação a esse modo de exibição do modo de exibição, e não a raiz ou pai.</span><span class="sxs-lookup"><span data-stu-id="d90b6-143">Within each view or partial view, relative paths are always relative to that view, not the root or parent view.</span></span>

> [!NOTE]
> <span data-ttu-id="d90b6-144">Se você declarar um [Razor](razor.md) `section` em uma exibição parcial, não será visível para seus pais; ele será limitado a exibição parcial.</span><span class="sxs-lookup"><span data-stu-id="d90b6-144">If you declare a [Razor](razor.md) `section` in a partial view, it will not be visible to its parent(s); it will be limited to the partial view.</span></span>

## <a name="accessing-data-from-partial-views"></a><span data-ttu-id="d90b6-145">Acessando dados em exibições parciais</span><span class="sxs-lookup"><span data-stu-id="d90b6-145">Accessing Data From Partial Views</span></span>

<span data-ttu-id="d90b6-146">Quando uma exibição parcial é instanciada, ela recebe uma cópia do modo de exibição pai `ViewData` dicionário.</span><span class="sxs-lookup"><span data-stu-id="d90b6-146">When a partial view is instantiated, it gets a copy of the parent view's `ViewData` dictionary.</span></span> <span data-ttu-id="d90b6-147">Atualizações feitas nos dados no modo de exibição parcial não são mantidas para a exibição pai.</span><span class="sxs-lookup"><span data-stu-id="d90b6-147">Updates made to the data within the partial view are not persisted to the parent view.</span></span> <span data-ttu-id="d90b6-148">`ViewData`alterado em um parcial exibição é perdida quando a exibição parcial retorna.</span><span class="sxs-lookup"><span data-stu-id="d90b6-148">`ViewData` changed in a partial view is lost when the partial view returns.</span></span>

<span data-ttu-id="d90b6-149">Você pode passar uma instância de `ViewDataDictionary` para a exibição parcial:</span><span class="sxs-lookup"><span data-stu-id="d90b6-149">You can pass an instance of `ViewDataDictionary` to the partial view:</span></span>

```csharp
@Html.Partial("PartialName", customViewData)
   ```

<span data-ttu-id="d90b6-150">Você também pode passar um modelo em uma exibição parcial.</span><span class="sxs-lookup"><span data-stu-id="d90b6-150">You can also pass a model into a partial view.</span></span> <span data-ttu-id="d90b6-151">Isso pode ser o modelo de exibição da página, ou uma parte dele ou um objeto personalizado.</span><span class="sxs-lookup"><span data-stu-id="d90b6-151">This can be the page's view model, or some portion of it, or a custom object.</span></span> <span data-ttu-id="d90b6-152">Você pode passar um modelo para `Partial`,`PartialAsync`, `RenderPartial`, ou `RenderPartialAsync`:</span><span class="sxs-lookup"><span data-stu-id="d90b6-152">You can pass a model to `Partial`,`PartialAsync`, `RenderPartial`, or `RenderPartialAsync`:</span></span>

```csharp
@Html.Partial("PartialName", viewModel)
   ```

<span data-ttu-id="d90b6-153">Você pode passar uma instância de `ViewDataDictionary` e um modelo de exibição para uma exibição parcial:</span><span class="sxs-lookup"><span data-stu-id="d90b6-153">You can pass an instance of `ViewDataDictionary` and a view model to a partial view:</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml?range=15-16)]

<span data-ttu-id="d90b6-154">A marcação abaixo mostra o *Views/Articles/Read.cshtml* exibição que contém dois modos de exibição parciais.</span><span class="sxs-lookup"><span data-stu-id="d90b6-154">The markup below shows the *Views/Articles/Read.cshtml* view which contains two partial views.</span></span> <span data-ttu-id="d90b6-155">O segundo modo de exibição parcial passa em um modelo e `ViewData` para a exibição parcial.</span><span class="sxs-lookup"><span data-stu-id="d90b6-155">The second partial view passes in a model and `ViewData` to the partial view.</span></span> <span data-ttu-id="d90b6-156">Você pode passar novos `ViewData` dicionário mantendo existente `ViewData` se você usar a sobrecarga de construtor do `ViewDataDictionary` destacado abaixo:</span><span class="sxs-lookup"><span data-stu-id="d90b6-156">You can pass new `ViewData` dictionary while retaining the existing `ViewData` if you use the constructor overload of the `ViewDataDictionary` highlighted below:</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml)]

<span data-ttu-id="d90b6-157">*Exibições/compartilhadas/AuthorPartial*:</span><span class="sxs-lookup"><span data-stu-id="d90b6-157">*Views/Shared/AuthorPartial*:</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Shared/AuthorPartial.cshtml)]

<span data-ttu-id="d90b6-158">O *ArticleSection* parcial:</span><span class="sxs-lookup"><span data-stu-id="d90b6-158">The *ArticleSection* partial:</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Articles/ArticleSection.cshtml)]

<span data-ttu-id="d90b6-159">Em tempo de execução, existe o meio-termo é renderizado no modo de exibição pai, que por si só é renderizado dentro compartilhado *layout. cshtml*</span><span class="sxs-lookup"><span data-stu-id="d90b6-159">At runtime, the partials are rendered into the parent view, which itself is rendered within the shared *_Layout.cshtml*</span></span>

![saída de exibição parcial](partial/_static/output.png)
