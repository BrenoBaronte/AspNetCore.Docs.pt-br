<span data-ttu-id="ee114-101">Substitua o conteúdo de *Controllers/HelloWorldController.cs* pelo seguinte:</span><span class="sxs-lookup"><span data-stu-id="ee114-101">Replace the contents of *Controllers/HelloWorldController.cs* with the following:</span></span>

<span data-ttu-id="ee114-102">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_1)]</span><span class="sxs-lookup"><span data-stu-id="ee114-102">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_1)]</span></span>

<span data-ttu-id="ee114-103">Cada método `public` em um controlador pode ser chamado como um ponto de extremidade HTTP.</span><span class="sxs-lookup"><span data-stu-id="ee114-103">Every `public` method in a controller is callable as an HTTP endpoint.</span></span> <span data-ttu-id="ee114-104">Na amostra acima, ambos os métodos retornam uma cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="ee114-104">In the sample above, both methods return a string.</span></span>  <span data-ttu-id="ee114-105">Observe os comentários que precedem cada método.</span><span class="sxs-lookup"><span data-stu-id="ee114-105">Note the comments preceding each method.</span></span>

<span data-ttu-id="ee114-106">Um ponto de extremidade HTTP é uma URL direcionável no aplicativo Web, como `http://localhost:1234/HelloWorld`, e combina o protocolo usado `HTTP`, o local de rede do servidor Web (incluindo a porta TCP) `localhost:1234` e o URI de destino `HelloWorld`.</span><span class="sxs-lookup"><span data-stu-id="ee114-106">An HTTP endpoint is a targetable URL in the web application, such as `http://localhost:1234/HelloWorld`, and combines the protocol used: `HTTP`, the network location of the web server (including the TCP port): `localhost:1234` and the target URI `HelloWorld`.</span></span>

<span data-ttu-id="ee114-107">O primeiro comentário indica que este é um método [HTTP GET](http://www.w3schools.com/tags/ref_httpmethods.asp) invocado por meio do acréscimo de “/HelloWorld/” à URL base.</span><span class="sxs-lookup"><span data-stu-id="ee114-107">The first comment states this is an [HTTP GET](http://www.w3schools.com/tags/ref_httpmethods.asp) method that is invoked by appending "/HelloWorld/" to the base URL.</span></span> <span data-ttu-id="ee114-108">O segundo comentário especifica um método [HTTP GET](http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html) invocado por meio do acréscimo de “/HelloWorld/Welcome/” à URL.</span><span class="sxs-lookup"><span data-stu-id="ee114-108">The second comment specifies an [HTTP GET](http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html) method that is invoked by appending "/HelloWorld/Welcome/" to the URL.</span></span> <span data-ttu-id="ee114-109">Mais adiante no tutorial, você usará o mecanismo de scaffolding para gerar métodos `HTTP POST`.</span><span class="sxs-lookup"><span data-stu-id="ee114-109">Later on in the tutorial you'll use the scaffolding engine to generate `HTTP POST` methods.</span></span>

<span data-ttu-id="ee114-110">Execute o aplicativo no modo sem depuração e acrescente “HelloWorld” ao caminho na barra de endereços.</span><span class="sxs-lookup"><span data-stu-id="ee114-110">Run the app in non-debug mode and append "HelloWorld" to the path in the address bar.</span></span> <span data-ttu-id="ee114-111">O método `Index` retorna uma cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="ee114-111">The `Index` method returns a string.</span></span>

![Janela do navegador mostrando a resposta do aplicativo Esta é minha ação padrão](../../tutorials/first-mvc-app/adding-controller/_static/hell1.png)

<span data-ttu-id="ee114-113">O MVC invoca as classes do controlador (e os métodos de ação dentro delas), dependendo da URL de entrada.</span><span class="sxs-lookup"><span data-stu-id="ee114-113">MVC invokes controller classes (and the action methods within them) depending on the incoming URL.</span></span> <span data-ttu-id="ee114-114">A [lógica de roteamento de URL](../../mvc/controllers/routing.md) padrão usada pelo MVC usa um formato como este para determinar o código a ser invocado:</span><span class="sxs-lookup"><span data-stu-id="ee114-114">The default [URL routing logic](../../mvc/controllers/routing.md) used by MVC uses a format like this to determine what code to invoke:</span></span>

`/[Controller]/[ActionName]/[Parameters]`

<span data-ttu-id="ee114-115">Defina o formato do roteamento no arquivo *Startup.cs*.</span><span class="sxs-lookup"><span data-stu-id="ee114-115">You set the format for routing in the *Startup.cs* file.</span></span>

<span data-ttu-id="ee114-116">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Startup.cs?name=snippet_1&highlight=5)]</span><span class="sxs-lookup"><span data-stu-id="ee114-116">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Startup.cs?name=snippet_1&highlight=5)]</span></span>

<span data-ttu-id="ee114-117">Quando você executa o aplicativo e não fornece nenhum segmento de URL, ele usa como padrão o controlador “Home” e o método “Index” especificado na linha do modelo realçada acima.</span><span class="sxs-lookup"><span data-stu-id="ee114-117">When you run the app and don't supply any URL segments, it defaults to the "Home" controller and the "Index" method specified in the template line highlighted above.</span></span>

<span data-ttu-id="ee114-118">O primeiro segmento de URL determina a classe do controlador a ser executada.</span><span class="sxs-lookup"><span data-stu-id="ee114-118">The first URL segment determines the controller class to run.</span></span> <span data-ttu-id="ee114-119">Portanto, `localhost:xxxx/HelloWorld` é mapeado para a classe `HelloWorldController`.</span><span class="sxs-lookup"><span data-stu-id="ee114-119">So `localhost:xxxx/HelloWorld` maps to the `HelloWorldController` class.</span></span> <span data-ttu-id="ee114-120">A segunda parte do segmento de URL determina o método de ação na classe.</span><span class="sxs-lookup"><span data-stu-id="ee114-120">The second part of the URL segment determines the action method on the class.</span></span> <span data-ttu-id="ee114-121">Portanto, `localhost:xxxx/HelloWorld/Index` fará com que o método `Index` da classe `HelloWorldController` seja executado.</span><span class="sxs-lookup"><span data-stu-id="ee114-121">So `localhost:xxxx/HelloWorld/Index` would cause the `Index` method of the `HelloWorldController` class to run.</span></span> <span data-ttu-id="ee114-122">Observe que você precisou apenas navegar para `localhost:xxxx/HelloWorld` e o método `Index` foi chamado por padrão.</span><span class="sxs-lookup"><span data-stu-id="ee114-122">Notice that you only had to browse to `localhost:xxxx/HelloWorld` and the `Index` method was called by default.</span></span> <span data-ttu-id="ee114-123">Isso ocorre porque `Index` é o método padrão que será chamado em um controlador se um nome de método não for especificado explicitamente.</span><span class="sxs-lookup"><span data-stu-id="ee114-123">This is because `Index` is the default method that will be called on a controller if a method name is not explicitly specified.</span></span> <span data-ttu-id="ee114-124">A terceira parte do segmento de URL (`id`) refere-se aos dados de rota.</span><span class="sxs-lookup"><span data-stu-id="ee114-124">The third part of the URL segment ( `id`) is for route data.</span></span> <span data-ttu-id="ee114-125">Você verá os dados de rota mais adiante neste tutorial.</span><span class="sxs-lookup"><span data-stu-id="ee114-125">You'll see route data later on in this tutorial.</span></span>

<span data-ttu-id="ee114-126">Navegue para `http://localhost:xxxx/HelloWorld/Welcome`.</span><span class="sxs-lookup"><span data-stu-id="ee114-126">Browse to `http://localhost:xxxx/HelloWorld/Welcome`.</span></span> <span data-ttu-id="ee114-127">O método `Welcome` é executado e retorna a cadeia de caracteres “Este é o método de ação Boas-vindas...”.</span><span class="sxs-lookup"><span data-stu-id="ee114-127">The `Welcome` method runs and returns the string "This is the Welcome action method...".</span></span> <span data-ttu-id="ee114-128">Para essa URL, o controlador é `HelloWorld` e `Welcome` é o método de ação.</span><span class="sxs-lookup"><span data-stu-id="ee114-128">For this URL, the controller is `HelloWorld` and `Welcome` is the action method.</span></span> <span data-ttu-id="ee114-129">Você ainda não usou a parte `[Parameters]` da URL.</span><span class="sxs-lookup"><span data-stu-id="ee114-129">You haven't used the `[Parameters]` part of the URL yet.</span></span>

![Janela do navegador mostrando a resposta do aplicativo Este é o método de ação Boas-vindas](../../tutorials/first-mvc-app/adding-controller/_static/welcome.png)

<span data-ttu-id="ee114-131">Modifique o código para passar algumas informações de parâmetro da URL para o controlador.</span><span class="sxs-lookup"><span data-stu-id="ee114-131">Modify the code to pass some parameter information from the URL to the controller.</span></span> <span data-ttu-id="ee114-132">Por exemplo, `/HelloWorld/Welcome?name=Rick&numtimes=4`.</span><span class="sxs-lookup"><span data-stu-id="ee114-132">For example, `/HelloWorld/Welcome?name=Rick&numtimes=4`.</span></span> <span data-ttu-id="ee114-133">Altere o método `Welcome` para incluir dois parâmetros, conforme mostrado no código a seguir.</span><span class="sxs-lookup"><span data-stu-id="ee114-133">Change the `Welcome` method to include two parameters as shown in the following code.</span></span> 

<span data-ttu-id="ee114-134">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_2)]</span><span class="sxs-lookup"><span data-stu-id="ee114-134">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_2)]</span></span>

<span data-ttu-id="ee114-135">O código anterior:</span><span class="sxs-lookup"><span data-stu-id="ee114-135">The preceding code:</span></span>

* <span data-ttu-id="ee114-136">Usa o recurso de parâmetro opcional do C# para indicar que o parâmetro `numTimes` usa 1 como padrão se nenhum valor é passado para esse parâmetro.</span><span class="sxs-lookup"><span data-stu-id="ee114-136">Uses the C# optional-parameter feature to indicate that the `numTimes` parameter defaults to 1 if no value is passed for that parameter.</span></span>
* <span data-ttu-id="ee114-137">Usa `HtmlEncoder.Default.Encode` para proteger o aplicativo contra a entrada mal-intencionada (ou seja, JavaScript).</span><span class="sxs-lookup"><span data-stu-id="ee114-137">Uses`HtmlEncoder.Default.Encode` to protect the app from malicious input (namely JavaScript).</span></span> 
* <span data-ttu-id="ee114-138">Usa [Cadeias de caracteres interpoladas](https://docs.microsoft.com/dotnet/articles/csharp/language-reference/keywords/interpolated-strings).</span><span class="sxs-lookup"><span data-stu-id="ee114-138">Uses [Interpolated Strings](https://docs.microsoft.com/dotnet/articles/csharp/language-reference/keywords/interpolated-strings).</span></span>

<span data-ttu-id="ee114-139">Execute o aplicativo e navegue para:</span><span class="sxs-lookup"><span data-stu-id="ee114-139">Run your app and browse to:</span></span>

   `http://localhost:xxxx/HelloWorld/Welcome?name=Rick&numtimes=4`

<span data-ttu-id="ee114-140">(Substitua xxxx pelo número da porta.) Você pode tentar valores diferentes para `name` e `numtimes` na URL.</span><span class="sxs-lookup"><span data-stu-id="ee114-140">(Replace xxxx with your port number.) You can try different values for `name` and `numtimes` in  the URL.</span></span> <span data-ttu-id="ee114-141">O sistema de [associação de modelos](../../mvc/models/model-binding.md) MVC mapeia automaticamente os parâmetros nomeados da cadeia de consulta na barra de endereços para os parâmetros no método.</span><span class="sxs-lookup"><span data-stu-id="ee114-141">The MVC [model binding](../../mvc/models/model-binding.md) system automatically maps the named parameters from  the query string in the address bar to parameters in your method.</span></span> <span data-ttu-id="ee114-142">Consulte [Associação de modelos](../../mvc/models/model-binding.md) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="ee114-142">See [Model Binding](../../mvc/models/model-binding.md) for more information.</span></span>

![Janela do navegador mostrando a resposta do aplicativo Olá, Ricardo, NumTimes é: 4](../../tutorials/first-mvc-app/adding-controller/_static/rick4.png)

<span data-ttu-id="ee114-144">Na imagem acima, o segmento de URL (`Parameters`) não é usado e os parâmetros `name` e `numTimes` são passados como [cadeias de consulta](http://en.wikipedia.org/wiki/Query_string).</span><span class="sxs-lookup"><span data-stu-id="ee114-144">In the image above, the URL segment (`Parameters`) is not used, the `name` and `numTimes` parameters are passed as [query strings](http://en.wikipedia.org/wiki/Query_string).</span></span> <span data-ttu-id="ee114-145">O `?` (ponto de interrogação) na URL acima é um separador seguido pelas cadeias de consulta.</span><span class="sxs-lookup"><span data-stu-id="ee114-145">The `?` (question mark) in the above URL is a separator, and the query strings follow.</span></span> <span data-ttu-id="ee114-146">O caractere `&` separa as cadeias de consulta.</span><span class="sxs-lookup"><span data-stu-id="ee114-146">The `&` character separates query strings.</span></span>

<span data-ttu-id="ee114-147">Substitua o método `Welcome` pelo seguinte código:</span><span class="sxs-lookup"><span data-stu-id="ee114-147">Replace the `Welcome` method with the following code:</span></span>

<span data-ttu-id="ee114-148">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_3)]</span><span class="sxs-lookup"><span data-stu-id="ee114-148">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Controllers/HelloWorldController.cs?name=snippet_3)]</span></span>

<span data-ttu-id="ee114-149">Execute o aplicativo e insira a seguinte URL: `http://localhost:xxx/HelloWorld/Welcome/3?name=Rick`</span><span class="sxs-lookup"><span data-stu-id="ee114-149">Run the app and enter the following URL:  `http://localhost:xxx/HelloWorld/Welcome/3?name=Rick`</span></span>

![Janela do navegador mostrando a resposta do aplicativo Olá, Ricardo, ID: 3](../../tutorials/first-mvc-app/adding-controller/_static/rick_routedata.png)

<span data-ttu-id="ee114-151">Agora, o terceiro segmento de URL corresponde ao parâmetro de rota `id`.</span><span class="sxs-lookup"><span data-stu-id="ee114-151">This time the third URL segment  matched the route parameter `id`.</span></span> <span data-ttu-id="ee114-152">O método `Welcome` contém um parâmetro `id` que correspondeu ao modelo de URL no método `MapRoute`.</span><span class="sxs-lookup"><span data-stu-id="ee114-152">The `Welcome`  method contains a parameter  `id` that matched the URL template in the `MapRoute` method.</span></span> <span data-ttu-id="ee114-153">O `?` à direita (em `id?`) indica que o parâmetro `id` é opcional.</span><span class="sxs-lookup"><span data-stu-id="ee114-153">The trailing `?`  (in `id?`) indicates the `id` parameter is optional.</span></span>

<span data-ttu-id="ee114-154">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Startup.cs?name=snippet_1&highlight=5)]</span><span class="sxs-lookup"><span data-stu-id="ee114-154">[!code-csharp[Main](../../tutorials/first-mvc-app/start-mvc/sample/MvcMovie/Startup.cs?name=snippet_1&highlight=5)]</span></span>

<span data-ttu-id="ee114-155">Nestes exemplos, o controlador faz a parte “VC” do MVC – ou seja, o trabalho da exibição e do controlador.</span><span class="sxs-lookup"><span data-stu-id="ee114-155">In these examples the controller has been doing the "VC" portion  of MVC - that is, the view and controller work.</span></span> <span data-ttu-id="ee114-156">O controlador retorna o HTML diretamente.</span><span class="sxs-lookup"><span data-stu-id="ee114-156">The controller is returning HTML  directly.</span></span> <span data-ttu-id="ee114-157">Em geral, você não deseja que os controladores retornem HTML diretamente, pois isso é muito difícil de codificar e manter.</span><span class="sxs-lookup"><span data-stu-id="ee114-157">Generally you don't want controllers returning HTML directly, since  that becomes very cumbersome to code and maintain.</span></span> <span data-ttu-id="ee114-158">Em vez disso, normalmente, você usa um arquivo de modelo de exibição do Razor separado para ajudar a gerar a resposta HTML.</span><span class="sxs-lookup"><span data-stu-id="ee114-158">Instead you typically use a separate Razor view template file to help generate the HTML response.</span></span> <span data-ttu-id="ee114-159">Faça isso no próximo tutorial.</span><span class="sxs-lookup"><span data-stu-id="ee114-159">You do that in the next tutorial.</span></span>
