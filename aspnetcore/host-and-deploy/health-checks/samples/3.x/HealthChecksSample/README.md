# <a name="aspnet-core-health-check-sample"></a><span data-ttu-id="65050-101">Amostra de verificação de integridade do ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="65050-101">ASP.NET Core Health Check Sample</span></span>

<span data-ttu-id="65050-102">Esta amostra ilustra o uso dos serviços e do Middleware de Verificação de Integridade.</span><span class="sxs-lookup"><span data-stu-id="65050-102">This sample illustrates the use of Health Check Middleware and services.</span></span> <span data-ttu-id="65050-103">Esta amostra apresenta os cenários descritos no tópico [Verificações de integridade no ASP.NET Core](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks).</span><span class="sxs-lookup"><span data-stu-id="65050-103">This sample demonstrates the scenario described in the [Health checks in ASP.NET Core](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks) topic.</span></span>

<span data-ttu-id="65050-104">Para executar o aplicativo de exemplo para um cenário descrito no tópico, use o comando [dotnet run](https://docs.microsoft.com/dotnet/core/tools/dotnet-run) na pasta do projeto em um shell de comando.</span><span class="sxs-lookup"><span data-stu-id="65050-104">To run the sample app for a scenario described in the topic, use the [dotnet run](https://docs.microsoft.com/dotnet/core/tools/dotnet-run) command from the project's folder in a command shell.</span></span> <span data-ttu-id="65050-105">Passe uma opção para o cenário que você está explorando.</span><span class="sxs-lookup"><span data-stu-id="65050-105">Pass a switch for the scenario that you're exploring.</span></span> <span data-ttu-id="65050-106">O aplicativo usa como padrão a configuração `basic` quando uma opção não é fornecida para `dotnet run`.</span><span class="sxs-lookup"><span data-stu-id="65050-106">The app defaults to the `basic` configuration when a switch isn't provided to `dotnet run`.</span></span>

| <span data-ttu-id="65050-107">Cenário</span><span class="sxs-lookup"><span data-stu-id="65050-107">Scenario</span></span>                                               | <span data-ttu-id="65050-108">Comando de aplicativo de exemplo</span><span class="sxs-lookup"><span data-stu-id="65050-108">Sample app command</span></span>               | <span data-ttu-id="65050-109">Descrição</span><span class="sxs-lookup"><span data-stu-id="65050-109">Description</span></span> |
| ------------------------------------------------------ | -------------------------------- | ----------- |
| <span data-ttu-id="65050-110">Investigação de integridade básica (padrão)</span><span class="sxs-lookup"><span data-stu-id="65050-110">Basic health probe (default)</span></span>                           | `dotnet run --scenario basic`    | <span data-ttu-id="65050-111">Confirma que o aplicativo pode processar solicitações HTTP.</span><span class="sxs-lookup"><span data-stu-id="65050-111">Confirms that the app can process HTTP requests.</span></span> |
| <span data-ttu-id="65050-112">Investigação de banco de dados</span><span class="sxs-lookup"><span data-stu-id="65050-112">Database probe</span></span>                                         | `dotnet run --scenario db`       | <span data-ttu-id="65050-113">Verifica uma conexão do banco de dados do SQL Server.</span><span class="sxs-lookup"><span data-stu-id="65050-113">Checks a SQL Server database connection.</span></span> <span data-ttu-id="65050-114">Confira a seção [Investigação de banco de dados](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks#database-probe) do tópico para obter instruções.</span><span class="sxs-lookup"><span data-stu-id="65050-114">See the [Database probe](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks#database-probe) section of the topic for instructions.</span></span> |
| <span data-ttu-id="65050-115">Investigações de preparação/atividade</span><span class="sxs-lookup"><span data-stu-id="65050-115">Readiness/liveness probes</span></span>                              | `dotnet run --scenario liveness` | <span data-ttu-id="65050-116">Executa verificações para confirmar um status de aplicativo em tempo real (*atividade*) em comparação com a preparação do aplicativo para se tornar ativo (*preparação*).</span><span class="sxs-lookup"><span data-stu-id="65050-116">Performs checks for a live app status (*liveness*) versus the app preparing to become live (*readiness*).</span></span> |
| <span data-ttu-id="65050-117">Investigação baseada em métrica (memória)/</span><span class="sxs-lookup"><span data-stu-id="65050-117">Metric-based probe (memory)/</span></span><br><span data-ttu-id="65050-118">gravador de resposta personalizada</span><span class="sxs-lookup"><span data-stu-id="65050-118">custom response writer</span></span> | `dotnet run --scenario writer`   | <span data-ttu-id="65050-119">Verifica no uso de memória e grava o JSON personalizado quando o ponto de extremidade de integridade é verificado.</span><span class="sxs-lookup"><span data-stu-id="65050-119">Checks against memory use and writes out custom JSON when the health endpoint is checked.</span></span> |
| <span data-ttu-id="65050-120">Filtrar por porta</span><span class="sxs-lookup"><span data-stu-id="65050-120">Filter by port</span></span>                                         | `dotnet run --scenario port`     | <span data-ttu-id="65050-121">Filtra as verificações de integridade para uma porta específica.</span><span class="sxs-lookup"><span data-stu-id="65050-121">Filters health checks to a given port.</span></span> <span data-ttu-id="65050-122">Confira a seção [Filtrar por porta](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks#filter-by-port) do tópico para obter instruções.</span><span class="sxs-lookup"><span data-stu-id="65050-122">See the [Filter by port](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks#filter-by-port) section of the topic for instructions.</span></span> |

<span data-ttu-id="65050-123">Os cenários de investigação de banco de dados e filtro de porta exigem configuração adicional.</span><span class="sxs-lookup"><span data-stu-id="65050-123">The database probe and port filter scenarios require additional configuration.</span></span> <span data-ttu-id="65050-124">Confira o tópico [Verificações de integridade](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks) para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="65050-124">See the [Health checks](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks) topic for details.</span></span>
