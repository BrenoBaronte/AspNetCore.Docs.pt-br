---
uid: web-pages/overview/ui-layouts-and-themes/9-working-with-images
title: "Trabalhando com imagens em um Site do ASP.NET páginas da Web (Razor) | Microsoft Docs"
author: tfitzmac
description: "Este capítulo mostra como adicionar, exibir e manipular imagens (redimensionar, inverter e adicionar marcas d'água) no seu site."
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/20/2014
ms.topic: article
ms.assetid: 778c4e58-4372-4d25-bab9-aec4a8d8e38d
ms.technology: dotnet-webpages
ms.prod: .net-framework
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/9-working-with-images
msc.type: authoredcontent
ms.openlocfilehash: 74838dd364a43f3f4c966c1417d0f0b2cc242f28
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/10/2017
---
<a name="working-with-images-in-an-aspnet-web-pages-razor-site"></a><span data-ttu-id="d5a26-103">Trabalhando com imagens em um Site de páginas (Razor) da Web do ASP.NET</span><span class="sxs-lookup"><span data-stu-id="d5a26-103">Working with Images in an ASP.NET Web Pages (Razor) Site</span></span>
====================
<span data-ttu-id="d5a26-104">por [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="d5a26-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="d5a26-105">Este artigo mostra como adicionar, exibir e manipular imagens (redimensionar, inverter e adicionar marcas d'água) em um site de páginas da Web do ASP.NET (Razor).</span><span class="sxs-lookup"><span data-stu-id="d5a26-105">This article shows you how to add, display, and manipulate images (resize, flip, and add watermarks) in an ASP.NET Web Pages (Razor) website.</span></span>
> 
> <span data-ttu-id="d5a26-106">O que você aprenderá:</span><span class="sxs-lookup"><span data-stu-id="d5a26-106">What you'll learn:</span></span>
> 
> - <span data-ttu-id="d5a26-107">Como adicionar uma imagem a uma página dinamicamente.</span><span class="sxs-lookup"><span data-stu-id="d5a26-107">How to add an image to a page dynamically.</span></span>
> - <span data-ttu-id="d5a26-108">Como permitir que os usuários carregue uma imagem.</span><span class="sxs-lookup"><span data-stu-id="d5a26-108">How to let users upload an image.</span></span>
> - <span data-ttu-id="d5a26-109">Como redimensionar uma imagem.</span><span class="sxs-lookup"><span data-stu-id="d5a26-109">How to resize an image.</span></span>
> - <span data-ttu-id="d5a26-110">Como inverter ou girar uma imagem.</span><span class="sxs-lookup"><span data-stu-id="d5a26-110">How to flip or rotate an image.</span></span>
> - <span data-ttu-id="d5a26-111">Como adicionar uma marca d'água a uma imagem.</span><span class="sxs-lookup"><span data-stu-id="d5a26-111">How to add a watermark to an image.</span></span>
> - <span data-ttu-id="d5a26-112">Como usar uma imagem como uma marca d'água.</span><span class="sxs-lookup"><span data-stu-id="d5a26-112">How to use an image as a watermark.</span></span>
> 
> <span data-ttu-id="d5a26-113">Esses são o ASP.NET recursos introduzidos no artigo de programação:</span><span class="sxs-lookup"><span data-stu-id="d5a26-113">These are the ASP.NET programming features introduced in the article:</span></span>
> 
> - <span data-ttu-id="d5a26-114">O `WebImage` auxiliar.</span><span class="sxs-lookup"><span data-stu-id="d5a26-114">The `WebImage` helper.</span></span>
> - <span data-ttu-id="d5a26-115">O `Path` objeto, que fornece métodos que permitem a manipulação de nomes de arquivo e caminho.</span><span class="sxs-lookup"><span data-stu-id="d5a26-115">The `Path` object, which provides methods that let you manipulate path and file names.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="d5a26-116">Versões de software usadas no tutorial</span><span class="sxs-lookup"><span data-stu-id="d5a26-116">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="d5a26-117">Páginas da Web do ASP.NET (Razor) 2</span><span class="sxs-lookup"><span data-stu-id="d5a26-117">ASP.NET Web Pages (Razor) 2</span></span>
> - <span data-ttu-id="d5a26-118">O WebMatrix 2</span><span class="sxs-lookup"><span data-stu-id="d5a26-118">WebMatrix 2</span></span>
>   
> 
> <span data-ttu-id="d5a26-119">Este tutorial também funciona com o WebMatrix 3.</span><span class="sxs-lookup"><span data-stu-id="d5a26-119">This tutorial also works with WebMatrix 3.</span></span>


<a id="Adding_an_Image"></a>
## <a name="adding-an-image-to-a-web-page-dynamically"></a><span data-ttu-id="d5a26-120">Adicionar uma imagem a uma página da Web dinamicamente</span><span class="sxs-lookup"><span data-stu-id="d5a26-120">Adding an Image to a Web Page Dynamically</span></span>

<span data-ttu-id="d5a26-121">Você pode adicionar imagens ao seu site e para páginas individuais enquanto você estiver desenvolvendo o site.</span><span class="sxs-lookup"><span data-stu-id="d5a26-121">You can add images to your website and to individual pages while you're developing the website.</span></span> <span data-ttu-id="d5a26-122">Você também pode permitir que os usuários carregar imagens, que podem ser úteis para tarefas, como permitir que eles adicionar uma foto de perfil.</span><span class="sxs-lookup"><span data-stu-id="d5a26-122">You can also let users upload images, which might be useful for tasks like letting them add a profile photo.</span></span>

<span data-ttu-id="d5a26-123">Se uma imagem já está disponível em seu site e você quiser apenas para exibi-lo em uma página, use um HTML `<img>` elemento assim:</span><span class="sxs-lookup"><span data-stu-id="d5a26-123">If an image is already available on your site and you just want to display it on a page, you use an HTML `<img>` element like this:</span></span>

[!code-html[Main](9-working-with-images/samples/sample1.html)]

<span data-ttu-id="d5a26-124">Às vezes, no entanto, você precisa ser capaz de exibir imagens dinamicamente &#8212; ou seja, você não sabe qual imagem para exibir até que a página está em execução.</span><span class="sxs-lookup"><span data-stu-id="d5a26-124">Sometimes, though, you need to be able to display images dynamically &#8212; that is, you don't know what image to display until the page is running.</span></span>

<span data-ttu-id="d5a26-125">O procedimento nesta seção mostra como exibir uma imagem em tempo real em que os usuários especificar o nome do arquivo de imagem de uma lista de nomes de imagem.</span><span class="sxs-lookup"><span data-stu-id="d5a26-125">The procedure in this section shows how to display an image on the fly where users specify the image file name from a list of image names.</span></span> <span data-ttu-id="d5a26-126">Eles selecionem o nome da imagem de uma lista suspensa e quando eles enviam a página, a imagem que selecionado é exibida.</span><span class="sxs-lookup"><span data-stu-id="d5a26-126">They select the name of the image from a drop-down list, and when they submit the page, the image they selected is displayed.</span></span>

<span data-ttu-id="d5a26-127">![[imagem] ] (9-working-with-images/_static/image1.jpg "ch9images 1.jpg")</span><span class="sxs-lookup"><span data-stu-id="d5a26-127">![[image]](9-working-with-images/_static/image1.jpg "ch9images-1.jpg")</span></span>

1. <span data-ttu-id="d5a26-128">No WebMatrix, crie um novo site.</span><span class="sxs-lookup"><span data-stu-id="d5a26-128">In WebMatrix, create a new website.</span></span>
2. <span data-ttu-id="d5a26-129">Adicionar uma nova página chamada *DynamicImage.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="d5a26-129">Add a new page named *DynamicImage.cshtml*.</span></span>
3. <span data-ttu-id="d5a26-130">Na pasta raiz do site, adicione uma nova pasta e denomine- *imagens*.</span><span class="sxs-lookup"><span data-stu-id="d5a26-130">In the root folder of the website, add a new folder and name it *images*.</span></span>
4. <span data-ttu-id="d5a26-131">Adicionar imagens de quatro a *imagens* na pasta recém-criada.</span><span class="sxs-lookup"><span data-stu-id="d5a26-131">Add four images to the *images* folder you just created.</span></span> <span data-ttu-id="d5a26-132">(Todas as imagens tiverem será útil, mas eles devem caber em uma página.) Renomear as imagens *Photo1.jpg*, *Photo2.jpg*, *Photo3.jpg*, e *Photo4.jpg*.</span><span class="sxs-lookup"><span data-stu-id="d5a26-132">(Any images you have handy will do, but they should fit onto a page.) Rename the images *Photo1.jpg*, *Photo2.jpg*, *Photo3.jpg*, and *Photo4.jpg*.</span></span> <span data-ttu-id="d5a26-133">(Você não usará *Photo4.jpg* neste procedimento, mas você poderá usá-lo posteriormente neste artigo.)</span><span class="sxs-lookup"><span data-stu-id="d5a26-133">(You won't use *Photo4.jpg* in this procedure, but you'll use it later in the article.)</span></span>
5. <span data-ttu-id="d5a26-134">Verifique se que as quatro imagens não são marcadas como somente leitura.</span><span class="sxs-lookup"><span data-stu-id="d5a26-134">Verify that the four images are not marked as read-only.</span></span>
6. <span data-ttu-id="d5a26-135">Substitua o conteúdo existente na página com o seguinte:</span><span class="sxs-lookup"><span data-stu-id="d5a26-135">Replace the existing content in the page with the following:</span></span>

    [!code-cshtml[Main](9-working-with-images/samples/sample2.cshtml)]

    <span data-ttu-id="d5a26-136">O corpo da página tem uma lista suspensa (um `<select>` elemento) que é chamada `photoChoice`.</span><span class="sxs-lookup"><span data-stu-id="d5a26-136">The body of the page has a drop-down list (a `<select>` element) that's named `photoChoice`.</span></span> <span data-ttu-id="d5a26-137">A lista tem três opções e o `value` atributo de cada opção de lista tem o nome de uma das imagens que você colocou o *imagens* pasta.</span><span class="sxs-lookup"><span data-stu-id="d5a26-137">The list has three options, and the `value` attribute of each list option has the name of one of the images that you put in the *images* folder.</span></span> <span data-ttu-id="d5a26-138">Essencialmente, a lista permite ao usuário selecionar um nome amigável como &quot;foto 1&quot;, e, em seguida, passa o *. jpg* nome de arquivo quando a página é enviada.</span><span class="sxs-lookup"><span data-stu-id="d5a26-138">Essentially, the list lets the user select a friendly name like &quot;Photo 1&quot;, and it then passes the *.jpg* file name when the page is submitted.</span></span>

    <span data-ttu-id="d5a26-139">No código, você pode obter a seleção do usuário (em outras palavras, o nome do arquivo de imagem) da lista lendo `Request["photoChoice"]`.</span><span class="sxs-lookup"><span data-stu-id="d5a26-139">In the code, you can get the user's selection (in other words, the image file name) from the list by reading `Request["photoChoice"]`.</span></span> <span data-ttu-id="d5a26-140">Primeiro, você verá se há uma seleção em todos os.</span><span class="sxs-lookup"><span data-stu-id="d5a26-140">You first see if there's a selection at all.</span></span> <span data-ttu-id="d5a26-141">Se houver, você pode construir um caminho para a imagem que consiste do nome da pasta para as imagens e o nome do arquivo de imagem do usuário.</span><span class="sxs-lookup"><span data-stu-id="d5a26-141">If there is, you construct a path for the image that consists of the name of the folder for the images and the user's image file name.</span></span> <span data-ttu-id="d5a26-142">(Se você tentou criar um caminho, mas não havia nada no `Request["photoChoice"]`, você receberia um erro.) Isso resulta em um caminho relativo, como este:</span><span class="sxs-lookup"><span data-stu-id="d5a26-142">(If you tried to construct a path but there was nothing in `Request["photoChoice"]`, you'd get an error.) This results in a relative path like this:</span></span>

    <span data-ttu-id="d5a26-143">*imagens/Photo1.jpg*</span><span class="sxs-lookup"><span data-stu-id="d5a26-143">*images/Photo1.jpg*</span></span>

    <span data-ttu-id="d5a26-144">O caminho é armazenado na variável nomeada `imagePath` que você vai precisar posteriormente na página.</span><span class="sxs-lookup"><span data-stu-id="d5a26-144">The path is stored in variable named `imagePath` that you'll need later in the page.</span></span>

    <span data-ttu-id="d5a26-145">No corpo, também há um `<img>` elemento que é usado para exibir a imagem escolhida pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="d5a26-145">In the body, there's also an `<img>` element that's used to display the image that the user picked.</span></span> <span data-ttu-id="d5a26-146">O `src` atributo não está definido como um nome de arquivo ou URL, como faria para exibir um elemento estático.</span><span class="sxs-lookup"><span data-stu-id="d5a26-146">The `src` attribute isn't set to a file name or URL, like you'd do to display a static element.</span></span> <span data-ttu-id="d5a26-147">Em vez disso, ele é definido como `@imagePath`, que significa que ele obtém seu valor do caminho definido no código.</span><span class="sxs-lookup"><span data-stu-id="d5a26-147">Instead, it's set to `@imagePath`, meaning that it gets its value from the path you set in code.</span></span>

    <span data-ttu-id="d5a26-148">Na primeira vez que a página é executada, no entanto, não há nenhuma imagem para exibir, porque o usuário não selecionou nada.</span><span class="sxs-lookup"><span data-stu-id="d5a26-148">The first time that the page runs, though, there's no image to display, because the user hasn't selected anything.</span></span> <span data-ttu-id="d5a26-149">Isso normalmente significa que o `src` atributo deve estar vazio e a imagem deve aparecer como um vermelho &quot;x&quot; (ou qualquer navegador renderiza quando não é possível localizar uma imagem).</span><span class="sxs-lookup"><span data-stu-id="d5a26-149">This would normally mean that the `src` attribute would be empty and the image would show up as a red &quot;x&quot; (or whatever the browser renders when it can't find an image).</span></span> <span data-ttu-id="d5a26-150">Para evitar isso, você deve colocar o `<img>` elemento em um `if` bloco verifica se o `imagePath` variável tiver algo nele.</span><span class="sxs-lookup"><span data-stu-id="d5a26-150">To prevent this, you put the `<img>` element in an `if` block that tests to see whether the `imagePath` variable has anything in it.</span></span> <span data-ttu-id="d5a26-151">Se o usuário fez uma seleção, `imagePath` contém o caminho.</span><span class="sxs-lookup"><span data-stu-id="d5a26-151">If the user made a selection, `imagePath` contains the path.</span></span> <span data-ttu-id="d5a26-152">Se o usuário não escolher uma imagem ou se esta for a primeira vez que a página é exibida, o `<img>` elemento ainda não está processado.</span><span class="sxs-lookup"><span data-stu-id="d5a26-152">If the user didn't pick an image or if this is the first time the page is displayed, the `<img>` element isn't even rendered.</span></span>
7. <span data-ttu-id="d5a26-153">Salve o arquivo e execute a página em um navegador.</span><span class="sxs-lookup"><span data-stu-id="d5a26-153">Save the file and run the page in a browser.</span></span> <span data-ttu-id="d5a26-154">(Verifique se a página está selecionada no **arquivos** espaço de trabalho antes de você executá-lo.)</span><span class="sxs-lookup"><span data-stu-id="d5a26-154">(Make sure the page is selected in the **Files** workspace before you run it.)</span></span>
8. <span data-ttu-id="d5a26-155">Selecione uma imagem na lista suspensa e, em seguida, clique em **imagem de exemplo**.</span><span class="sxs-lookup"><span data-stu-id="d5a26-155">Select an image from the drop-down list and then click **Sample Image**.</span></span> <span data-ttu-id="d5a26-156">Certifique-se de que você verá diferentes imagens para diferentes opções.</span><span class="sxs-lookup"><span data-stu-id="d5a26-156">Make sure that you see different images for different choices.</span></span>

<a id="Uploading_an_Image"></a>
## <a name="uploading-an-image"></a><span data-ttu-id="d5a26-157">Carregando uma imagem</span><span class="sxs-lookup"><span data-stu-id="d5a26-157">Uploading an Image</span></span>

<span data-ttu-id="d5a26-158">O exemplo anterior mostrou como exibir uma imagem dinamicamente, mas ela funcionou apenas com imagens que já estavam em seu site.</span><span class="sxs-lookup"><span data-stu-id="d5a26-158">The previous example showed you how to display an image dynamically, but it worked only with images that were already on your website.</span></span> <span data-ttu-id="d5a26-159">Este procedimento mostra como permitir que os usuários carregue uma imagem, que é exibida na página.</span><span class="sxs-lookup"><span data-stu-id="d5a26-159">This procedure shows how to let users upload an image, which is then displayed on the page.</span></span> <span data-ttu-id="d5a26-160">No ASP.NET, você pode manipular imagens em tempo real usando o `WebImage` auxiliar, que tem métodos que permitem a você cria, manipular e salva imagens.</span><span class="sxs-lookup"><span data-stu-id="d5a26-160">In ASP.NET, you can manipulate images on the fly using the `WebImage` helper, which has methods that let you create, manipulate, and save images.</span></span> <span data-ttu-id="d5a26-161">O `WebImage` auxiliar dá suporte a todas as comuns da web imagem tipos de arquivo, incluindo *. jpg*, *. PNG*, e *. bmp*.</span><span class="sxs-lookup"><span data-stu-id="d5a26-161">The `WebImage` helper supports all the common web image file types, including *.jpg*, *.png*, and *.bmp*.</span></span> <span data-ttu-id="d5a26-162">Neste artigo, você usará *. jpg* imagens, mas você pode usar qualquer um dos tipos de imagem.</span><span class="sxs-lookup"><span data-stu-id="d5a26-162">Throughout this article, you'll use *.jpg* images, but you can use any of the image types.</span></span>

<span data-ttu-id="d5a26-163">![[imagem] ] (9-working-with-images/_static/image2.jpg "ch9images 2.jpg")</span><span class="sxs-lookup"><span data-stu-id="d5a26-163">![[image]](9-working-with-images/_static/image2.jpg "ch9images-2.jpg")</span></span>

1. <span data-ttu-id="d5a26-164">Adicione uma nova página e denomine- *UploadImage.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="d5a26-164">Add a new page and name it *UploadImage.cshtml*.</span></span>
2. <span data-ttu-id="d5a26-165">Substitua o conteúdo existente na página com o seguinte:</span><span class="sxs-lookup"><span data-stu-id="d5a26-165">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample3.cshtml)]

    <span data-ttu-id="d5a26-166">O corpo do texto tem uma `<input type="file">` elemento, que permite aos usuários selecionar um arquivo para carregar.</span><span class="sxs-lookup"><span data-stu-id="d5a26-166">The body of the text has an `<input type="file">` element, which lets users select a file to upload.</span></span> <span data-ttu-id="d5a26-167">Quando eles clicarem **enviar**, o arquivo eles separado é enviado junto com o formulário.</span><span class="sxs-lookup"><span data-stu-id="d5a26-167">When they click **Submit**, the file they picked is submitted along with the form.</span></span>

    <span data-ttu-id="d5a26-168">Para obter a imagem carregada, você deve usar o `WebImage` auxiliar, que tem todos os tipos de métodos úteis para trabalhar com imagens.</span><span class="sxs-lookup"><span data-stu-id="d5a26-168">To get the uploaded image, you use the `WebImage` helper, which has all sorts of useful methods for working with images.</span></span> <span data-ttu-id="d5a26-169">Especificamente, você usa `WebImage.GetImageFromRequest` para obter a imagem carregada (se houver) e armazená-lo em uma variável chamada `photo`.</span><span class="sxs-lookup"><span data-stu-id="d5a26-169">Specifically, you use `WebImage.GetImageFromRequest` to get the uploaded image (if any) and store it in a variable named `photo`.</span></span>

    <span data-ttu-id="d5a26-170">Muito trabalho neste exemplo envolve obter e definir os nomes de arquivo e caminho.</span><span class="sxs-lookup"><span data-stu-id="d5a26-170">A lot of the work in this example involves getting and setting file and path names.</span></span> <span data-ttu-id="d5a26-171">O problema é que você deseja obter o nome (e apenas o nome) da imagem que carregou o usuário e, em seguida, crie um novo caminho para onde você pretende armazenar a imagem.</span><span class="sxs-lookup"><span data-stu-id="d5a26-171">The issue is that you want to get the name (and just the name) of the image that the user uploaded, and then create a new path for where you're going to store the image.</span></span> <span data-ttu-id="d5a26-172">Como os usuários potencialmente podem carregar várias imagens que têm o mesmo nome, você usa um pouco de código adicional para criar nomes exclusivos e certifique-se de que os usuários não substitua imagens existentes.</span><span class="sxs-lookup"><span data-stu-id="d5a26-172">Because users could potentially upload multiple images that have the same name, you use a bit of extra code to create unique names and make sure that users don't overwrite existing pictures.</span></span>

    <span data-ttu-id="d5a26-173">Se uma imagem, na verdade, foi carregada (o teste `if (photo != null)`), você obtém o nome da imagem da imagem do `FileName` propriedade.</span><span class="sxs-lookup"><span data-stu-id="d5a26-173">If an image actually has been uploaded (the test `if (photo != null)`), you get the image name from the image's `FileName` property.</span></span> <span data-ttu-id="d5a26-174">Quando o usuário carrega a imagem, `FileName` contém o nome do usuário original, que inclui o caminho do computador do usuário.</span><span class="sxs-lookup"><span data-stu-id="d5a26-174">When the user uploads the image, `FileName` contains the user's original name, which includes the path from the user's computer.</span></span> <span data-ttu-id="d5a26-175">Ele pode parecer com isso:</span><span class="sxs-lookup"><span data-stu-id="d5a26-175">It might look like this:</span></span>

    <span data-ttu-id="d5a26-176">*C:\Users\Joe\Pictures\SamplePhoto1.jpg*</span><span class="sxs-lookup"><span data-stu-id="d5a26-176">*C:\Users\Joe\Pictures\SamplePhoto1.jpg*</span></span>

    <span data-ttu-id="d5a26-177">Você não deseja que todas essas informações de caminho, embora &#8212; você quiser apenas o nome do arquivo real (*SamplePhoto1.jpg*).</span><span class="sxs-lookup"><span data-stu-id="d5a26-177">You don't want all that path information, though &#8212; you just want the actual file name (*SamplePhoto1.jpg*).</span></span> <span data-ttu-id="d5a26-178">Você pode extrair apenas o arquivo de um caminho usando o `Path.GetFileName` método, como este:</span><span class="sxs-lookup"><span data-stu-id="d5a26-178">You can strip out just the file from a path by using the `Path.GetFileName` method, like this:</span></span>

    [!code-csharp[Main](9-working-with-images/samples/sample4.cs)]

    <span data-ttu-id="d5a26-179">Crie um novo nome de arquivo exclusivo com a adição de um GUID para o nome original.</span><span class="sxs-lookup"><span data-stu-id="d5a26-179">You then create a new unique file name by adding a GUID to the original name.</span></span> <span data-ttu-id="d5a26-180">(Para obter mais informações sobre GUIDs, consulte [sobre GUIDs](#SB_AboutGUIDs) posteriormente neste artigo.) Em seguida, você pode construir um caminho completo que você pode usar para salvar a imagem.</span><span class="sxs-lookup"><span data-stu-id="d5a26-180">(For more about GUIDs, see [About GUIDs](#SB_AboutGUIDs) later in this article.) Then you construct a complete path that you can use to save the image.</span></span> <span data-ttu-id="d5a26-181">Salvar caminho é composto do novo nome de arquivo, a pasta (imagens) e o local atual do site.</span><span class="sxs-lookup"><span data-stu-id="d5a26-181">The save path is made up of the new file name, the folder (images), and the current website location.</span></span>

    > [!NOTE]
    > <span data-ttu-id="d5a26-182">Para que seu código para salvar arquivos de *imagens* pasta, o aplicativo precisa de leitura-gravação permissões para essa pasta.</span><span class="sxs-lookup"><span data-stu-id="d5a26-182">In order for your code to save files in the *images* folder, the application needs read-write permissions for that folder.</span></span> <span data-ttu-id="d5a26-183">No computador de desenvolvimento isso não é geralmente um problema.</span><span class="sxs-lookup"><span data-stu-id="d5a26-183">On your development computer this is not typically an issue.</span></span> <span data-ttu-id="d5a26-184">No entanto, quando você publica seu site ao servidor da web de um provedor de hospedagem, você precisará definir explicitamente as permissões.</span><span class="sxs-lookup"><span data-stu-id="d5a26-184">However, when you publish your site to a hosting provider's web server, you might need to explicitly set those permissions.</span></span> <span data-ttu-id="d5a26-185">Se você executa esse código no servidor de um provedor de hospedagem e obter erros, verifique com o provedor de hospedagem para saber como definir essas permissões.</span><span class="sxs-lookup"><span data-stu-id="d5a26-185">If you run this code on a hosting provider's server and get errors, check with the hosting provider to find out how to set those permissions.</span></span>

    <span data-ttu-id="d5a26-186">Finalmente, você passa a salvar caminho para o `Save` método o `WebImage` auxiliar.</span><span class="sxs-lookup"><span data-stu-id="d5a26-186">Finally, you pass the save path to the `Save` method of the `WebImage` helper.</span></span> <span data-ttu-id="d5a26-187">Armazena a imagem carregada com o novo nome.</span><span class="sxs-lookup"><span data-stu-id="d5a26-187">This stores the uploaded image under its new name.</span></span> <span data-ttu-id="d5a26-188">Salvar método tem esta aparência: `photo.Save(@"~\" + imagePath)`.</span><span class="sxs-lookup"><span data-stu-id="d5a26-188">The save method looks like this: `photo.Save(@"~\" + imagePath)`.</span></span> <span data-ttu-id="d5a26-189">O caminho completo é acrescentado ao `@"~\"`, que é o local atual do site.</span><span class="sxs-lookup"><span data-stu-id="d5a26-189">The complete path is appended to `@"~\"`, which is the current website location.</span></span> <span data-ttu-id="d5a26-190">(Para obter informações sobre o `~` operador, consulte [Introdução ao ASP.NET Web programação usando a sintaxe do Razor](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths).)</span><span class="sxs-lookup"><span data-stu-id="d5a26-190">(For information about the `~` operator, see [Introduction to ASP.NET Web Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths).)</span></span>

    <span data-ttu-id="d5a26-191">Como no exemplo anterior, o corpo da página contém um `<img>` elemento para exibir a imagem.</span><span class="sxs-lookup"><span data-stu-id="d5a26-191">As in the previous example, the body of the page contains an `<img>` element to display the image.</span></span> <span data-ttu-id="d5a26-192">Se `imagePath` tiver sido definido, o `<img>` elemento é processado e seu `src` atributo é definido como o `imagePath` valor.</span><span class="sxs-lookup"><span data-stu-id="d5a26-192">If `imagePath` has been set, the `<img>` element is rendered and its `src` attribute is set to the `imagePath` value.</span></span>
3. <span data-ttu-id="d5a26-193">Execute a página em um navegador.</span><span class="sxs-lookup"><span data-stu-id="d5a26-193">Run the page in a browser.</span></span>
4. <span data-ttu-id="d5a26-194">Carregue uma imagem e verifique se que ele é exibido na página.</span><span class="sxs-lookup"><span data-stu-id="d5a26-194">Upload an image and make sure it's displayed in the page.</span></span>
5. <span data-ttu-id="d5a26-195">No seu site, abra o *imagens* pasta.</span><span class="sxs-lookup"><span data-stu-id="d5a26-195">In your site, open the *images* folder.</span></span> <span data-ttu-id="d5a26-196">Você vê que um novo arquivo foi adicionado cujo nome de arquivo pode ter esta aparência:</span><span class="sxs-lookup"><span data-stu-id="d5a26-196">You see that a new file has been added whose file name looks something like this::</span></span> 

    <span data-ttu-id="d5a26-197">*45ea4527-7ddd-4965-b9ca-c6444982b342\_MyPhoto.png*</span><span class="sxs-lookup"><span data-stu-id="d5a26-197">*45ea4527-7ddd-4965-b9ca-c6444982b342\_MyPhoto.png*</span></span>

    <span data-ttu-id="d5a26-198">Esta é a imagem que você carregou com um GUID que o prefixo para o nome.</span><span class="sxs-lookup"><span data-stu-id="d5a26-198">This is the image that you uploaded with a GUID prefixed to the name.</span></span> <span data-ttu-id="d5a26-199">(Seu próprio arquivo terá um GUID diferente e provavelmente é denominado algo diferente de *MyPhoto.png*.)</span><span class="sxs-lookup"><span data-stu-id="d5a26-199">(Your own file will have a different GUID and probably is named something different than *MyPhoto.png*.)</span></span>

> [!TIP] 
> 
> <a id="SB_AboutGUIDs"></a>
> ### <a name="about-guids"></a><span data-ttu-id="d5a26-200">Sobre GUIDs</span><span class="sxs-lookup"><span data-stu-id="d5a26-200">About GUIDs</span></span>
> 
> <span data-ttu-id="d5a26-201">Um GUID (ID exclusivo global) é um identificador que normalmente é processado em um formato como este: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span><span class="sxs-lookup"><span data-stu-id="d5a26-201">A GUID (globally-unique ID) is an identifier that's usually rendered in a format like this: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span></span> <span data-ttu-id="d5a26-202">Os números e letras (da A F) são diferentes para cada GUID, mas todas elas seguem o padrão do uso de grupos de caracteres de 8-4-4-4-12.</span><span class="sxs-lookup"><span data-stu-id="d5a26-202">The numbers and letters (from A-F) differ for each GUID, but they all follow the pattern of using groups of 8-4-4-4-12 characters.</span></span> <span data-ttu-id="d5a26-203">(Tecnicamente, um GUID é um número de 16 bytes/128 bits.) Quando você precisar de um GUID, você pode chamar código especializado que gera um GUID para você.</span><span class="sxs-lookup"><span data-stu-id="d5a26-203">(Technically, a GUID is a 16-byte/128-bit number.) When you need a GUID, you can call specialized code that generates a GUID for you.</span></span> <span data-ttu-id="d5a26-204">A ideia GUIDs é que, entre o tamanho gigantesco do número (3,4 x 10<sup>38</sup>) e o algoritmo para gerá-lo, o número resultante é praticamente garantido para ser um tipo.</span><span class="sxs-lookup"><span data-stu-id="d5a26-204">The idea behind GUIDs is that between the enormous size of the number (3.4 x 10<sup>38</sup>) and the algorithm for generating it, the resulting number is virtually guaranteed to be one of a kind.</span></span> <span data-ttu-id="d5a26-205">GUIDs, portanto, são uma boa maneira de gerar nomes de itens quando você deve assegurar que você não use o mesmo nome duas vezes.</span><span class="sxs-lookup"><span data-stu-id="d5a26-205">GUIDs therefore are a good way to generate names for things when you must guarantee that you won't use the same name twice.</span></span> <span data-ttu-id="d5a26-206">A desvantagem, é claro, GUIDs não são particularmente amigável, portanto eles tendem a ser usado quando o nome é usado somente no código.</span><span class="sxs-lookup"><span data-stu-id="d5a26-206">The downside, of course, is that GUIDs aren't particularly user friendly, so they tend to be used when the name is used only in code.</span></span>


<a id="Resizing_an_Image"></a>
## <a name="resizing-an-image"></a><span data-ttu-id="d5a26-207">Redimensionando uma imagem</span><span class="sxs-lookup"><span data-stu-id="d5a26-207">Resizing an Image</span></span>

<span data-ttu-id="d5a26-208">Se seu site aceita imagens de um usuário, você talvez queira redimensionar as imagens antes de exibir ou salvá-los.</span><span class="sxs-lookup"><span data-stu-id="d5a26-208">If your website accepts images from a user, you might want to resize the images before you display or save them.</span></span> <span data-ttu-id="d5a26-209">Você pode usar novamente o `WebImage` auxiliar para isso.</span><span class="sxs-lookup"><span data-stu-id="d5a26-209">You can again use the `WebImage` helper for this.</span></span>

<span data-ttu-id="d5a26-210">Este procedimento mostra como redimensionar uma imagem carregada para criar uma miniatura e, em seguida, salvar a miniatura e a imagem original no site.</span><span class="sxs-lookup"><span data-stu-id="d5a26-210">This procedure shows how to resize an uploaded image to create a thumbnail and then save the thumbnail and original image in the website.</span></span> <span data-ttu-id="d5a26-211">Exibir a miniatura na página e use um hiperlink para redirecionar os usuários para a imagem em tamanho normal.</span><span class="sxs-lookup"><span data-stu-id="d5a26-211">You display the thumbnail on the page and use a hyperlink to redirect users to the full-sized image.</span></span>

<span data-ttu-id="d5a26-212">![[imagem] ] (9-working-with-images/_static/image3.jpg "ch9images 3.jpg")</span><span class="sxs-lookup"><span data-stu-id="d5a26-212">![[image]](9-working-with-images/_static/image3.jpg "ch9images-3.jpg")</span></span>

1. <span data-ttu-id="d5a26-213">Adicionar uma nova página chamada *Thumbnail.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="d5a26-213">Add a new page named *Thumbnail.cshtml*.</span></span>
2. <span data-ttu-id="d5a26-214">No *imagens* pasta, crie uma subpasta chamada *miniaturas*.</span><span class="sxs-lookup"><span data-stu-id="d5a26-214">In the *images* folder, create a subfolder named *thumbs*.</span></span>
3. <span data-ttu-id="d5a26-215">Substitua o conteúdo existente na página com o seguinte:</span><span class="sxs-lookup"><span data-stu-id="d5a26-215">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample5.cshtml)]

    <span data-ttu-id="d5a26-216">Esse código é semelhante ao código do exemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="d5a26-216">This code is similar to the code from the previous example.</span></span> <span data-ttu-id="d5a26-217">A diferença é que esse código salva a imagem duas vezes, uma vez normalmente e uma vez depois de criar uma cópia da imagem.</span><span class="sxs-lookup"><span data-stu-id="d5a26-217">The difference is that this code saves the image twice, once normally and once after you create a thumbnail copy of the image.</span></span> <span data-ttu-id="d5a26-218">Primeiro você pode obter a imagem carregada e salvá-lo no *imagens* pasta.</span><span class="sxs-lookup"><span data-stu-id="d5a26-218">First you get the uploaded image and save it in the *images* folder.</span></span> <span data-ttu-id="d5a26-219">Você, em seguida, criar um novo caminho para a imagem em miniatura.</span><span class="sxs-lookup"><span data-stu-id="d5a26-219">You then construct a new path for the thumbnail image.</span></span> <span data-ttu-id="d5a26-220">Para realmente criar a miniatura, chame o `WebImage` do auxiliar `Resize` método para criar uma imagem de 60-por 60 pixels.</span><span class="sxs-lookup"><span data-stu-id="d5a26-220">To actually create the thumbnail, you call the `WebImage` helper's `Resize` method to create a 60-pixel by 60-pixel image.</span></span> <span data-ttu-id="d5a26-221">O exemplo mostra como você pode preservar a taxa de proporção e como você pode impedir que a imagem que está sendo ampliada (no caso do novo tamanho seria, na verdade, aumentar a imagem).</span><span class="sxs-lookup"><span data-stu-id="d5a26-221">The example shows how you preserve the aspect ratio and how you can prevent the image from being enlarged (in case the new size would actually make the image larger).</span></span> <span data-ttu-id="d5a26-222">A imagem redimensionada é salvo no *miniaturas* subpasta.</span><span class="sxs-lookup"><span data-stu-id="d5a26-222">The resized image is then saved in the *thumbs* subfolder.</span></span>

    <span data-ttu-id="d5a26-223">No final da marcação, use o mesmo `<img>` elemento com dinâmico `src` atributo que você viu nos exemplos anteriores para mostrar condicionalmente a imagem.</span><span class="sxs-lookup"><span data-stu-id="d5a26-223">At the end of the markup, you use the same `<img>` element with the dynamic `src` attribute that you've seen in the previous examples to conditionally show the image.</span></span> <span data-ttu-id="d5a26-224">Nesse caso, você pode exibir a miniatura.</span><span class="sxs-lookup"><span data-stu-id="d5a26-224">In this case, you display the thumbnail.</span></span> <span data-ttu-id="d5a26-225">Você também usar uma `<a>` elemento para criar um hiperlink para a versão grande da imagem.</span><span class="sxs-lookup"><span data-stu-id="d5a26-225">You also use an `<a>` element to create a hyperlink to the big version of the image.</span></span> <span data-ttu-id="d5a26-226">Assim como acontece com o `src` atributo do `<img>` elemento, defina o `href` atributo do `<a>` elemento dinamicamente ao que está no `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="d5a26-226">As with the `src` attribute of the `<img>` element, you set the `href` attribute of the `<a>` element dynamically to whatever is in `imagePath`.</span></span> <span data-ttu-id="d5a26-227">Para certificar-se de que o caminho pode funcionar como uma URL, você passa `imagePath` para o `Html.AttributeEncode` método, que converte caracteres reservados no caminho em caracteres que são okey em uma URL.</span><span class="sxs-lookup"><span data-stu-id="d5a26-227">To make sure that the path can work as a URL, you pass `imagePath` to the `Html.AttributeEncode` method, which converts reserved characters in the path to characters that are ok in a URL.</span></span>
4. <span data-ttu-id="d5a26-228">Execute a página em um navegador.</span><span class="sxs-lookup"><span data-stu-id="d5a26-228">Run the page in a browser.</span></span>
5. <span data-ttu-id="d5a26-229">Carregar uma foto e verifique se a miniatura é mostrada.</span><span class="sxs-lookup"><span data-stu-id="d5a26-229">Upload a photo and verify that the thumbnail is shown.</span></span>
6. <span data-ttu-id="d5a26-230">Clique na miniatura para ver a imagem em tamanho normal.</span><span class="sxs-lookup"><span data-stu-id="d5a26-230">Click the thumbnail to see the full-size image.</span></span>
7. <span data-ttu-id="d5a26-231">No *imagens* e *imagens/miniaturas*, observe que os novos arquivos foram adicionados.</span><span class="sxs-lookup"><span data-stu-id="d5a26-231">In the *images* and *images/thumbs*, note that new files have been added.</span></span>

<a id="Rotating_and_Flipping"></a>
## <a name="rotating-and-flipping-an-image"></a><span data-ttu-id="d5a26-232">Girando e invertendo uma imagem</span><span class="sxs-lookup"><span data-stu-id="d5a26-232">Rotating and Flipping an Image</span></span>

<span data-ttu-id="d5a26-233">O `WebImage` auxiliar também lhe permite inverter e girar imagens.</span><span class="sxs-lookup"><span data-stu-id="d5a26-233">The `WebImage` helper also lets you flip and rotate images.</span></span> <span data-ttu-id="d5a26-234">Este procedimento mostra como obter uma imagem do servidor, inverter a imagem de cabeça para baixo (vertical), salve-o e, em seguida, exiba a imagem invertida na página.</span><span class="sxs-lookup"><span data-stu-id="d5a26-234">This procedure shows how to get an image from the server, flip the image upside down (vertically), save it, and then display the flipped image on the page.</span></span> <span data-ttu-id="d5a26-235">Neste exemplo, você estiver usando apenas um arquivo que você já tem no servidor (*Photo2.jpg*).</span><span class="sxs-lookup"><span data-stu-id="d5a26-235">In this example, you're just using a file you already have on the server (*Photo2.jpg*).</span></span> <span data-ttu-id="d5a26-236">Em um aplicativo real, você provavelmente seria inverte uma imagem cujo nome você obter dinamicamente, como você fez nos exemplos anteriores.</span><span class="sxs-lookup"><span data-stu-id="d5a26-236">In a real application, you'd probably flip an image whose name you get dynamically, like you did in previous examples.</span></span>

<span data-ttu-id="d5a26-237">![[imagem] ] (9-working-with-images/_static/image4.jpg "ch9images 4.jpg")</span><span class="sxs-lookup"><span data-stu-id="d5a26-237">![[image]](9-working-with-images/_static/image4.jpg "ch9images-4.jpg")</span></span>

1. <span data-ttu-id="d5a26-238">Adicionar uma nova página chamada *FlipImage.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="d5a26-238">Add a new page named *FlipImage.cshtml*.</span></span>
2. <span data-ttu-id="d5a26-239">Substitua o conteúdo existente na página com o seguinte:</span><span class="sxs-lookup"><span data-stu-id="d5a26-239">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample6.cshtml)]

    <span data-ttu-id="d5a26-240">O código usa o `WebImage` auxiliar para obter uma imagem do servidor.</span><span class="sxs-lookup"><span data-stu-id="d5a26-240">The code uses the `WebImage` helper to get an image from the server.</span></span> <span data-ttu-id="d5a26-241">Criar o caminho para a imagem usando a mesma técnica usada nos exemplos anteriores para salvar imagens e passar esse caminho ao criar uma imagem usando `WebImage`:</span><span class="sxs-lookup"><span data-stu-id="d5a26-241">You create the path to the image using the same technique you used in earlier examples for saving images, and you pass that path when you create an image using `WebImage`:</span></span>

    [!code-javascript[Main](9-working-with-images/samples/sample7.js)]

    <span data-ttu-id="d5a26-242">Se for encontrada uma imagem, você pode construir um novo caminho e nome, como você fez nos exemplos anteriores.</span><span class="sxs-lookup"><span data-stu-id="d5a26-242">If an image is found, you construct a new path and file name, like you did in earlier examples.</span></span> <span data-ttu-id="d5a26-243">Para inverter a imagem, você deve chamar o `FlipVertical` método e, em seguida, salvá-la novamente.</span><span class="sxs-lookup"><span data-stu-id="d5a26-243">To flip the image, you call the `FlipVertical` method, and then you save the image again.</span></span>

    <span data-ttu-id="d5a26-244">A imagem é exibida na página novamente usando o `<img>` elemento com o `src` atributo definido como `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="d5a26-244">The image is again displayed on the page by using the `<img>` element with the `src` attribute set to `imagePath`.</span></span>
3. <span data-ttu-id="d5a26-245">Execute a página em um navegador.</span><span class="sxs-lookup"><span data-stu-id="d5a26-245">Run the page in a browser.</span></span> <span data-ttu-id="d5a26-246">A imagem para *Photo2.jpg* é mostrado cabeça para baixo.</span><span class="sxs-lookup"><span data-stu-id="d5a26-246">The image for *Photo2.jpg* is shown upside down.</span></span>
4. <span data-ttu-id="d5a26-247">Atualize a página ou solicitar a página novamente para ver que a imagem é invertida direita backup novamente.</span><span class="sxs-lookup"><span data-stu-id="d5a26-247">Refresh the page or request the page again to see the image is flipped right side up again.</span></span>

<span data-ttu-id="d5a26-248">Para girar uma imagem, você usa o mesmo código, exceto que, em vez de chamar o `FlipVertical` ou `FlipHorizontal`, chamar `RotateLeft` ou `RotateRight`.</span><span class="sxs-lookup"><span data-stu-id="d5a26-248">To rotate an image, you use the same code, except that instead of calling the `FlipVertical` or `FlipHorizontal`, you call `RotateLeft` or `RotateRight`.</span></span>

<a id="Adding_a_Watermark"></a>
## <a name="adding-a-watermark-to-an-image"></a><span data-ttu-id="d5a26-249">Adicionar uma marca d'água a uma imagem</span><span class="sxs-lookup"><span data-stu-id="d5a26-249">Adding a Watermark to an Image</span></span>

<span data-ttu-id="d5a26-250">Quando você adicionar imagens ao seu site, você talvez queira adicionar uma marca d'água à imagem antes de salvá-lo ou exibi-lo em uma página.</span><span class="sxs-lookup"><span data-stu-id="d5a26-250">When you add images to your website, you might want to add a watermark to the image before you save it or display it on a page.</span></span> <span data-ttu-id="d5a26-251">As pessoas geralmente usam marcas d'água para adicionar informações de copyright a uma imagem ou anunciar seu nome de negócios.</span><span class="sxs-lookup"><span data-stu-id="d5a26-251">People often use watermarks to add copyright information to an image or to advertise their business name.</span></span>

<span data-ttu-id="d5a26-252">![[imagem] ] (9-working-with-images/_static/image5.jpg "ch9images 5.jpg")</span><span class="sxs-lookup"><span data-stu-id="d5a26-252">![[image]](9-working-with-images/_static/image5.jpg "ch9images-5.jpg")</span></span>

1. <span data-ttu-id="d5a26-253">Adicionar uma nova página chamada *Watermark.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="d5a26-253">Add a new page named *Watermark.cshtml*.</span></span>
2. <span data-ttu-id="d5a26-254">Substitua o conteúdo existente na página com o seguinte:</span><span class="sxs-lookup"><span data-stu-id="d5a26-254">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample8.cshtml)]

    <span data-ttu-id="d5a26-255">Esse código é como o código a *FlipImage.cshtml* página anteriores (embora desta vez usa o *Photo3.jpg* arquivo).</span><span class="sxs-lookup"><span data-stu-id="d5a26-255">This code is like the code in the *FlipImage.cshtml* page from earlier (although this time it uses the *Photo3.jpg* file).</span></span> <span data-ttu-id="d5a26-256">Para adicionar a marca d'água, você deve chamar o `WebImage` do auxiliar `AddTextWatermark` método antes de salvar a imagem.</span><span class="sxs-lookup"><span data-stu-id="d5a26-256">To add the watermark, you call the `WebImage` helper's `AddTextWatermark` method before you save the image.</span></span> <span data-ttu-id="d5a26-257">Na chamada para `AddTextWatermark`, passar o texto &quot;marca d'água meu&quot;, defina a cor da fonte para amarelo e definir a família de fontes para Arial.</span><span class="sxs-lookup"><span data-stu-id="d5a26-257">In the call to `AddTextWatermark`, you pass the text &quot;My Watermark&quot;, set the font color to yellow, and set the font family to Arial.</span></span> <span data-ttu-id="d5a26-258">(Embora não seja mostrado aqui, o `WebImage` auxiliar também permite que você especifique opacidade, família de fontes e tamanho da fonte e a posição do texto de marca d'água.) Quando você salvar a imagem não deve ser somente leitura.</span><span class="sxs-lookup"><span data-stu-id="d5a26-258">(Although it's not shown here, the `WebImage` helper also lets you specify opacity, font family and font size, and the position of the watermark text.) When you save the image it must not be read-only.</span></span>

    <span data-ttu-id="d5a26-259">Como você viu antes, a imagem é exibida na página usando o `<img>` elemento com o atributo src definido como `@imagePath`.</span><span class="sxs-lookup"><span data-stu-id="d5a26-259">As you've seen before, the image is displayed on the page by using the `<img>` element with the src attribute set to `@imagePath`.</span></span>
3. <span data-ttu-id="d5a26-260">Execute a página em um navegador.</span><span class="sxs-lookup"><span data-stu-id="d5a26-260">Run the page in a browser.</span></span> <span data-ttu-id="d5a26-261">Observe o texto "Meus marca d'água" no canto inferior direito da imagem.</span><span class="sxs-lookup"><span data-stu-id="d5a26-261">Notice the text "My Watermark" at the bottom-right corner of the image.</span></span>

<a id="Using_an_Image_as_a_Watermark"></a>
## <a name="using-an-image-as-a-watermark"></a><span data-ttu-id="d5a26-262">Usando uma imagem como uma marca d'água</span><span class="sxs-lookup"><span data-stu-id="d5a26-262">Using an Image As a Watermark</span></span>

<span data-ttu-id="d5a26-263">Em vez de usar o texto de marca d'água, você pode usar outra imagem.</span><span class="sxs-lookup"><span data-stu-id="d5a26-263">Instead of using text for a watermark, you can use another image.</span></span> <span data-ttu-id="d5a26-264">As pessoas às vezes usam imagens como um logotipo da empresa como uma marca d'água ou usar uma imagem de marca d'água em vez de texto para obter informações de direitos autorais.</span><span class="sxs-lookup"><span data-stu-id="d5a26-264">People sometimes use images like a company logo as a watermark, or they use a watermark image instead of text for copyright information.</span></span>

<span data-ttu-id="d5a26-265">![[imagem] ] (9-working-with-images/_static/image6.jpg "ch9images 6.jpg")</span><span class="sxs-lookup"><span data-stu-id="d5a26-265">![[image]](9-working-with-images/_static/image6.jpg "ch9images-6.jpg")</span></span>

1. <span data-ttu-id="d5a26-266">Adicionar uma nova página chamada *ImageWatermark.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="d5a26-266">Add a new page named *ImageWatermark.cshtml*.</span></span>
2. <span data-ttu-id="d5a26-267">Adicionar uma imagem para o *imagens* pasta que você pode usar como um logotipo e renomeie a imagem *MyCompanyLogo.jpg*.</span><span class="sxs-lookup"><span data-stu-id="d5a26-267">Add an image to the *images* folder that you can use as a logo, and rename the image *MyCompanyLogo.jpg*.</span></span> <span data-ttu-id="d5a26-268">Essa imagem deve ser uma imagem que você pode ver claramente quando ele é definido como 80 pixels de largura e 20 pixels de altura.</span><span class="sxs-lookup"><span data-stu-id="d5a26-268">This image should be an image that you can see clearly when it's set to 80 pixels wide and 20 pixels high.</span></span>
3. <span data-ttu-id="d5a26-269">Substitua o conteúdo existente na página com o seguinte:</span><span class="sxs-lookup"><span data-stu-id="d5a26-269">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample9.cshtml)]

    <span data-ttu-id="d5a26-270">Essa é uma variação no código dos exemplos anteriores.</span><span class="sxs-lookup"><span data-stu-id="d5a26-270">This is another variation on the code from earlier examples.</span></span> <span data-ttu-id="d5a26-271">Nesse caso, você chama `AddImageWatermark` para adicionar a imagem de marca d'água à imagem de destino (*Photo3.jpg*) antes de salvar a imagem.</span><span class="sxs-lookup"><span data-stu-id="d5a26-271">In this case, you call `AddImageWatermark` to add the watermark image to the target image (*Photo3.jpg*) before you save the image.</span></span> <span data-ttu-id="d5a26-272">Quando você chama `AddImageWatermark`, defina-a para 80 pixels e a altura como 20 pixels.</span><span class="sxs-lookup"><span data-stu-id="d5a26-272">When you call `AddImageWatermark`, you set its width to 80 pixels and the height to 20 pixels.</span></span> <span data-ttu-id="d5a26-273">O *MyCompanyLogo.jpg* imagem é alinhada horizontalmente no centro e alinhada verticalmente na parte inferior da imagem de destino.</span><span class="sxs-lookup"><span data-stu-id="d5a26-273">The *MyCompanyLogo.jpg* image is horizontally aligned in the center and vertically aligned at the bottom of the target image.</span></span> <span data-ttu-id="d5a26-274">A opacidade é definida como 100% e o preenchimento é definido para 10 pixels.</span><span class="sxs-lookup"><span data-stu-id="d5a26-274">The opacity is set to 100% and the padding is set to 10 pixels.</span></span> <span data-ttu-id="d5a26-275">Se a imagem de marca d'água é maior do que a imagem de destino, nada acontecerá.</span><span class="sxs-lookup"><span data-stu-id="d5a26-275">If the watermark image is bigger than the target image, nothing will happen.</span></span> <span data-ttu-id="d5a26-276">Se a imagem de marca d'água é maior do que a imagem de destino e definir o preenchimento da marca d'água de imagem como zero, a marca d'água será ignorada.</span><span class="sxs-lookup"><span data-stu-id="d5a26-276">If the watermark image is bigger than the target image and you set the padding for the image watermark to zero, the watermark is ignored.</span></span>

    <span data-ttu-id="d5a26-277">Como antes, você exibe a imagem usando o `<img>` elemento e um dinâmico `src` atributo.</span><span class="sxs-lookup"><span data-stu-id="d5a26-277">As before, you display the image using the `<img>` element and a dynamic `src` attribute.</span></span>
4. <span data-ttu-id="d5a26-278">Execute a página em um navegador.</span><span class="sxs-lookup"><span data-stu-id="d5a26-278">Run the page in a browser.</span></span> <span data-ttu-id="d5a26-279">Observe que a imagem de marca d'água aparece na parte inferior da imagem principal.</span><span class="sxs-lookup"><span data-stu-id="d5a26-279">Notice that the watermark image appears at the bottom of the main image.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="d5a26-280">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="d5a26-280">Additional Resources</span></span>


[<span data-ttu-id="d5a26-281">Trabalhando com arquivos em um Site de páginas da Web do ASP.NET</span><span class="sxs-lookup"><span data-stu-id="d5a26-281">Working with Files in an ASP.NET Web Pages Site</span></span>](https://go.microsoft.com/fwlink/?LinkId=202896)

[<span data-ttu-id="d5a26-282">Introdução a páginas da Web ASP.NET usando a sintaxe do Razor de programação</span><span class="sxs-lookup"><span data-stu-id="d5a26-282">Introduction to ASP.NET Web Pages Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=251587)
