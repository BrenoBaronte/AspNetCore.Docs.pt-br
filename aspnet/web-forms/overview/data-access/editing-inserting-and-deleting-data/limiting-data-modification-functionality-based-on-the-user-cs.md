---
uid: web-forms/overview/data-access/editing-inserting-and-deleting-data/limiting-data-modification-functionality-based-on-the-user-cs
title: "Limitar a funcionalidade de modificação de dados com base no usuário (c#) | Microsoft Docs"
author: rick-anderson
description: "Em um aplicativo web que permite aos usuários editar dados, contas de usuário diferentes podem ter privilégios de edição de dados diferentes. Neste tutorial, examinaremos como t..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 07/17/2006
ms.topic: article
ms.assetid: 2b251c82-77cf-4e36-baa9-b648eddaa394
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/editing-inserting-and-deleting-data/limiting-data-modification-functionality-based-on-the-user-cs
msc.type: authoredcontent
ms.openlocfilehash: 44d0c192e082a7ad123096acb57fd053f6dcaeb1
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/10/2017
---
<a name="limiting-data-modification-functionality-based-on-the-user-c"></a><span data-ttu-id="4b4c8-104">Limitar a funcionalidade de modificação de dados com base no usuário (c#)</span><span class="sxs-lookup"><span data-stu-id="4b4c8-104">Limiting Data Modification Functionality Based on the User (C#)</span></span>
====================
<span data-ttu-id="4b4c8-105">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="4b4c8-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="4b4c8-106">[Baixe o aplicativo de exemplo](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_23_CS.exe) ou [baixar PDF](limiting-data-modification-functionality-based-on-the-user-cs/_static/datatutorial23cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="4b4c8-106">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_23_CS.exe) or [Download PDF](limiting-data-modification-functionality-based-on-the-user-cs/_static/datatutorial23cs1.pdf)</span></span>

> <span data-ttu-id="4b4c8-107">Em um aplicativo web que permite aos usuários editar dados, contas de usuário diferentes podem ter privilégios de edição de dados diferentes.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-107">In a web application that allows users to edit data, different user accounts may have different data-editing privileges.</span></span> <span data-ttu-id="4b4c8-108">Neste tutorial, examinaremos como ajustar dinamicamente as capacidades de modificação de dados com base no usuário visitante.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-108">In this tutorial we'll examine how to dynamically adjust the data modification capabilities based on the visiting user.</span></span>


## <a name="introduction"></a><span data-ttu-id="4b4c8-109">Introdução</span><span class="sxs-lookup"><span data-stu-id="4b4c8-109">Introduction</span></span>

<span data-ttu-id="4b4c8-110">Um número de aplicativos da web dá suporte a contas de usuário e fornece opções diferentes, relatórios e recursos com base no usuário conectado.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-110">A number of web applications support user accounts and provide different options, reports, and functionality based on the logged in user.</span></span> <span data-ttu-id="4b4c8-111">Por exemplo, com nossos tutoriais podemos desejar permitir que os usuários das empresas supplier fazer logon para as atualização de site e informações gerais sobre seus produtos - o nome e a quantidade por unidade, talvez - juntamente com informações do fornecedor, como o nome da sua empresa, endereço, informações de contato s e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-111">For example, with our tutorials we might want to allow users from the supplier companies to log on to the site and update general information about their products - their name and quantity per unit, perhaps - along with supplier information, such as their company name, address, the contact person s information, and so on.</span></span> <span data-ttu-id="4b4c8-112">Além disso, é aconselhável incluir algumas contas de usuário para pessoas de nossa empresa para que eles possam fazer logon e atualizar informações de produto, como unidades em estoque, nível de estoque e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-112">Furthermore, we might want to include some user accounts for people from our company so that they can log on and update product information like units on stock, reorder level, and so forth.</span></span> <span data-ttu-id="4b4c8-113">Nosso aplicativo web também pode permitir que usuários anônimos visite (pessoas que não fizeram logon), mas limita para exibir apenas os dados.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-113">Our web application might also allow anonymous users to visit (people who have not logged on), but would limit them to just viewing data.</span></span> <span data-ttu-id="4b4c8-114">Com esse usuário conta sistema em vigor, queremos os dados de controles da Web em páginas ASP.NET para oferecer a inserir, editar e excluir recursos apropriados para o usuário conectado no momento.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-114">With such a user account system in place, we would want the data Web controls in our ASP.NET pages to offer the inserting, editing, and deleting capabilities appropriate for the currently logged on user.</span></span>

<span data-ttu-id="4b4c8-115">Neste tutorial, examinaremos como ajustar dinamicamente as capacidades de modificação de dados com base no usuário visitante.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-115">In this tutorial we'll examine how to dynamically adjust the data modification capabilities based on the visiting user.</span></span> <span data-ttu-id="4b4c8-116">Em particular, vamos criar uma página que exibe as informações de fornecedores em um DetailsView editável junto com um controle GridView que lista os produtos fornecidos pelo fornecedor.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-116">In particular, we'll create a page that displays the suppliers information in an editable DetailsView along with a GridView that lists the products provided by the supplier.</span></span> <span data-ttu-id="4b4c8-117">Se o usuário visitar a página for de nossa empresa, eles podem: exibir quaisquer informações de fornecedor s; Editar seu endereço; e editar as informações para qualquer produto fornecida pelo fornecedor.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-117">If the user visiting the page is from our company, they can: view any supplier s information; edit their address; and edit the information for any product provided by the supplier.</span></span> <span data-ttu-id="4b4c8-118">Se, no entanto, o usuário é de uma empresa específica, eles só podem exibir e editar suas próprias informações de endereço e só pode editar seus produtos que não foram marcados como descontinuado.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-118">If, however, the user is from a particular company, they can only view and edit their own address information and can only edit their products that have not been marked as discontinued.</span></span>


<span data-ttu-id="4b4c8-119">[![Um usuário de nossa empresa pode editar qualquer informação de s do fornecedor](limiting-data-modification-functionality-based-on-the-user-cs/_static/image2.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="4b4c8-119">[![A User from Our Company Can Edit Any Supplier s Information](limiting-data-modification-functionality-based-on-the-user-cs/_static/image2.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image1.png)</span></span>

<span data-ttu-id="4b4c8-120">**Figura 1**: um usuário de nossa empresa pode editar qualquer fornecedor s informações ([clique para exibir a imagem em tamanho normal](limiting-data-modification-functionality-based-on-the-user-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="4b4c8-120">**Figure 1**: A User from Our Company Can Edit Any Supplier s Information ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image3.png))</span></span>


<span data-ttu-id="4b4c8-121">[![Um usuário de um fornecedor específico somente podem exibir e editar suas informações](limiting-data-modification-functionality-based-on-the-user-cs/_static/image5.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="4b4c8-121">[![A User from a Particular Supplier Can Only View and Edit their Information](limiting-data-modification-functionality-based-on-the-user-cs/_static/image5.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image4.png)</span></span>

<span data-ttu-id="4b4c8-122">**Figura 2**: um usuário de um determinado fornecedor podem apenas exibir e editar suas informações ([clique para exibir a imagem em tamanho normal](limiting-data-modification-functionality-based-on-the-user-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="4b4c8-122">**Figure 2**: A User from a Particular Supplier Can Only View and Edit their Information ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image6.png))</span></span>


<span data-ttu-id="4b4c8-123">Permitir que o s começar!</span><span class="sxs-lookup"><span data-stu-id="4b4c8-123">Let s get started!</span></span>

> [!NOTE]
> <span data-ttu-id="4b4c8-124">O ASP.NET 2.0 s sistema de associação fornece uma plataforma extensível padronizada para criar, gerenciar e validar as contas de usuário.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-124">ASP.NET 2.0 s membership system provides a standardized, extensible platform for creating, managing, and validating user accounts.</span></span> <span data-ttu-id="4b4c8-125">Como um exame do sistema de associação está além do escopo esses tutoriais, este tutorial em vez disso, "fakes" associação, permitindo que os visitantes anônimos escolher se eles são de um fornecedor específico ou de nossa empresa.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-125">Since an examination of the membership system is beyond the scope of these tutorials, this tutorial instead "fakes" membership by allowing anonymous visitors to choose whether they are from a particular supplier or from our company.</span></span> <span data-ttu-id="4b4c8-126">Para obter mais informações sobre associação, consulte Meus [examinando o ASP.NET 2.0 s associação, funções e perfil](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx) série do artigo.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-126">For more on membership, refer to my [Examining ASP.NET 2.0 s Membership, Roles, and Profile](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx) article series.</span></span>


## <a name="step-1-allowing-the-user-to-specify-their-access-rights"></a><span data-ttu-id="4b4c8-127">Etapa 1: Permitir que o usuário especifique seus direitos de acesso</span><span class="sxs-lookup"><span data-stu-id="4b4c8-127">Step 1: Allowing the User to Specify their Access Rights</span></span>

<span data-ttu-id="4b4c8-128">Em um aplicativo web do mundo real, um informações de conta do usuário s incluiria se elas funcionaram para nossa empresa ou para um fornecedor específico, e essas informações estariam acessíveis por meio de programação de nossas páginas ASP.NET quando o usuário faz logon no site.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-128">In a real-world web application, a user s account information would include whether they worked for our company or for a particular supplier, and this information would be programmatically accessible from our ASP.NET pages once the user has logged on to the site.</span></span> <span data-ttu-id="4b4c8-129">Essa informação pode ser capturada por meio do sistema de funções do ASP.NET 2.0 s, como informações da conta de nível de usuário por meio do sistema de perfil, ou por meio de alguma maneira personalizada.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-129">This information could be captured through ASP.NET 2.0 s roles system, as user-level account information through the profile system, or through some custom means.</span></span>

<span data-ttu-id="4b4c8-130">Como o objetivo deste tutorial é demonstrar ajustando as capacidades de modificação de dados com base no usuário conectado e não é destinado a associação de s showcase ASP.NET 2.0, funções e sistemas de perfil, vamos usar um mecanismo muito simples para determinar o recursos para o usuário visitar a página - DropDownList do qual o usuário pode indicar se eles devem ser capazes de exibir e editar qualquer uma das informações de fornecedores ou, Alternativamente, o que informações de fornecedor específico s, eles podem exibir e editar.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-130">Since the aim of this tutorial is to demonstrate adjusting the data modification capabilities based on the logged on user, and is not meant to showcase ASP.NET 2.0 s membership, roles, and profile systems, we'll use a very simply mechanism to determine the capabilities for the user visiting the page - a DropDownList from which the user can indicate if they should be able to view and edit any of the suppliers information or, alternatively, what particular supplier s information they can view and edit.</span></span> <span data-ttu-id="4b4c8-131">Se o usuário indica que ela pode exibir e editar todas as informações do fornecedor (o padrão), ela pode ver todos os fornecedores, editar informações de endereço do fornecedor s e edite o nome e a quantidade por unidade de qualquer produto fornecida pelo fornecedor selecionado.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-131">If the user indicates that she can view and edit all supplier information (the default), she can page through all suppliers, edit any supplier s address information, and edit the name and quantity per unit for any product provided by the selected supplier.</span></span> <span data-ttu-id="4b4c8-132">Se o usuário indica que ela só pode exibir e editar um fornecedor específico, no entanto, em seguida, ela só pode exibir os detalhes e produtos para que um fornecedor e só pode atualizar o nome e a quantidade de informações de unidade para os produtos que são por *não* descontinuado.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-132">If the user indicates that she can only view and edit a particular supplier, however, then she can only view the details and products for that one supplier and can only update the name and quantity per unit information for those products that are *not* discontinued.</span></span>

<span data-ttu-id="4b4c8-133">A primeira etapa neste tutorial, em seguida, é criar este DropDownList e preenchê-la com os fornecedores no sistema.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-133">Our first step in this tutorial, then, is to create this DropDownList and populate it with the suppliers in the system.</span></span> <span data-ttu-id="4b4c8-134">Abra o `UserLevelAccess.aspx` página o `EditInsertDelete` pasta, adicionar DropDownList cujo `ID` está definida como `Suppliers`e associar esse DropDownList para um novo ObjectDataSource denominado `AllSuppliersDataSource`.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-134">Open the `UserLevelAccess.aspx` page in the `EditInsertDelete` folder, add a DropDownList whose `ID` property is set to `Suppliers`, and bind this DropDownList to a new ObjectDataSource named `AllSuppliersDataSource`.</span></span>


<span data-ttu-id="4b4c8-135">[![Criar um novo ObjectDataSource denominado AllSuppliersDataSource](limiting-data-modification-functionality-based-on-the-user-cs/_static/image8.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="4b4c8-135">[![Create a New ObjectDataSource Named AllSuppliersDataSource](limiting-data-modification-functionality-based-on-the-user-cs/_static/image8.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image7.png)</span></span>

<span data-ttu-id="4b4c8-136">**Figura 3**: criar um novo ObjectDataSource nomeado `AllSuppliersDataSource` ([clique para exibir a imagem em tamanho normal](limiting-data-modification-functionality-based-on-the-user-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="4b4c8-136">**Figure 3**: Create a New ObjectDataSource Named `AllSuppliersDataSource` ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image9.png))</span></span>


<span data-ttu-id="4b4c8-137">Como queremos que este DropDownList para incluir todos os fornecedores, configurar o ObjectDataSource para invocar o `SuppliersBLL` classe s `GetSuppliers()` método.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-137">Since we want this DropDownList to include all suppliers, configure the ObjectDataSource to invoke the `SuppliersBLL` class s `GetSuppliers()` method.</span></span> <span data-ttu-id="4b4c8-138">Também verifique se o s ObjectDataSource `Update()` método é mapeado para o `SuppliersBLL` classe s `UpdateSupplierAddress` método, como essa ObjectDataSource também será usado por DetailsView incluiremos na etapa 2.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-138">Also ensure that the ObjectDataSource s `Update()` method is mapped to the `SuppliersBLL` class s `UpdateSupplierAddress` method, as this ObjectDataSource will also be used by the DetailsView we'll be adding in Step 2.</span></span>

<span data-ttu-id="4b4c8-139">Depois de concluir o assistente ObjectDataSource, conclua as etapas ao configurar o `Suppliers` DropDownList, de modo que ela mostra o `CompanyName` campo de dados e usa o `SupplierID` campo de dados como o valor para cada `ListItem`.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-139">After completing the ObjectDataSource wizard, complete the steps by configuring the `Suppliers` DropDownList such that it shows the `CompanyName` data field and uses the `SupplierID` data field as the value for each `ListItem`.</span></span>


<span data-ttu-id="4b4c8-140">[![Configurar a DropDownList de fornecedores para usar o CompanyName e campos de dados SupplierID](limiting-data-modification-functionality-based-on-the-user-cs/_static/image11.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="4b4c8-140">[![Configure the Suppliers DropDownList to Use the CompanyName and SupplierID Data Fields](limiting-data-modification-functionality-based-on-the-user-cs/_static/image11.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image10.png)</span></span>

<span data-ttu-id="4b4c8-141">**Figura 4**: configurar o `Suppliers` DropDownList para usar o `CompanyName` e `SupplierID` campos de dados ([clique para exibir a imagem em tamanho normal](limiting-data-modification-functionality-based-on-the-user-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="4b4c8-141">**Figure 4**: Configure the `Suppliers` DropDownList to Use the `CompanyName` and `SupplierID` Data Fields ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image12.png))</span></span>


<span data-ttu-id="4b4c8-142">Neste ponto, DropDownList lista os nomes de empresa dos fornecedores no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-142">At this point, the DropDownList lists the company names of the suppliers in the database.</span></span> <span data-ttu-id="4b4c8-143">No entanto, também é preciso incluir uma opção "Mostrar/editar todos os fornecedores" DropDownList.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-143">However, we also need to include a "Show/Edit ALL Suppliers" option to the DropDownList.</span></span> <span data-ttu-id="4b4c8-144">Para fazer isso, defina o `Suppliers` DropDownList s `AppendDataBoundItems` propriedade `true` e, em seguida, adicione um `ListItem` cujo `Text` propriedade é "Mostrar/editar todos os fornecedores" e cujo valor é `-1`.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-144">To accomplish this, set the `Suppliers` DropDownList s `AppendDataBoundItems` property to `true` and then add a `ListItem` whose `Text` property is "Show/Edit ALL Suppliers" and whose value is `-1`.</span></span> <span data-ttu-id="4b4c8-145">Isso pode ser adicionado diretamente por meio de marcação declarativa ou por meio do Designer indo para a janela Propriedades e clicando nas elipses em s DropDownList `Items` propriedade.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-145">This can be added directly through the declarative markup or through the Designer by going to the Properties window and clicking on the ellipses in the DropDownList s `Items` property.</span></span>

> [!NOTE]
> <span data-ttu-id="4b4c8-146">Voltar para o [ *filtragem de mestre/detalhes com um DropDownList* ](../masterdetail/master-detail-filtering-with-a-dropdownlist-cs.md) tutorial para uma discussão mais detalhada sobre como adicionar um item Selecionar tudo para uma ligação de dados DropDownList.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-146">Refer back to the [*Master/Detail Filtering With a DropDownList*](../masterdetail/master-detail-filtering-with-a-dropdownlist-cs.md) tutorial for a more detailed discussion on adding a Select All item to a databound DropDownList.</span></span>


<span data-ttu-id="4b4c8-147">Após o `AppendDataBoundItems` propriedade foi definida e o `ListItem` adicionado, a marcação declarativa de s DropDownList deve parecer com:</span><span class="sxs-lookup"><span data-stu-id="4b4c8-147">After the `AppendDataBoundItems` property has been set and the `ListItem` added, the DropDownList s declarative markup should look like:</span></span>


[!code-aspx[Main](limiting-data-modification-functionality-based-on-the-user-cs/samples/sample1.aspx)]

<span data-ttu-id="4b4c8-148">A Figura 5 mostra uma captura de tela de nosso progresso atual, quando visualizada através de um navegador.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-148">Figure 5 shows a screen shot of our current progress, when viewed through a browser.</span></span>


<span data-ttu-id="4b4c8-149">[![DropDownList fornecedores contém uma apresentação ListItem todos, mais um para cada fornecedor](limiting-data-modification-functionality-based-on-the-user-cs/_static/image14.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="4b4c8-149">[![The Suppliers DropDownList Contains a Show ALL ListItem, Plus One for Each Supplier](limiting-data-modification-functionality-based-on-the-user-cs/_static/image14.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image13.png)</span></span>

<span data-ttu-id="4b4c8-150">**Figura 5**: O `Suppliers` DropDownList contém um Mostrar tudo `ListItem`, além de um para cada fornecedor ([clique para exibir a imagem em tamanho normal](limiting-data-modification-functionality-based-on-the-user-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="4b4c8-150">**Figure 5**: The `Suppliers` DropDownList Contains a Show ALL `ListItem`, Plus One for Each Supplier ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image15.png))</span></span>


<span data-ttu-id="4b4c8-151">Como queremos atualizar a interface do usuário imediatamente depois que o usuário alterou sua seleção, defina o `Suppliers` DropDownList s `AutoPostBack` propriedade `true`.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-151">Since we want to update the user interface immediately after the user has changed their selection, set the `Suppliers` DropDownList s `AutoPostBack` property to `true`.</span></span> <span data-ttu-id="4b4c8-152">Na etapa 2, criaremos um controle DetailsView que mostrará as informações para o supplier(s) com base na seleção DropDownList.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-152">In Step 2 we'll create a DetailsView control that will show the information for the supplier(s) based on the DropDownList selection.</span></span> <span data-ttu-id="4b4c8-153">Em seguida, na etapa 3, vamos criar um manipulador de eventos para este s DropDownList `SelectedIndexChanged` evento, em que vamos adicionar código que associa as informações do fornecedor apropriado para o DetailsView com base no fornecedor selecionado.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-153">Then, in Step 3, we'll create an event handler for this DropDownList s `SelectedIndexChanged` event, in which we'll add code that binds the appropriate supplier information to the DetailsView based upon the selected supplier.</span></span>

## <a name="step-2-adding-a-detailsview-control"></a><span data-ttu-id="4b4c8-154">Etapa 2: Adicionando um controle DetailsView</span><span class="sxs-lookup"><span data-stu-id="4b4c8-154">Step 2: Adding a DetailsView Control</span></span>

<span data-ttu-id="4b4c8-155">Permitir que o s use um DetailsView para mostrar informações de fornecedor.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-155">Let s use a DetailsView to show supplier information.</span></span> <span data-ttu-id="4b4c8-156">Para o usuário que pode exibir e editar todos os fornecedores, DetailsView dará suporte a paginação, permitindo que o usuário percorrer a um registro do fornecedor informações cada vez.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-156">For the user who can view and edit all suppliers, the DetailsView will support paging, allowing the user to step through the supplier information one record at a time.</span></span> <span data-ttu-id="4b4c8-157">Se o usuário trabalha para um fornecedor específico, no entanto, DetailsView mostrará apenas esse fornecedor específico informações e não incluem uma interface de paginação.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-157">If the user works for a particular supplier, however, the DetailsView will show only that particular supplier s information and will not include a paging interface.</span></span> <span data-ttu-id="4b4c8-158">Em ambos os casos, DetailsView deve permitir que o usuário edite o fornecedor s endereço, cidade e campos de país.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-158">In either case, the DetailsView needs to allow the user to edit the supplier s address, city, and country fields.</span></span>

<span data-ttu-id="4b4c8-159">Adicionar um DetailsView para a página abaixo o `Suppliers` DropDownList, defina seu `ID` propriedade `SupplierDetails`e associá-lo para o `AllSuppliersDataSource` ObjectDataSource criado na etapa anterior.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-159">Add a DetailsView to the page beneath the `Suppliers` DropDownList, set its `ID` property to `SupplierDetails`, and bind it to the `AllSuppliersDataSource` ObjectDataSource created in the previous step.</span></span> <span data-ttu-id="4b4c8-160">Em seguida, marque as caixas de seleção Habilitar paginação e habilitar edição de marca inteligente s DetailsView.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-160">Next, check the Enable Paging and Enable Editing checkboxes from the DetailsView s smart tag.</span></span>

> [!NOTE]
> <span data-ttu-id="4b4c8-161">Se uma opção de habilitar edição em DetailsView s inteligente de ver don t rotulá-lo s porque você não especificou o s ObjectDataSource `Update()` método para o `SuppliersBLL` classe s `UpdateSupplierAddress` método.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-161">If you don t see an Enable Editing option in the DetailsView s smart tag it s because you did not map the ObjectDataSource s `Update()` method to the `SuppliersBLL` class s `UpdateSupplierAddress` method.</span></span> <span data-ttu-id="4b4c8-162">Dedique alguns momentos para voltar e alterar essa configuração, após o qual a opção Habilitar edição deve aparecer na marca inteligente s DetailsView.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-162">Take a moment to go back and make this configuration change, after which the Enable Editing option should appear in the DetailsView s smart tag.</span></span>


<span data-ttu-id="4b4c8-163">Como o `SuppliersBLL` classe s `UpdateSupplierAddress` método só aceita quatro parâmetros - `supplierID`, `address`, `city`, e `country` -modificar a s DetailsView BoundFields para que o `CompanyName` e `Phone` BoundFields são somente leitura.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-163">Since the `SuppliersBLL` class s `UpdateSupplierAddress` method only accepts four parameters - `supplierID`, `address`, `city`, and `country` - modify the DetailsView s BoundFields so that the `CompanyName` and `Phone` BoundFields are read-only.</span></span> <span data-ttu-id="4b4c8-164">Além disso, remova o `SupplierID` BoundField ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-164">Additionally, remove the `SupplierID` BoundField altogether.</span></span> <span data-ttu-id="4b4c8-165">Por fim, o `AllSuppliersDataSource` ObjectDataSource atualmente tem seu `OldValuesParameterFormatString` propriedade definida como `original_{0}`.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-165">Finally, the `AllSuppliersDataSource` ObjectDataSource currently has its `OldValuesParameterFormatString` property set to `original_{0}`.</span></span> <span data-ttu-id="4b4c8-166">Reserve um tempo para remover essa configuração de propriedade de totalmente a sintaxe declarativa ou defina-o como o valor padrão, `{0}`.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-166">Take a moment to remove this property setting from the declarative syntax altogether, or set it to the default value, `{0}`.</span></span>

<span data-ttu-id="4b4c8-167">Depois de configurar o `SupplierDetails` DetailsView e `AllSuppliersDataSource` ObjectDataSource, teremos a seguinte marcação declarativa:</span><span class="sxs-lookup"><span data-stu-id="4b4c8-167">After configuring the `SupplierDetails` DetailsView and `AllSuppliersDataSource` ObjectDataSource, we will have the following declarative markup:</span></span>


[!code-aspx[Main](limiting-data-modification-functionality-based-on-the-user-cs/samples/sample2.aspx)]

<span data-ttu-id="4b4c8-168">Neste momento pode ser paginada DetailsView por meio e as informações de endereço do fornecedor selecionado s podem ser atualizadas, independentemente da seleção feita no `Suppliers` DropDownList (veja a Figura 6).</span><span class="sxs-lookup"><span data-stu-id="4b4c8-168">At this point the DetailsView can be paged through and the selected supplier s address information can be updated, regardless of the selection made in the `Suppliers` DropDownList (see Figure 6).</span></span>


<span data-ttu-id="4b4c8-169">[![Quaisquer informações de fornecedores podem ser exibidas e seu endereço atualizado](limiting-data-modification-functionality-based-on-the-user-cs/_static/image17.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="4b4c8-169">[![Any Suppliers Information Can Be Viewed, and Its Address Updated](limiting-data-modification-functionality-based-on-the-user-cs/_static/image17.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image16.png)</span></span>

<span data-ttu-id="4b4c8-170">**Figura 6**: Any fornecedores informações podem ser exibidas e seu endereço atualizado ([clique para exibir a imagem em tamanho normal](limiting-data-modification-functionality-based-on-the-user-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="4b4c8-170">**Figure 6**: Any Suppliers Information Can Be Viewed, and Its Address Updated ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image18.png))</span></span>


## <a name="step-3-displaying-only-the-selected-supplier-s-information"></a><span data-ttu-id="4b4c8-171">Etapa 3: Exibir apenas as informações do fornecedor selecionado s</span><span class="sxs-lookup"><span data-stu-id="4b4c8-171">Step 3: Displaying Only the Selected Supplier s Information</span></span>

<span data-ttu-id="4b4c8-172">Atualmente, nossa página exibe as informações para todos os fornecedores, independentemente se um fornecedor específico foi selecionado o `Suppliers` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-172">Our page currently displays the information for all suppliers regardless of whether a particular supplier has been selected from the `Suppliers` DropDownList.</span></span> <span data-ttu-id="4b4c8-173">Para exibir apenas as informações do fornecedor para o fornecedor selecionado precisamos adicionar outro ObjectDataSource para nossa página, que recupera informações sobre um fornecedor específico.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-173">In order to display just the supplier information for the selected supplier we need to add another ObjectDataSource to our page, one that retrieves information about a particular supplier.</span></span>

<span data-ttu-id="4b4c8-174">Adicionar um novo ObjectDataSource para a página, nomeando- `SingleSupplierDataSource`.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-174">Add a new ObjectDataSource to the page, naming it `SingleSupplierDataSource`.</span></span> <span data-ttu-id="4b4c8-175">De marca inteligente, clique no link configurar fonte de dados e fazer com que ele use o `SuppliersBLL` classe s `GetSupplierBySupplierID(supplierID)` método.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-175">From its smart tag, click the Configure Data Source link and have it use the `SuppliersBLL` class s `GetSupplierBySupplierID(supplierID)` method.</span></span> <span data-ttu-id="4b4c8-176">Assim como acontece com o `AllSuppliersDataSource` ObjectDataSource, ter o `SingleSupplierDataSource` ObjectDataSource s `Update()` método mapeado para o `SuppliersBLL` classe s `UpdateSupplierAddress` método.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-176">As with the `AllSuppliersDataSource` ObjectDataSource, have the `SingleSupplierDataSource` ObjectDataSource s `Update()` method mapped to the `SuppliersBLL` class s `UpdateSupplierAddress` method.</span></span>


<span data-ttu-id="4b4c8-177">[![Configurar o SingleSupplierDataSource ObjectDataSource para usar o método GetSupplierBySupplierID(supplierID)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image20.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="4b4c8-177">[![Configure the SingleSupplierDataSource ObjectDataSource to Use the GetSupplierBySupplierID(supplierID) Method](limiting-data-modification-functionality-based-on-the-user-cs/_static/image20.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image19.png)</span></span>

<span data-ttu-id="4b4c8-178">**Figura 7**: configurar o `SingleSupplierDataSource` ObjectDataSource para usar o `GetSupplierBySupplierID(supplierID)` método ([clique para exibir a imagem em tamanho normal](limiting-data-modification-functionality-based-on-the-user-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="4b4c8-178">**Figure 7**: Configure the `SingleSupplierDataSource` ObjectDataSource to Use the `GetSupplierBySupplierID(supplierID)` Method ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image21.png))</span></span>


<span data-ttu-id="4b4c8-179">Em seguida, podemos re solicitado para especificar a origem de parâmetro para o `GetSupplierBySupplierID(supplierID)` método s `supplierID` parâmetro de entrada.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-179">Next, we re prompted to specify the parameter source for the `GetSupplierBySupplierID(supplierID)` method s `supplierID` input parameter.</span></span> <span data-ttu-id="4b4c8-180">Como queremos mostrar as informações para o fornecedor selecionado na lista suspensa, use o `Suppliers` DropDownList s `SelectedValue` propriedade como a origem do parâmetro.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-180">Since we want to show the information for the supplier selected from the DropDownList, use the `Suppliers` DropDownList s `SelectedValue` property as the parameter source.</span></span>


<span data-ttu-id="4b4c8-181">[![Usar DropDownList fornecedores como a origem do parâmetro supplierID](limiting-data-modification-functionality-based-on-the-user-cs/_static/image23.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="4b4c8-181">[![Use the Suppliers DropDownList as the supplierID Parameter Source](limiting-data-modification-functionality-based-on-the-user-cs/_static/image23.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image22.png)</span></span>

<span data-ttu-id="4b4c8-182">**Figura 8**: Use o `Suppliers` DropDownList como o `supplierID` origem do parâmetro ([clique para exibir a imagem em tamanho normal](limiting-data-modification-functionality-based-on-the-user-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="4b4c8-182">**Figure 8**: Use the `Suppliers` DropDownList as the `supplierID` Parameter Source ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image24.png))</span></span>


<span data-ttu-id="4b4c8-183">Mesmo com essa segunda ObjectDataSource adicionado, o controle DetailsView está configurado para usar sempre o `AllSuppliersDataSource` ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-183">Even with this second ObjectDataSource added, the DetailsView control is currently configured to always use the `AllSuppliersDataSource` ObjectDataSource.</span></span> <span data-ttu-id="4b4c8-184">Precisamos adicionar lógica para ajustar a fonte de dados usada por DetailsView dependendo do `Suppliers` DropDownList item selecionado.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-184">We need to add logic to adjust the data source used by the DetailsView depending on the `Suppliers` DropDownList item selected.</span></span> <span data-ttu-id="4b4c8-185">Para fazer isso, crie um `SelectedIndexChanged` DropDownList fornecedores manipulador de eventos.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-185">To accomplish this, create a `SelectedIndexChanged` event handler for the Suppliers DropDownList.</span></span> <span data-ttu-id="4b4c8-186">Isso pode ser criado facilmente clicando duas vezes em DropDownList no Designer.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-186">This can most easily be created by double-clicking the DropDownList in the Designer.</span></span> <span data-ttu-id="4b4c8-187">Este manipulador de eventos precisa determinar qual fonte de dados a ser usado e deve associar novamente os dados de DetailsView.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-187">This event handler needs to determine what data source to use and must rebind the data to the DetailsView.</span></span> <span data-ttu-id="4b4c8-188">Isso é feito com o código a seguir:</span><span class="sxs-lookup"><span data-stu-id="4b4c8-188">This is accomplished with the following code:</span></span>


[!code-csharp[Main](limiting-data-modification-functionality-based-on-the-user-cs/samples/sample3.cs)]

<span data-ttu-id="4b4c8-189">O manipulador de eventos começa, determinando se a opção "Mostrar/editar todos os fornecedores" foi selecionada.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-189">The event handler begins by determining whether the "Show/Edit ALL Suppliers" option was selected.</span></span> <span data-ttu-id="4b4c8-190">Se ela foi, ele define o `SupplierDetails` DetailsView s `DataSourceID` para `AllSuppliersDataSource` e retorna o usuário para o primeiro registro no conjunto de fornecedores, definindo o `PageIndex` propriedade como 0.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-190">If it was, it sets the `SupplierDetails` DetailsView s `DataSourceID` to `AllSuppliersDataSource` and returns the user to the first record in the set of suppliers by setting the `PageIndex` property to 0.</span></span> <span data-ttu-id="4b4c8-191">Se, no entanto, o usuário selecionou um fornecedor específico na lista suspensa, o s DetailsView `DataSourceID` é atribuído a `SingleSuppliersDataSource`.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-191">If, however, the user has selected a particular supplier from the DropDownList, the DetailsView s `DataSourceID` is assigned to `SingleSuppliersDataSource`.</span></span> <span data-ttu-id="4b4c8-192">Independentemente de quais dados de origem for usada, o `SuppliersDetails` modo é revertido para o modo somente leitura e os dados é vinculada outra vez a DetailsView por uma chamada para o `SuppliersDetails` controle s `DataBind()` método.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-192">Regardless of what data source is used, the `SuppliersDetails` mode is reverted back to the read-only mode and the data is rebound to the DetailsView by a call to the `SuppliersDetails` control s `DataBind()` method.</span></span>

<span data-ttu-id="4b4c8-193">Com este manipulador de eventos em vigor, o controle DetailsView agora mostra o fornecedor selecionado, a menos que a opção "Mostrar/editar todos os fornecedores" foi selecionada, caso em que todos os fornecedores podem ser exibidos por meio da interface de paginação.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-193">With this event handler in place, the DetailsView control now shows the selected supplier, unless the "Show/Edit ALL Suppliers" option was selected, in which case all of the suppliers can be viewed through the paging interface.</span></span> <span data-ttu-id="4b4c8-194">A Figura 9 mostra a página com a opção "Mostrar/editar todos os fornecedores" selecionada. Observe que a interface de paginação está presente, permitindo que o usuário acesse e atualize qualquer fornecedor.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-194">Figure 9 shows the page with the "Show/Edit ALL Suppliers" option selected; note that the paging interface is present, allowing the user to visit and update any supplier.</span></span> <span data-ttu-id="4b4c8-195">A Figura 10 mostra a página com o fornecedor de Ma Maison selecionado.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-195">Figure 10 shows the page with the Ma Maison supplier selected.</span></span> <span data-ttu-id="4b4c8-196">Apenas informações de s Ma Maison são visível e editável nesse caso.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-196">Only Ma Maison s information is viewable and editable in this case.</span></span>


<span data-ttu-id="4b4c8-197">[![Todas as informações de fornecedores podem ser exibidas e editadas](limiting-data-modification-functionality-based-on-the-user-cs/_static/image26.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="4b4c8-197">[![All of the Suppliers Information Can Be Viewed and Edited](limiting-data-modification-functionality-based-on-the-user-cs/_static/image26.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image25.png)</span></span>

<span data-ttu-id="4b4c8-198">**Figura 9**: todos os fornecedores informações podem ser exibidas e editada ([clique para exibir a imagem em tamanho normal](limiting-data-modification-functionality-based-on-the-user-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="4b4c8-198">**Figure 9**: All of the Suppliers Information Can Be Viewed and Edited ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image27.png))</span></span>


<span data-ttu-id="4b4c8-199">[![Somente as informações do fornecedor selecionado s podem ser exibidas e editadas](limiting-data-modification-functionality-based-on-the-user-cs/_static/image29.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="4b4c8-199">[![Only the Selected Supplier s Information Can Be Viewed and Edited](limiting-data-modification-functionality-based-on-the-user-cs/_static/image29.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image28.png)</span></span>

<span data-ttu-id="4b4c8-200">**Figura 10**: somente o s informações do fornecedor selecionado pode ser exibido e editada ([clique para exibir a imagem em tamanho normal](limiting-data-modification-functionality-based-on-the-user-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="4b4c8-200">**Figure 10**: Only the Selected Supplier s Information Can Be Viewed and Edited ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image30.png))</span></span>


> [!NOTE]
> <span data-ttu-id="4b4c8-201">Para este tutorial, o DropDownList e DetailsView controlam s `EnableViewState` deve ser definido como `true` (o padrão) porque o s DropDownList `SelectedIndex` e s a DetailsView `DataSourceID` alterações de propriedade s devem ser lembradas entre postbacks.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-201">For this tutorial, both the DropDownList and DetailsView control s `EnableViewState` must be set to `true` (the default) because the DropDownList s `SelectedIndex` and the DetailsView s `DataSourceID` property s changes must be remembered across postbacks.</span></span>


## <a name="step-4-listing-the-suppliers-products-in-an-editable-gridview"></a><span data-ttu-id="4b4c8-202">Etapa 4: Listando os produtos de fornecedores em um GridView editável</span><span class="sxs-lookup"><span data-stu-id="4b4c8-202">Step 4: Listing the Suppliers Products in an Editable GridView</span></span>

<span data-ttu-id="4b4c8-203">Com DetailsView completa, nossa próxima etapa é incluir um GridView editável que lista os produtos fornecidos pelo fornecedor selecionado.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-203">With the DetailsView complete, our next step is to include an editable GridView that lists those products provided by the selected supplier.</span></span> <span data-ttu-id="4b4c8-204">Este GridView deve permitir a edição de somente o `ProductName` e `QuantityPerUnit` campos.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-204">This GridView should allow edits to only the `ProductName` and `QuantityPerUnit` fields.</span></span> <span data-ttu-id="4b4c8-205">Além disso, se o usuário visitar a página for de um fornecedor específico, ele só deve permitir atualizações para os produtos que são *não* descontinuado.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-205">Moreover, if the user visiting the page is from a particular supplier, it should only allow updates to those products that are *not* discontinued.</span></span> <span data-ttu-id="4b4c8-206">Para fazer isso, precisamos adicionar primeiro uma sobrecarga o `ProductsBLL` classe s `UpdateProducts` método que usa apenas o `ProductID`, `ProductName`, e `QuantityPerUnit` campos como entradas.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-206">To accomplish this we'll need to first add an overload of the `ProductsBLL` class s `UpdateProducts` method that takes in just the `ProductID`, `ProductName`, and `QuantityPerUnit` fields as inputs.</span></span> <span data-ttu-id="4b4c8-207">Podemos ve percorrida esse processo com antecedência vários tutoriais, deixe-s olhar para o código aqui, o que deve ser adicionado ao `ProductsBLL`:</span><span class="sxs-lookup"><span data-stu-id="4b4c8-207">We ve stepped through this process beforehand in numerous tutorials, so let s just look at the code here, which should be added to `ProductsBLL`:</span></span>


[!code-csharp[Main](limiting-data-modification-functionality-based-on-the-user-cs/samples/sample4.cs)]

<span data-ttu-id="4b4c8-208">Com essa sobrecarga criada, podemos re pronto para adicionar o controle GridView e seu ObjectDataSource associado.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-208">With this overload created, we re ready to add the GridView control and its associated ObjectDataSource.</span></span> <span data-ttu-id="4b4c8-209">Adicionar um novo GridView à página, defina seu `ID` propriedade `ProductsBySupplier`e configure-o para usar um novo ObjectDataSource denominado `ProductsBySupplierDataSource`.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-209">Add a new GridView to the page, set its `ID` property to `ProductsBySupplier`, and configure it to use a new ObjectDataSource named `ProductsBySupplierDataSource`.</span></span> <span data-ttu-id="4b4c8-210">Como queremos que este GridView para listar os produtos pelo fornecedor selecionado, use o `ProductsBLL` classe s `GetProductsBySupplierID(supplierID)` método.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-210">Since we want this GridView to list those products by the selected supplier, use the `ProductsBLL` class s `GetProductsBySupplierID(supplierID)` method.</span></span> <span data-ttu-id="4b4c8-211">Também mapear o `Update()` método para o novo `UpdateProduct` sobrecarga que acabamos de criar.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-211">Also map the `Update()` method to the new `UpdateProduct` overload we just created.</span></span>


<span data-ttu-id="4b4c8-212">[![Configurar o ObjectDataSource para usar a sobrecarga de UpdateProduct recém-criado](limiting-data-modification-functionality-based-on-the-user-cs/_static/image32.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="4b4c8-212">[![Configure the ObjectDataSource to Use the UpdateProduct Overload Just Created](limiting-data-modification-functionality-based-on-the-user-cs/_static/image32.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image31.png)</span></span>

<span data-ttu-id="4b4c8-213">**Figura 11**: configurar o ObjectDataSource para usar o `UpdateProduct` sobrecarregar acabou de criar ([clique para exibir a imagem em tamanho normal](limiting-data-modification-functionality-based-on-the-user-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="4b4c8-213">**Figure 11**: Configure the ObjectDataSource to Use the `UpdateProduct` Overload Just Created ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image33.png))</span></span>


<span data-ttu-id="4b4c8-214">Podemos re solicitado a selecionar a origem de parâmetro para o `GetProductsBySupplierID(supplierID)` método s `supplierID` parâmetro de entrada.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-214">We re prompted to select the parameter source for the `GetProductsBySupplierID(supplierID)` method s `supplierID` input parameter.</span></span> <span data-ttu-id="4b4c8-215">Como queremos mostrar os produtos para o fornecedor selecionado em DetailsView, use o `SuppliersDetails` controle DetailsView s `SelectedValue` propriedade como a origem do parâmetro.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-215">Since we want to show the products for the supplier selected in the DetailsView, use the `SuppliersDetails` DetailsView control s `SelectedValue` property as the parameter source.</span></span>


<span data-ttu-id="4b4c8-216">[![Use a propriedade SelectedValue SuppliersDetails DetailsView s como a origem de parâmetro](limiting-data-modification-functionality-based-on-the-user-cs/_static/image35.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="4b4c8-216">[![Use the SuppliersDetails DetailsView s SelectedValue Property as the Parameter Source](limiting-data-modification-functionality-based-on-the-user-cs/_static/image35.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image34.png)</span></span>

<span data-ttu-id="4b4c8-217">**Figura 12**: Use o `SuppliersDetails` DetailsView s `SelectedValue` propriedade como a origem do parâmetro ([clique para exibir a imagem em tamanho normal](limiting-data-modification-functionality-based-on-the-user-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="4b4c8-217">**Figure 12**: Use the `SuppliersDetails` DetailsView s `SelectedValue` Property as the Parameter Source ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image36.png))</span></span>


<span data-ttu-id="4b4c8-218">Retornando a GridView, remova todos os campos de GridView com exceção de `ProductName`, `QuantityPerUnit`, e `Discontinued`, marcando o `Discontinued` CheckBoxField como somente leitura.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-218">Returning to the GridView, remove all of the GridView fields except for `ProductName`, `QuantityPerUnit`, and `Discontinued`, marking the `Discontinued` CheckBoxField as read-only.</span></span> <span data-ttu-id="4b4c8-219">Além disso, verifique a opção Habilitar edição de marca inteligente s GridView.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-219">Also, check the Enable Editing option from the GridView s smart tag.</span></span> <span data-ttu-id="4b4c8-220">Depois que essas alterações foram feitas, a marcação declarativa para a GridView e ObjectDataSource deve ser semelhante ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="4b4c8-220">After these changes have been made, the declarative markup for the GridView and ObjectDataSource should look similar to the following:</span></span>


[!code-aspx[Main](limiting-data-modification-functionality-based-on-the-user-cs/samples/sample5.aspx)]

<span data-ttu-id="4b4c8-221">Assim como acontece com nosso ObjectDataSources anterior, este um s `OldValuesParameterFormatString` está definida como `original_{0}`, que causará problemas ao tentar atualizar um nome de produto s ou quantidade por unidade.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-221">As with our previous ObjectDataSources, this one s `OldValuesParameterFormatString` property is set to `original_{0}`, which will cause problems when attempting to update a product s name or quantity per unit.</span></span> <span data-ttu-id="4b4c8-222">Remova a propriedade da sintaxe declarativa completamente ou defina-o para seu padrão, `{0}`.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-222">Remove this property from the declarative syntax altogether or set it to its default, `{0}`.</span></span>

<span data-ttu-id="4b4c8-223">Com essa configuração for concluída, nossa página agora lista os produtos fornecidos pelo fornecedor selecionado em GridView (consulte a Figura 13).</span><span class="sxs-lookup"><span data-stu-id="4b4c8-223">With this configuration complete, our page now lists the products provided by the supplier selected in the GridView (see Figure 13).</span></span> <span data-ttu-id="4b4c8-224">No momento *qualquer* nome do produto s ou quantidade por unidade pode ser atualizada.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-224">Currently *any* product s name or quantity per unit can be updated.</span></span> <span data-ttu-id="4b4c8-225">No entanto, precisamos atualizar nossa lógica de página para que essa funcionalidade é proibida para produtos descontinuados para usuários associados a um fornecedor específico.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-225">However, we need to update our page logic so that such functionality is prohibited for discontinued products for users associated with a particular supplier.</span></span> <span data-ttu-id="4b4c8-226">Que abordaremos essa parte final na etapa 5.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-226">We'll tackle this final piece in Step 5.</span></span>


<span data-ttu-id="4b4c8-227">[![Os produtos fornecidos pelo fornecedor selecionado são exibidos](limiting-data-modification-functionality-based-on-the-user-cs/_static/image38.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="4b4c8-227">[![The Products Provided by the Selected Supplier are Displayed](limiting-data-modification-functionality-based-on-the-user-cs/_static/image38.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image37.png)</span></span>

<span data-ttu-id="4b4c8-228">**Figura 13**: os produtos fornecidos pelo fornecedor selecionado são exibidas ([clique para exibir a imagem em tamanho normal](limiting-data-modification-functionality-based-on-the-user-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="4b4c8-228">**Figure 13**: The Products Provided by the Selected Supplier are Displayed ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image39.png))</span></span>


> [!NOTE]
> <span data-ttu-id="4b4c8-229">Com a adição desse GridView editável o `Suppliers` DropDownList s `SelectedIndexChanged` manipulador de eventos deve ser atualizado para retornar o GridView para um estado somente leitura.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-229">With the addition of this editable GridView the `Suppliers` DropDownList s `SelectedIndexChanged` event handler should be updated to return the GridView to a read-only state.</span></span> <span data-ttu-id="4b4c8-230">Caso contrário, se um fornecedor diferente for selecionado no meio de edição de informações de produto, o índice correspondente em GridView para o novo fornecedor também será editável.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-230">Otherwise, if a different supplier is selected while in the middle of editing product information, the corresponding index in the GridView for the new supplier will also be editable.</span></span> <span data-ttu-id="4b4c8-231">Para evitar isso, basta definir o GridView s `EditIndex` propriedade `-1` no `SelectedIndexChanged` manipulador de eventos.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-231">To prevent this, simply set the GridView s `EditIndex` property to `-1` in the `SelectedIndexChanged` event handler.</span></span>


<span data-ttu-id="4b4c8-232">Além disso, lembre-se de que é importante que o GridView s estado de exibição ser habilitado (o comportamento padrão).</span><span class="sxs-lookup"><span data-stu-id="4b4c8-232">Also, recall that it is important that the GridView s view state be enabled (the default behavior).</span></span> <span data-ttu-id="4b4c8-233">Se você definir o GridView s `EnableViewState` propriedade `false`, você corre o risco de ter acidentalmente excluir ou editar registros de usuários simultâneos.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-233">If you set the GridView s `EnableViewState` property to `false`, you run the risk of having concurrent users unintentionally deleting or editing records.</span></span> <span data-ttu-id="4b4c8-234">Consulte [Aviso: problema de simultaneidade com ASP.NET 2.0 GridViews/DetailsView/FormViews que suporte a edição e/ou excluindo e cujo estado de exibição é desativado](http://scottonwriting.net/sowblog/posts/10054.aspx) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-234">See [WARNING: Concurrency Issue with ASP.NET 2.0 GridViews/DetailsView/FormViews that Support Editing and/or Deleting and Whose View State is Disabled](http://scottonwriting.net/sowblog/posts/10054.aspx) for more information.</span></span>

## <a name="step-5-disallow-editing-for-discontinued-products-when-showedit-all-suppliers-is-not-selected"></a><span data-ttu-id="4b4c8-235">Etapa 5: Não permitir edição Descontinuado produtos quando exibir/editar todos os fornecedores é não selecionado</span><span class="sxs-lookup"><span data-stu-id="4b4c8-235">Step 5: Disallow Editing for Discontinued Products When Show/Edit ALL Suppliers is Not Selected</span></span>

<span data-ttu-id="4b4c8-236">Enquanto o `ProductsBySupplier` GridView é totalmente funcional, atualmente concede muito mais acesso aos usuários que são de um fornecedor específico.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-236">While the `ProductsBySupplier` GridView is fully functional, it currently grants too much access to those users who are from a particular supplier.</span></span> <span data-ttu-id="4b4c8-237">Por nossas regras de negócio, esses usuários não devem ser capazes de atualizar os produtos descontinuados.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-237">Per our business rules, such users should not be able to update discontinued products.</span></span> <span data-ttu-id="4b4c8-238">Para impor isso, podemos pode ocultar (ou desabilitar) o botão Editar dessas linhas de GridView com produtos descontinuados quando a página for visitada por um usuário de um fornecedor.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-238">To enforce this, we can hide (or disable) the Edit button in those GridView rows with discontinued products when the page is being visited by a user from a supplier.</span></span>

<span data-ttu-id="4b4c8-239">Criar um manipulador de eventos para o s GridView `RowDataBound` eventos.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-239">Create an event handler for the GridView s `RowDataBound` event.</span></span> <span data-ttu-id="4b4c8-240">Este manipulador de eventos, precisamos determinar se o usuário é associado um fornecedor específico, que, para este tutorial, pode ser determinado verificando o s fornecedores DropDownList `SelectedValue` propriedade - se ele algo diferente de -1 e, em seguida, o usuário é associado a um fornecedor específico.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-240">In this event handler we need to determine whether or not the user is associated with a particular supplier, which, for this tutorial, can be determined by checking the Suppliers DropDownList s `SelectedValue` property - if it s something other than -1, then the user is associated with a particular supplier.</span></span> <span data-ttu-id="4b4c8-241">Para esses usuários, em seguida, precisamos determinar se o produto foi descontinuado.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-241">For such users, we then need to determine whether or not the product is discontinued.</span></span> <span data-ttu-id="4b4c8-242">Podemos pode obter uma referência para o valor real `ProductRow` instância associada à linha GridView por meio de `e.Row.DataItem` propriedade, conforme discutido no [ *exibindo informações de resumo em GridView s rodapé* ](../custom-formatting/displaying-summary-information-in-the-gridview-s-footer-cs.md) tutorial.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-242">We can grab a reference to the actual `ProductRow` instance bound to the GridView row via the `e.Row.DataItem` property, as discussed in the [*Displaying Summary Information in the GridView s Footer*](../custom-formatting/displaying-summary-information-in-the-gridview-s-footer-cs.md) tutorial.</span></span> <span data-ttu-id="4b4c8-243">Se o produto foi descontinuado, podemos pode obter uma referência de programação para o botão de edição em GridView s CommandField usando as técnicas discutidas no tutorial anterior, [ *Adicionar cliente confirmação quando excluindo* ](adding-client-side-confirmation-when-deleting-cs.md).</span><span class="sxs-lookup"><span data-stu-id="4b4c8-243">If the product is discontinued, we can grab a programmatic reference to the Edit button in the GridView s CommandField using the techniques discussed in the previous tutorial, [*Adding Client-Side Confirmation When Deleting*](adding-client-side-confirmation-when-deleting-cs.md).</span></span> <span data-ttu-id="4b4c8-244">Se houver uma referência, em seguida, é possível ocultar ou desabilitar o botão.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-244">Once we have a reference we can then hide or disable the button.</span></span>


[!code-csharp[Main](limiting-data-modification-functionality-based-on-the-user-cs/samples/sample6.cs)]

<span data-ttu-id="4b4c8-245">Com esse evento manipulador no local, quando visitar essa página como um usuário de um fornecedor específico os produtos que foram descontinuados não são editáveis, como o botão Editar está oculta para esses produtos.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-245">With this event handler in place, when visiting this page as a user from a specific supplier those products that are discontinued are not editable, as the Edit button is hidden for these products.</span></span> <span data-ttu-id="4b4c8-246">Por exemplo, s chefe Anton mistura para Gumbo é um produto descontinuado para o fornecedor de New Orleans Cajun Delights.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-246">For example, Chef Anton s Gumbo Mix is a discontinued product for the New Orleans Cajun Delights supplier.</span></span> <span data-ttu-id="4b4c8-247">Ao visitar a página para esse fornecedor específico, o botão Editar para este produto está oculta da Vista (consulte a Figura 14).</span><span class="sxs-lookup"><span data-stu-id="4b4c8-247">When visiting the page for this particular supplier, the Edit button for this product is hidden from sight (see Figure 14).</span></span> <span data-ttu-id="4b4c8-248">No entanto, ao visitar usando o "Mostrar/editar todos os fornecedores", o botão Editar está disponível (consulte a Figura 15).</span><span class="sxs-lookup"><span data-stu-id="4b4c8-248">However, when visiting using the "Show/Edit ALL Suppliers," the Edit button is available (see Figure 15).</span></span>


<span data-ttu-id="4b4c8-249">[![Para usuários específicos do fornecedor no botão Editar para s chefe Anton mistura para Gumbo está oculto](limiting-data-modification-functionality-based-on-the-user-cs/_static/image41.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="4b4c8-249">[![For Supplier-Specific Users the Edit Button for Chef Anton s Gumbo Mix is Hidden](limiting-data-modification-functionality-based-on-the-user-cs/_static/image41.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image40.png)</span></span>

<span data-ttu-id="4b4c8-250">**Figura 14**: para usuários específicos do fornecedor no botão Editar para s chefe Anton mistura para Gumbo está oculto ([clique para exibir a imagem em tamanho normal](limiting-data-modification-functionality-based-on-the-user-cs/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="4b4c8-250">**Figure 14**: For Supplier-Specific Users the Edit Button for Chef Anton s Gumbo Mix is Hidden ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image42.png))</span></span>


<span data-ttu-id="4b4c8-251">[![Para exibir/editar todos os usuários de fornecedores, é exibido no botão Editar para s chefe Anton mistura para Gumbo](limiting-data-modification-functionality-based-on-the-user-cs/_static/image44.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="4b4c8-251">[![For Show/Edit ALL Suppliers Users, the Edit Button for Chef Anton s Gumbo Mix is Displayed](limiting-data-modification-functionality-based-on-the-user-cs/_static/image44.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image43.png)</span></span>

<span data-ttu-id="4b4c8-252">**Figura 15**: para exibir/editar todos os fornecedores usuários, o botão Editar para s chefe Anton mistura para Gumbo é exibida ([clique para exibir a imagem em tamanho normal](limiting-data-modification-functionality-based-on-the-user-cs/_static/image45.png))</span><span class="sxs-lookup"><span data-stu-id="4b4c8-252">**Figure 15**: For Show/Edit ALL Suppliers Users, the Edit Button for Chef Anton s Gumbo Mix is Displayed ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image45.png))</span></span>


## <a name="checking-for-access-rights-in-the-business-logic-layer"></a><span data-ttu-id="4b4c8-253">Verificação de direitos de acesso na camada de lógica de negócios</span><span class="sxs-lookup"><span data-stu-id="4b4c8-253">Checking for Access Rights in the Business Logic Layer</span></span>

<span data-ttu-id="4b4c8-254">Neste tutorial, o ASP.NET página manipula toda a lógica em relação a quais informações o usuário pode ver e que produtos que ele pode atualizar.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-254">In this tutorial the ASP.NET page handles all logic with regards to what information the user can see and what products he can update.</span></span> <span data-ttu-id="4b4c8-255">Idealmente, essa lógica também estarão presente na camada de lógica de negócios.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-255">Ideally, this logic would also be present at the Business Logic Layer.</span></span> <span data-ttu-id="4b4c8-256">Por exemplo, o `SuppliersBLL` classe s `GetSuppliers()` método (que retorna todos os fornecedores) pode incluir uma verificação para garantir que o usuário conectado no momento é *não* associado a um fornecedor específico.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-256">For example, the `SuppliersBLL` class s `GetSuppliers()` method (which returns all suppliers) might include a check to ensure that the currently logged on user is *not* associated with a specific supplier.</span></span> <span data-ttu-id="4b4c8-257">Da mesma forma, o `UpdateSupplierAddress` método pode incluir uma verificação para garantir que o usuário conectado no momento ou trabalhou para a empresa (e, portanto, pode atualizar todas as informações de endereço de fornecedores) ou está associado com o fornecedor de dados está sendo atualizados.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-257">Likewise, the `UpdateSupplierAddress` method could include a check to ensure that the currently logged on user either worked for our company (and therefore can update all suppliers address information) or is associated with the supplier whose data is being updated.</span></span>

<span data-ttu-id="4b4c8-258">Eu não incluiu essas verificações de camada BLL aqui porque em nosso tutorial os direitos de usuário s são determinados pela DropDownList em uma página, que não é possível acessar as classes BLL.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-258">I did not include such BLL-layer checks here because in our tutorial the user s rights are determined by a DropDownList on the page, which the BLL classes cannot access.</span></span> <span data-ttu-id="4b4c8-259">Ao usar o sistema de associação ou um dos esquemas de autenticação de fora da caixa fornecidos pelo ASP.NET (como a autenticação do Windows), o conectado no momento no usuário s informações e funções podem ser acessadas de BLL, tornando esse acesso direitos verifica possíveis em ambas as camadas de apresentação e BLL.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-259">When using the membership system or one of the out-of-the box authentication schemes provided by ASP.NET (such as Windows authentication), the currently logged on user s information and roles information can be accessed from the BLL, thereby making such access rights checks possible at both the presentation and BLL layers.</span></span>

## <a name="summary"></a><span data-ttu-id="4b4c8-260">Resumo</span><span class="sxs-lookup"><span data-stu-id="4b4c8-260">Summary</span></span>

<span data-ttu-id="4b4c8-261">A maioria dos sites que fornecem as contas de usuário necessário personalizar a interface de modificação de dados com base no usuário conectado.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-261">Most sites that provide user accounts need to customize the data modification interface based upon the logged in user.</span></span> <span data-ttu-id="4b4c8-262">Usuários administrativos poderá excluir e editar qualquer registro, enquanto que os usuários não administrativos podem ser limitados a apenas atualizar ou excluir registros criados por eles mesmos.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-262">Administrative users may be able to delete and edit any record, whereas non-administrative users may be limited to only updating or deleting records they created themselves.</span></span> <span data-ttu-id="4b4c8-263">Pode ser qualquer cenário, os dados de controles da Web, ObjectDataSource, e classes de camada de lógica comercial podem ser estendidos para adicionar ou negar determinadas funcionalidades com base no usuário conectado.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-263">Whatever the scenario may be, the data Web controls, ObjectDataSource, and Business Logic Layer classes can be extended to add or deny certain functionality based on the logged on user.</span></span> <span data-ttu-id="4b4c8-264">Neste tutorial, vimos como limitar os dados visíveis e editáveis dependendo se o usuário foi associado um fornecedor específico ou se elas funcionaram para nossa empresa.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-264">In this tutorial we saw how to limit the viewable and editable data depending on whether the user was associated with a particular supplier or if they worked for our company.</span></span>

<span data-ttu-id="4b4c8-265">Este tutorial conclui nossa análise do inserindo, atualizando e excluindo dados usando os controles GridView, DetailsView e FormView.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-265">This tutorial concludes our examination of inserting, updating, and deleting data using the GridView, DetailsView, and FormView controls.</span></span> <span data-ttu-id="4b4c8-266">Começando com o tutorial Avançar, voltaremos nossa atenção à adição de paginação e a classificação de suporte.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-266">Starting with the next tutorial, we'll turn our attention to adding paging and sorting support.</span></span>

<span data-ttu-id="4b4c8-267">Boa programação!</span><span class="sxs-lookup"><span data-stu-id="4b4c8-267">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="4b4c8-268">Sobre o autor</span><span class="sxs-lookup"><span data-stu-id="4b4c8-268">About the Author</span></span>

<span data-ttu-id="4b4c8-269">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de sete livros sobre ASP/ASP.NET e fundador da [4GuysFromRolla. com](http://www.4guysfromrolla.com), trabalha com tecnologias Microsoft Web desde 1998.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-269">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="4b4c8-270">Scott funciona como um consultor independente, instrutor e gravador.</span><span class="sxs-lookup"><span data-stu-id="4b4c8-270">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="4b4c8-271">Seu livro mais recente é [ *Sams ensinar por conta própria ASP.NET 2.0 nas 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="4b4c8-271">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="4b4c8-272">Ele pode ser contatado em [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) ou por meio de seu blog, que pode ser encontrado em [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="4b4c8-272">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="4b4c8-273">[Anterior](adding-client-side-confirmation-when-deleting-cs.md)
[Próximo](an-overview-of-inserting-updating-and-deleting-data-vb.md)</span><span class="sxs-lookup"><span data-stu-id="4b4c8-273">[Previous](adding-client-side-confirmation-when-deleting-cs.md)
[Next](an-overview-of-inserting-updating-and-deleting-data-vb.md)</span></span>
