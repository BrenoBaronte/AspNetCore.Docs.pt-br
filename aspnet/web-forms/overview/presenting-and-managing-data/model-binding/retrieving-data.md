---
uid: web-forms/overview/presenting-and-managing-data/model-binding/retrieving-data
title: Recuperando e exibindo dados com o modelo de associação e web forms | Microsoft Docs
author: tfitzmac
description: Esta série de tutoriais demonstra aspectos básicos do uso de associação de modelo com um projeto Web Forms do ASP.NET. Associação de modelo torna a interação de dados mais estreita-...
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/27/2014
ms.topic: article
ms.assetid: 9f24fb82-c7ac-48da-b8e2-51b3da17e365
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/presenting-and-managing-data/model-binding/retrieving-data
msc.type: authoredcontent
ms.openlocfilehash: 26873efa5dbfdbdab39a52cfb9cfd5a65c8231a3
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/06/2018
ms.locfileid: "30889089"
---
<a name="retrieving-and-displaying-data-with-model-binding-and-web-forms"></a><span data-ttu-id="b07ef-104">Recuperando e exibindo dados com o modelo de associação e formulários da web</span><span class="sxs-lookup"><span data-stu-id="b07ef-104">Retrieving and displaying data with model binding and web forms</span></span>
====================
<span data-ttu-id="b07ef-105">por [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="b07ef-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="b07ef-106">Esta série de tutoriais demonstra aspectos básicos do uso de associação de modelo com um projeto Web Forms do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b07ef-106">This tutorial series demonstrates basic aspects of using model binding with an ASP.NET Web Forms project.</span></span> <span data-ttu-id="b07ef-107">Associação de modelo facilita a interação de dados mais direta de lidar com dados de objetos de origem (como ObjectDataSource ou SqlDataSource).</span><span class="sxs-lookup"><span data-stu-id="b07ef-107">Model binding makes data interaction more straight-forward than dealing with data source objects (such as ObjectDataSource or SqlDataSource).</span></span> <span data-ttu-id="b07ef-108">Esta série começa com material introdutório e move para conceitos mais avançados em tutoriais subsequentes.</span><span class="sxs-lookup"><span data-stu-id="b07ef-108">This series starts with introductory material and moves to more advanced concepts in later tutorials.</span></span>
> 
> <span data-ttu-id="b07ef-109">O padrão de associação de modelo funciona com qualquer tecnologia de acesso a dados.</span><span class="sxs-lookup"><span data-stu-id="b07ef-109">The model binding pattern works with any data access technology.</span></span> <span data-ttu-id="b07ef-110">Neste tutorial, você usará o Entity Framework, mas você pode usar a tecnologia de acesso a dados que é mais familiar para você.</span><span class="sxs-lookup"><span data-stu-id="b07ef-110">In this tutorial, you will use Entity Framework, but you could use the data access technology that is most familiar to you.</span></span> <span data-ttu-id="b07ef-111">De um controle de servidor associado a dados, como um controle ListView, GridView, DetailsView ou FormView, você deve especificar os nomes dos métodos a ser usado para selecionar, atualizar, excluir e criação de dados.</span><span class="sxs-lookup"><span data-stu-id="b07ef-111">From a data-bound server control, such as a GridView, ListView, DetailsView, or FormView control, you specify the names of the methods to use for selecting, updating, deleting, and creating data.</span></span> <span data-ttu-id="b07ef-112">Neste tutorial, você especificará um valor para o SelectMethod.</span><span class="sxs-lookup"><span data-stu-id="b07ef-112">In this tutorial, you will specify a value for the SelectMethod.</span></span>
> 
> <span data-ttu-id="b07ef-113">Dentro desse método, você pode fornecer a lógica para recuperar os dados.</span><span class="sxs-lookup"><span data-stu-id="b07ef-113">Within that method, you provide the logic for retrieving the data.</span></span> <span data-ttu-id="b07ef-114">O seguinte tutorial, você definirá valores para UpdateMethod e DeleteMethod de InsertMethod.</span><span class="sxs-lookup"><span data-stu-id="b07ef-114">In the next tutorial, you will set values for UpdateMethod, DeleteMethod and InsertMethod.</span></span>
> 
> <span data-ttu-id="b07ef-115">Você pode [baixar](https://go.microsoft.com/fwlink/?LinkId=286116) o projeto completo em c# ou VB.</span><span class="sxs-lookup"><span data-stu-id="b07ef-115">You can [download](https://go.microsoft.com/fwlink/?LinkId=286116) the complete project in C# or VB.</span></span> <span data-ttu-id="b07ef-116">O código para download funciona com o Visual Studio 2012 ou Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="b07ef-116">The downloadable code works with either Visual Studio 2012 or Visual Studio 2013.</span></span> <span data-ttu-id="b07ef-117">Ele usa o modelo do Visual Studio 2012, que é ligeiramente diferente do que o modelo do Visual Studio 2013 mostrado neste tutorial.</span><span class="sxs-lookup"><span data-stu-id="b07ef-117">It uses the Visual Studio 2012 template, which is slightly different than the Visual Studio 2013 template shown in this tutorial.</span></span>
> 
> <span data-ttu-id="b07ef-118">No tutorial você executar o aplicativo no Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="b07ef-118">In the tutorial you run the application in Visual Studio.</span></span> <span data-ttu-id="b07ef-119">Você também pode tornar o aplicativo disponível pela Internet por implantá-lo em um provedor de hospedagem.</span><span class="sxs-lookup"><span data-stu-id="b07ef-119">You can also make the application available over the Internet by deploying it to a hosting provider.</span></span> <span data-ttu-id="b07ef-120">A Microsoft oferece gratuito da web de hospedagem para até 10 sites da web em um</span><span class="sxs-lookup"><span data-stu-id="b07ef-120">Microsoft offers free web hosting for up to 10 web sites in a</span></span>  
>  <span data-ttu-id="b07ef-121">[conta de avaliação do Azure gratuita](https://azure.microsoft.com/free/?WT.mc_id=A443DD604).</span><span class="sxs-lookup"><span data-stu-id="b07ef-121">[free Azure trial account](https://azure.microsoft.com/free/?WT.mc_id=A443DD604).</span></span> <span data-ttu-id="b07ef-122">Para obter informações sobre como implantar um projeto da web do Visual Studio para aplicativos de Web do serviço de aplicativo do Azure, consulte o [implantação de Web do ASP.NET usando o Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md) série.</span><span class="sxs-lookup"><span data-stu-id="b07ef-122">For information about how to deploy a Visual Studio web project to Azure App Service Web Apps, see the [ASP.NET Web Deployment using Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md) series.</span></span> <span data-ttu-id="b07ef-123">Esse tutorial também mostra como usar o Entity Framework Code First Migrations para implantar seu banco de dados do SQL Server para o banco de dados do SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="b07ef-123">That tutorial also shows how to use Entity Framework Code First Migrations to deploy your SQL Server database to Azure SQL Database.</span></span>
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="b07ef-124">Versões de software usadas no tutorial</span><span class="sxs-lookup"><span data-stu-id="b07ef-124">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="b07ef-125">Microsoft Visual Studio 2013 ou o Microsoft Visual Studio Express 2013 para Web</span><span class="sxs-lookup"><span data-stu-id="b07ef-125">Microsoft Visual Studio 2013 or Microsoft Visual Studio Express 2013 for Web</span></span>
>   
> 
> <span data-ttu-id="b07ef-126">Este tutorial também funciona com o Visual Studio 2012, mas haverá algumas diferenças no modelo de projeto e de interface de usuário.</span><span class="sxs-lookup"><span data-stu-id="b07ef-126">This tutorial also works with Visual Studio 2012 but there will be some differences in the user interface and project template.</span></span>


## <a name="what-youll-build"></a><span data-ttu-id="b07ef-127">Será possível compilar</span><span class="sxs-lookup"><span data-stu-id="b07ef-127">What you'll build</span></span>

<span data-ttu-id="b07ef-128">Neste tutorial, você vai:</span><span class="sxs-lookup"><span data-stu-id="b07ef-128">In this tutorial, you'll:</span></span>

1. <span data-ttu-id="b07ef-129">Criar objetos de dados que refletem uma universidade com alunos inscritos em cursos</span><span class="sxs-lookup"><span data-stu-id="b07ef-129">Build data objects that reflect a university with students enrolled in courses</span></span>
2. <span data-ttu-id="b07ef-130">Criar tabelas de banco de dados de objetos</span><span class="sxs-lookup"><span data-stu-id="b07ef-130">Build database tables from the objects</span></span>
3. <span data-ttu-id="b07ef-131">Preencher o banco de dados com dados de teste</span><span class="sxs-lookup"><span data-stu-id="b07ef-131">Populate the database with test data</span></span>
4. <span data-ttu-id="b07ef-132">Exibir dados em um formulário da web</span><span class="sxs-lookup"><span data-stu-id="b07ef-132">Display data in a web form</span></span>

## <a name="set-up-project"></a><span data-ttu-id="b07ef-133">Configurar o projeto</span><span class="sxs-lookup"><span data-stu-id="b07ef-133">Set up project</span></span>

<span data-ttu-id="b07ef-134">No Visual Studio 2013, crie um novo **aplicativo Web ASP.NET** chamado **ContosoUniversityModelBinding**.</span><span class="sxs-lookup"><span data-stu-id="b07ef-134">In Visual Studio 2013, create a new **ASP.NET Web Application** called **ContosoUniversityModelBinding**.</span></span>

![Criar projeto](retrieving-data/_static/image2.png)

<span data-ttu-id="b07ef-136">Selecione o modelo de Web Forms e deixar as outras opções padrão.</span><span class="sxs-lookup"><span data-stu-id="b07ef-136">Select the Web Forms template, and leave the other default options.</span></span> <span data-ttu-id="b07ef-137">Clique em Okey para o projeto de instalação.</span><span class="sxs-lookup"><span data-stu-id="b07ef-137">Click OK to setup the project.</span></span>

![Selecionar os formulários da web](retrieving-data/_static/image3.png)

<span data-ttu-id="b07ef-139">Primeiro, você criará algumas pequenas alterações para personalizar a aparência do site.</span><span class="sxs-lookup"><span data-stu-id="b07ef-139">First, you will make a couple of small changes to customize the appearance of the site.</span></span> <span data-ttu-id="b07ef-140">Abra o **Site.Master** de arquivo e altere o título para incluir Contoso University em vez de meu aplicativo ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="b07ef-140">Open the **Site.Master** file, and change the title to include Contoso University instead of My ASP.NET Application.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample1.aspx?highlight=1)]

<span data-ttu-id="b07ef-141">Em seguida, altere o texto de cabeçalho de **nome do aplicativo** para **University Contoso**.</span><span class="sxs-lookup"><span data-stu-id="b07ef-141">Then, change the header text from **Application name** to **Contoso University**.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample2.aspx?highlight=7)]

<span data-ttu-id="b07ef-142">Também Site.Master, altere os links de navegação que aparecem no cabeçalho para refletir as páginas que são relevantes para esse site.</span><span class="sxs-lookup"><span data-stu-id="b07ef-142">Also in Site.Master, change the navigation links that appear in the header to reflect the pages that are relevant to this site.</span></span> <span data-ttu-id="b07ef-143">Você não precisará de um a **sobre** página ou o **contato** para esses links podem ser removidos da página.</span><span class="sxs-lookup"><span data-stu-id="b07ef-143">You will not need either the **About** page or the **Contact** page so those links can be removed.</span></span> <span data-ttu-id="b07ef-144">Em vez disso, você precisará de um link para uma página chamada **alunos**.</span><span class="sxs-lookup"><span data-stu-id="b07ef-144">Instead, you will need a link to a page called **Students**.</span></span> <span data-ttu-id="b07ef-145">Esta página ainda não foi criada.</span><span class="sxs-lookup"><span data-stu-id="b07ef-145">This page has not been created yet.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample3.aspx)]

<span data-ttu-id="b07ef-146">Salve e feche Site.Master.</span><span class="sxs-lookup"><span data-stu-id="b07ef-146">Save and close Site.Master.</span></span>

<span data-ttu-id="b07ef-147">Agora, você criará o formulário da web para exibir dados de student.</span><span class="sxs-lookup"><span data-stu-id="b07ef-147">Now, you'll create the web form for displaying student data.</span></span> <span data-ttu-id="b07ef-148">Clique em seu projeto, e **adicionar** um **Novo Item**.</span><span class="sxs-lookup"><span data-stu-id="b07ef-148">Right-click your project, and **Add** a **New Item**.</span></span> <span data-ttu-id="b07ef-149">Selecione o **Web Form com página mestra** modelo e nomeie-o **Students.aspx**.</span><span class="sxs-lookup"><span data-stu-id="b07ef-149">Select the **Web Form with Master Page** template, and name it **Students.aspx**.</span></span>

![Criar página](retrieving-data/_static/image5.png)

<span data-ttu-id="b07ef-151">Selecione **Site.Master** como a página mestra para o novo formulário da web.</span><span class="sxs-lookup"><span data-stu-id="b07ef-151">Select **Site.Master** as the master page for the new web form.</span></span>

## <a name="create-the-data-models-and-database"></a><span data-ttu-id="b07ef-152">Criar o banco de dados e modelos de dados</span><span class="sxs-lookup"><span data-stu-id="b07ef-152">Create the data models and database</span></span>

<span data-ttu-id="b07ef-153">Você usará migrações do Code First para criar objetos e as tabelas de banco de dados correspondente.</span><span class="sxs-lookup"><span data-stu-id="b07ef-153">You will use Code First Migrations to create objects and the corresponding database tables.</span></span> <span data-ttu-id="b07ef-154">Essas tabelas armazenará as informações sobre seus cursos e alunos.</span><span class="sxs-lookup"><span data-stu-id="b07ef-154">These tables will store information about the students and their courses.</span></span>

<span data-ttu-id="b07ef-155">Na pasta de modelos, adicione uma nova classe chamada **UniversityModels.cs**.</span><span class="sxs-lookup"><span data-stu-id="b07ef-155">In the Models folder, add a new class named **UniversityModels.cs**.</span></span>

![criar a classe de modelo](retrieving-data/_static/image7.png)

<span data-ttu-id="b07ef-157">Nesse arquivo, defina as classes SchoolContext, aluno, registro e curso da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="b07ef-157">In this file, define the SchoolContext, Student, Enrollment, and Course classes as follows:</span></span>

[!code-csharp[Main](retrieving-data/samples/sample4.cs)]

<span data-ttu-id="b07ef-158">A classe SchoolContext deriva de DbContext, que gerencia a conexão de banco de dados e as alterações nos dados.</span><span class="sxs-lookup"><span data-stu-id="b07ef-158">The SchoolContext class derives from DbContext, which manages the database connection and changes in the data.</span></span>

<span data-ttu-id="b07ef-159">Na classe aluno, observe os atributos que foram aplicados a **FirstName**, **LastName**, e **ano** propriedades.</span><span class="sxs-lookup"><span data-stu-id="b07ef-159">In the Student class, notice the attributes that have been applied to the **FirstName**, **LastName**, and **Year** properties.</span></span> <span data-ttu-id="b07ef-160">Esses atributos serão usados para validação de dados neste tutorial.</span><span class="sxs-lookup"><span data-stu-id="b07ef-160">These attributes will be used for data validation in this tutorial.</span></span> <span data-ttu-id="b07ef-161">Para simplificar o código para este projeto de demonstração, apenas essas propriedades foram marcadas com atributos de validação de dados.</span><span class="sxs-lookup"><span data-stu-id="b07ef-161">To simplify the code for this demonstration project, only these properties were marked with data-validation attributes.</span></span> <span data-ttu-id="b07ef-162">Em um projeto real, seria aplicada atributos de validação para todas as propriedades que precisam de dados validados, como propriedades nas classes de registro e o curso.</span><span class="sxs-lookup"><span data-stu-id="b07ef-162">In a real project, you would apply validation attributes to all properties that need validated data, such as properties in the Enrollment and Course classes.</span></span>

<span data-ttu-id="b07ef-163">Save UniversityModels.cs.</span><span class="sxs-lookup"><span data-stu-id="b07ef-163">Save UniversityModels.cs.</span></span>

<span data-ttu-id="b07ef-164">Você usará as ferramentas para migrações do Code First para definir um banco de dados com base nessas classes.</span><span class="sxs-lookup"><span data-stu-id="b07ef-164">You will use the tools for Code First Migrations to set up a database based on these classes.</span></span>

<span data-ttu-id="b07ef-165">Em **Package Manager Console**, execute o comando:</span><span class="sxs-lookup"><span data-stu-id="b07ef-165">In **Package Manager Console**, run the command:</span></span>  
`enable-migrations -ContextTypeName ContosoUniversityModelBinding.Models.SchoolContext`

<span data-ttu-id="b07ef-166">Se o comando for concluído com êxito, você receberá uma mensagem informando que as migrações foram habilitadas,</span><span class="sxs-lookup"><span data-stu-id="b07ef-166">If the command completes successfully you will receive a message stating migrations have been enabled,</span></span>

![permitir as migrações](retrieving-data/_static/image8.png)

<span data-ttu-id="b07ef-168">Observe que um novo arquivo chamado **Configuration.cs** foi criado.</span><span class="sxs-lookup"><span data-stu-id="b07ef-168">Notice that a new file named **Configuration.cs** has been created.</span></span> <span data-ttu-id="b07ef-169">No Visual Studio, esse arquivo é aberto automaticamente depois que ele é criado.</span><span class="sxs-lookup"><span data-stu-id="b07ef-169">In Visual Studio, this file is automatically opened after it is created.</span></span> <span data-ttu-id="b07ef-170">A classe de configuração contém uma **semente** método que permite que você preencher previamente as tabelas de banco de dados com dados de teste.</span><span class="sxs-lookup"><span data-stu-id="b07ef-170">The Configuration class contains a **Seed** method which enables you to pre-populate the database tables with test data.</span></span>

<span data-ttu-id="b07ef-171">Adicione o seguinte código ao método de propagação.</span><span class="sxs-lookup"><span data-stu-id="b07ef-171">Add the following code to the Seed method.</span></span> <span data-ttu-id="b07ef-172">Você precisará adicionar um **usando** instrução para o **ContosoUniversityModelBinding.Models** namespace.</span><span class="sxs-lookup"><span data-stu-id="b07ef-172">You'll need to add a **using** statement for the **ContosoUniversityModelBinding.Models** namespace.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample5.cs)]

<span data-ttu-id="b07ef-173">Salve Configuration.cs.</span><span class="sxs-lookup"><span data-stu-id="b07ef-173">Save Configuration.cs.</span></span>

<span data-ttu-id="b07ef-174">No Console do Gerenciador de pacotes, execute o comando `add-migration initial`.</span><span class="sxs-lookup"><span data-stu-id="b07ef-174">In the Package Manager Console, run the command `add-migration initial`.</span></span>

<span data-ttu-id="b07ef-175">Em seguida, execute o comando `update-database`.</span><span class="sxs-lookup"><span data-stu-id="b07ef-175">Then, run the command `update-database`.</span></span>

<span data-ttu-id="b07ef-176">Se você receber uma exceção ao executar esse comando, é possível que os valores de StudentID e CourseID têm variados dos valores no método de propagação.</span><span class="sxs-lookup"><span data-stu-id="b07ef-176">If you receive an exception when running this command, it is possible that the values for StudentID and CourseID have varied from the values in the Seed method.</span></span> <span data-ttu-id="b07ef-177">Abra as tabelas no banco de dados e localizar os valores existentes para StudentID e CourseID.</span><span class="sxs-lookup"><span data-stu-id="b07ef-177">Open those tables in the database and find existing values for StudentID and CourseID.</span></span> <span data-ttu-id="b07ef-178">Adicione esses valores no código para a tabela de registros a propagação.</span><span class="sxs-lookup"><span data-stu-id="b07ef-178">Add those values in the code for seeding the Enrollments table.</span></span>

<span data-ttu-id="b07ef-179">O arquivo de banco de dados foi adicionado, mas ele está oculto no momento no projeto.</span><span class="sxs-lookup"><span data-stu-id="b07ef-179">The database file has been added, but it is currently hidden in the project.</span></span> <span data-ttu-id="b07ef-180">Clique em **Mostrar todos os arquivos** para exibir o arquivo.</span><span class="sxs-lookup"><span data-stu-id="b07ef-180">Click **Show All Files** to display the file.</span></span>

![Mostrar todos os arquivos](retrieving-data/_static/image10.png)

<span data-ttu-id="b07ef-182">Observe que o arquivo. mdf agora aparece no aplicativo\_pasta de dados.</span><span class="sxs-lookup"><span data-stu-id="b07ef-182">Notice the .mdf file now appears in the App\_Data folder.</span></span>

![arquivo de banco de dados](retrieving-data/_static/image12.png)

<span data-ttu-id="b07ef-184">Clique duas vezes o arquivo. mdf e abra o Gerenciador de servidores.</span><span class="sxs-lookup"><span data-stu-id="b07ef-184">Double-click the .mdf file and open the Server Explorer.</span></span> <span data-ttu-id="b07ef-185">As tabelas agora existem e são preenchidas com dados.</span><span class="sxs-lookup"><span data-stu-id="b07ef-185">The tables now exist and are populated with data.</span></span>

![tabelas de banco de dados](retrieving-data/_static/image14.png)

## <a name="display-data-from-students-and-related-tables"></a><span data-ttu-id="b07ef-187">Exibir dados de tabelas relacionadas e alunos</span><span class="sxs-lookup"><span data-stu-id="b07ef-187">Display data from Students and related tables</span></span>

<span data-ttu-id="b07ef-188">Com os dados no banco de dados, agora você está pronto para recuperar dados e exibi-lo em uma página da web.</span><span class="sxs-lookup"><span data-stu-id="b07ef-188">With data in the database, you are now ready to retrieve that data and display it in a web page.</span></span> <span data-ttu-id="b07ef-189">Você usará um **GridView** controle para exibir os dados em colunas e linhas.</span><span class="sxs-lookup"><span data-stu-id="b07ef-189">You will use a **GridView** control to display the data in columns and rows.</span></span>

<span data-ttu-id="b07ef-190">Abra Students.aspx e localize o **MainContent** espaço reservado.</span><span class="sxs-lookup"><span data-stu-id="b07ef-190">Open Students.aspx, and locate the **MainContent** placeholder.</span></span> <span data-ttu-id="b07ef-191">Dentro do espaço reservado, adicione um **GridView** controle que inclui o código a seguir.</span><span class="sxs-lookup"><span data-stu-id="b07ef-191">Within that placeholder, add a **GridView** control that includes the following code.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample6.aspx)]

<span data-ttu-id="b07ef-192">Há alguns conceitos importantes nesse código de marcação para que você perceba.</span><span class="sxs-lookup"><span data-stu-id="b07ef-192">There are a couple of important concepts in this markup code for you to notice.</span></span> <span data-ttu-id="b07ef-193">Primeiro, observe que um valor está definido para o **SelectMethod** propriedade no elemento GridView.</span><span class="sxs-lookup"><span data-stu-id="b07ef-193">First, notice that a value is set for the **SelectMethod** property in the GridView element.</span></span> <span data-ttu-id="b07ef-194">Esse valor Especifica o nome do método que é usado para recuperar dados do GridView.</span><span class="sxs-lookup"><span data-stu-id="b07ef-194">This value specifies the name of the method that is used for retrieving data for the GridView.</span></span> <span data-ttu-id="b07ef-195">Você criará esse método na próxima etapa.</span><span class="sxs-lookup"><span data-stu-id="b07ef-195">You will create this method in the next step.</span></span> <span data-ttu-id="b07ef-196">Segundo, observe que o **ItemType** está definida como a classe de estudante que você criou anteriormente.</span><span class="sxs-lookup"><span data-stu-id="b07ef-196">Second, notice that the **ItemType** property is set to the Student class that you created earlier.</span></span> <span data-ttu-id="b07ef-197">Ao definir esse valor, você pode fazer referência às propriedades dessa classe no código de marcação.</span><span class="sxs-lookup"><span data-stu-id="b07ef-197">By setting this value, you can refer to properties of that class in the markup code.</span></span> <span data-ttu-id="b07ef-198">Por exemplo, a classe do aluno contém uma coleção de registros.</span><span class="sxs-lookup"><span data-stu-id="b07ef-198">For example, the Student class contains a collection named Enrollments.</span></span> <span data-ttu-id="b07ef-199">Você pode usar **Item.Enrollments** para recuperar a coleção e, em seguida, use a sintaxe LINQ para recuperar a soma dos créditos registrados para cada aluno.</span><span class="sxs-lookup"><span data-stu-id="b07ef-199">You can use **Item.Enrollments** to retrieve that collection and then use LINQ syntax to retrieve the sum of enrolled credits for each student.</span></span>

<span data-ttu-id="b07ef-200">O arquivo code-behind, você precisa adicionar o método que é especificado para o **SelectMethod** valor.</span><span class="sxs-lookup"><span data-stu-id="b07ef-200">In the code-behind file, you need to add the method that is specified for the **SelectMethod** value.</span></span> <span data-ttu-id="b07ef-201">Abra **Students.aspx.cs**e adicione **usando** instruções para o **ContosoUniversityModelBinding.Models** e **System.Data.Entity**namespaces.</span><span class="sxs-lookup"><span data-stu-id="b07ef-201">Open **Students.aspx.cs**, and add **using** statements for the **ContosoUniversityModelBinding.Models** and **System.Data.Entity** namespaces.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample7.cs)]

<span data-ttu-id="b07ef-202">Em seguida, adicione o seguinte método.</span><span class="sxs-lookup"><span data-stu-id="b07ef-202">Then, add the following method.</span></span> <span data-ttu-id="b07ef-203">Observe que o nome desse método corresponde ao nome fornecido para SelectMethod.</span><span class="sxs-lookup"><span data-stu-id="b07ef-203">Notice that the name of this method matches the name you provided for SelectMethod.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample8.cs)]

<span data-ttu-id="b07ef-204">O **incluir** cláusula melhora o desempenho dessa consulta, mas não é essencial para a consulta trabalhar.</span><span class="sxs-lookup"><span data-stu-id="b07ef-204">The **Include** clause improves the performance of this query but is not essential for the query to work.</span></span> <span data-ttu-id="b07ef-205">Sem a cláusula Include, os dados seriam ser recuperados usando o carregamento lento, que envolve o envio de que uma consulta separada no banco de dados cada vez relacionadas a dados são recuperados.</span><span class="sxs-lookup"><span data-stu-id="b07ef-205">Without the Include clause, the data would be retrieved using lazy loading, which involves sending a separate query to the database each time related data is retrieved.</span></span> <span data-ttu-id="b07ef-206">Fornecendo a cláusula Include, os dados são recuperados usando o carregamento rápido, o que significa que todos os dados relacionados são recuperados por meio de uma única consulta do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="b07ef-206">By providing the Include clause, the data is retrieved using eager loading, which means all of the related data is retrieved through a single query of the database.</span></span> <span data-ttu-id="b07ef-207">Em casos em que a maioria dos dados relacionados não é seja usado, eager carregamento pode ser menos eficiente, pois mais dados são recuperados.</span><span class="sxs-lookup"><span data-stu-id="b07ef-207">In cases where most of the related data is not be used, eager loading can be less efficient because more data is retrieved.</span></span> <span data-ttu-id="b07ef-208">No entanto, nesse caso, carregamento rápido fornece o melhor desempenho porque os dados relacionados são exibidos para cada registro.</span><span class="sxs-lookup"><span data-stu-id="b07ef-208">However, in this case, eager loading provides the best performance because the related data is displayed for each record.</span></span>

<span data-ttu-id="b07ef-209">Para obter mais informações sobre considerações sobre o desempenho durante o carregamento de dados relacionados, consulte a seção intitulada **Lazy, Eager e explícitas carregamento de dados relacionados** no [leitura de dados relacionados com o Entity Framework em uma ASP Aplicativo do .NET MVC](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/reading-related-data-with-the-entity-framework-in-an-asp-net-mvc-application.md) tópico.</span><span class="sxs-lookup"><span data-stu-id="b07ef-209">For more information about performance consideration when loading related data, see the section titled **Lazy, Eager, and Explicit Loading of Related Data** in the [Reading Related Data with the Entity Framework in an ASP.NET MVC Application](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/reading-related-data-with-the-entity-framework-in-an-asp-net-mvc-application.md) topic.</span></span>

<span data-ttu-id="b07ef-210">Por padrão, eles são classificados pelos valores da propriedade marcada como a chave.</span><span class="sxs-lookup"><span data-stu-id="b07ef-210">By default, the data is sorted by the values of the property marked as the key.</span></span> <span data-ttu-id="b07ef-211">Você pode adicionar uma cláusula OrderBy para especificar um valor diferente para classificação.</span><span class="sxs-lookup"><span data-stu-id="b07ef-211">You can add an OrderBy clause to specify a different value for sorting.</span></span> <span data-ttu-id="b07ef-212">Neste exemplo, a propriedade de StudentID padrão é usada para classificação.</span><span class="sxs-lookup"><span data-stu-id="b07ef-212">In this example, the default StudentID property is used for sorting.</span></span> <span data-ttu-id="b07ef-213">No [classificação, paginação e filtragem de dados](sorting-paging-and-filtering-data.md) tópico, você permitirá que o usuário selecione uma coluna para classificação.</span><span class="sxs-lookup"><span data-stu-id="b07ef-213">In the [Sorting, Paging, and Filtering Data](sorting-paging-and-filtering-data.md) topic, you will enable the user to select a column for sorting.</span></span>

<span data-ttu-id="b07ef-214">Executar seu aplicativo da web e navegue até a página de alunos.</span><span class="sxs-lookup"><span data-stu-id="b07ef-214">Run your web application, and navigate to the Students page.</span></span> <span data-ttu-id="b07ef-215">A página de alunos exibe as seguintes informações do aluno.</span><span class="sxs-lookup"><span data-stu-id="b07ef-215">The Students page displays the following student information.</span></span>

![Mostrar dados](retrieving-data/_static/image16.png)

## <a name="automatic-generation-of-model-binding-methods"></a><span data-ttu-id="b07ef-217">Geração automática de métodos do modelo de associação</span><span class="sxs-lookup"><span data-stu-id="b07ef-217">Automatic generation of model binding methods</span></span>

<span data-ttu-id="b07ef-218">Ao trabalhar com esta série de tutoriais, você pode simplesmente copiar o código do tutorial ao seu projeto.</span><span class="sxs-lookup"><span data-stu-id="b07ef-218">When working through this tutorial series, you can simply copy the code from the tutorial to your project.</span></span> <span data-ttu-id="b07ef-219">No entanto, uma desvantagem dessa abordagem é que você pode não estar ciente de recurso fornecido pelo Visual Studio para gerar automaticamente o código para os métodos do modelo de associação.</span><span class="sxs-lookup"><span data-stu-id="b07ef-219">However, one disadvantage of this approach is that you may not become aware of the feature provided by Visual Studio to automatically generate code for model binding methods.</span></span> <span data-ttu-id="b07ef-220">Ao trabalhar em seus próprios projetos, geração de código automática pode eliminar tempo e ajuda a obter uma ideia de como implementar uma operação.</span><span class="sxs-lookup"><span data-stu-id="b07ef-220">When working on your own projects, automatic code generation can save you time and help you gain a sense of how to implement an operation.</span></span> <span data-ttu-id="b07ef-221">Esta seção descreve o recurso de geração de código automática.</span><span class="sxs-lookup"><span data-stu-id="b07ef-221">This section describes the automatic code generation feature.</span></span> <span data-ttu-id="b07ef-222">Esta seção é apenas informativa e não contém qualquer código que você precisa implementar em seu projeto.</span><span class="sxs-lookup"><span data-stu-id="b07ef-222">This section is only informational and does not contain any code you need to implement in your project.</span></span>

<span data-ttu-id="b07ef-223">Ao definir um valor para o **SelectMethod**, **UpdateMethod**, **InsertMethod**, ou **DeleteMethod** propriedades no código de marcação, Você pode selecionar o **criar novo método** opção.</span><span class="sxs-lookup"><span data-stu-id="b07ef-223">When setting a value for the **SelectMethod**, **UpdateMethod**, **InsertMethod**, or **DeleteMethod** properties in the markup code, you can select the **Create New Method** option.</span></span>

![Criar novo método](retrieving-data/_static/image18.png)

<span data-ttu-id="b07ef-225">O Visual Studio não só cria um método no code-behind com a assinatura correta, mas também gera o código de implementação para ajudar a executar a operação.</span><span class="sxs-lookup"><span data-stu-id="b07ef-225">Visual Studio not only creates a method in the code-behind with the proper signature, but also generates implementation code to assist you with performing the operation.</span></span> <span data-ttu-id="b07ef-226">Se você definir primeiro o **ItemType** propriedade antes de usar o recurso de geração de código automática, o código gerado usará esse tipo para as operações.</span><span class="sxs-lookup"><span data-stu-id="b07ef-226">If you first set the **ItemType** property before using the automatic code generation feature, the generated code will use that type for the operations.</span></span> <span data-ttu-id="b07ef-227">Por exemplo, ao definir a propriedade UpdateMethod, o código a seguir é gerado automaticamente:</span><span class="sxs-lookup"><span data-stu-id="b07ef-227">For example, when setting the UpdateMethod property, the following code is automatically generated:</span></span>

[!code-csharp[Main](retrieving-data/samples/sample9.cs)]

<span data-ttu-id="b07ef-228">Novamente, o código acima não precisa ser adicionado ao seu projeto.</span><span class="sxs-lookup"><span data-stu-id="b07ef-228">Again, the above code does not need to be added to your project.</span></span> <span data-ttu-id="b07ef-229">No próximo tutorial, você irá implementar métodos para atualizar, excluir e adicionar novos dados.</span><span class="sxs-lookup"><span data-stu-id="b07ef-229">In the next tutorial, you will implement methods for updating, deleting and adding new data.</span></span>

## <a name="conclusion"></a><span data-ttu-id="b07ef-230">Conclusão</span><span class="sxs-lookup"><span data-stu-id="b07ef-230">Conclusion</span></span>

<span data-ttu-id="b07ef-231">Neste tutorial, você criou as classes de modelo de dados e gerado um banco de dados a partir dessas classes.</span><span class="sxs-lookup"><span data-stu-id="b07ef-231">In this tutorial, you created data model classes and generated a database from those classes.</span></span> <span data-ttu-id="b07ef-232">As tabelas de banco de dados tenha sido preenchido com dados de teste.</span><span class="sxs-lookup"><span data-stu-id="b07ef-232">You filled the database tables with test data.</span></span> <span data-ttu-id="b07ef-233">Usado associação de modelo para recuperar dados do banco de dados e depois exibidos os dados em um controle GridView.</span><span class="sxs-lookup"><span data-stu-id="b07ef-233">You used model binding to retrieve data from the database, and then displayed the data in a GridView.</span></span>

<span data-ttu-id="b07ef-234">Na próxima [tutorial](updating-deleting-and-creating-data.md) nesta série, você habilitará atualizar, excluir e criar dados.</span><span class="sxs-lookup"><span data-stu-id="b07ef-234">In the next [tutorial](updating-deleting-and-creating-data.md) in this series, you will enable updating, deleting, and creating data.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="b07ef-235">Avançar</span><span class="sxs-lookup"><span data-stu-id="b07ef-235">Next</span></span>](updating-deleting-and-creating-data.md)
