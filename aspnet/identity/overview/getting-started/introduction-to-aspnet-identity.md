---
uid: identity/overview/getting-started/introduction-to-aspnet-identity
title: Introdução ao ASP.NET identidade | Microsoft Docs
author: jongalloway
description: O sistema de associação do ASP.NET foi introduzido com o ASP.NET 2.0 novamente em 2005 e desde então ter havido muitas alterações de typicall de aplicativos web maneiras...
ms.author: aspnetcontent
manager: wpickett
ms.date: 10/17/2013
ms.topic: article
ms.assetid: 38717fc1-5989-43cf-952d-4007cc1dd923
ms.technology: ''
ms.prod: .net-framework
msc.legacyurl: /identity/overview/getting-started/introduction-to-aspnet-identity
msc.type: authoredcontent
ms.openlocfilehash: 59272f4659256e108ee99b22eb3bd3e2583a617c
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/06/2018
---
<a name="introduction-to-aspnet-identity"></a><span data-ttu-id="769c3-103">Introdução a identidade do ASP.NET</span><span class="sxs-lookup"><span data-stu-id="769c3-103">Introduction to ASP.NET Identity</span></span>
====================
<span data-ttu-id="769c3-104">por [Jon Galloway](https://github.com/jongalloway), [Pranav Rastogi](https://github.com/rustd), [Rick Anderson](https://github.com/Rick-Anderson), [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="769c3-104">by [Jon Galloway](https://github.com/jongalloway), [Pranav Rastogi](https://github.com/rustd), [Rick Anderson](https://github.com/Rick-Anderson), [Tom Dykstra](https://github.com/tdykstra)</span></span>

> <span data-ttu-id="769c3-105">O sistema de associação do ASP.NET foi introduzido com o ASP.NET 2.0 novamente em 2005 e desde então ter havido muitas alterações das maneiras de aplicativos da web geralmente cuida da autenticação e autorização.</span><span class="sxs-lookup"><span data-stu-id="769c3-105">The ASP.NET membership system was introduced with ASP.NET 2.0 back in 2005, and since then there have been many changes in the ways web applications typically handle authentication and authorization.</span></span> <span data-ttu-id="769c3-106">Identidade do ASP.NET é uma nova aparência no qual o sistema de associação deve ser durante a criação de aplicativos modernos para a web, telefone ou tablet.</span><span class="sxs-lookup"><span data-stu-id="769c3-106">ASP.NET Identity is a fresh look at what the membership system should be when you are building modern applications for the web, phone, or tablet.</span></span>
> 
> <span data-ttu-id="769c3-107">Este artigo foi escrito por Pranav Rastogi ([@rustd](https://twitter.com/rustd)), Jon Galloway ([@jongalloway](https://twitter.com/jongalloway)), Tom Dykstra e Rick Anderson ([ @RickAndMSFT ](https://twitter.com/#!/RickAndMSFT) ).</span><span class="sxs-lookup"><span data-stu-id="769c3-107">This article was written by Pranav Rastogi ([@rustd](https://twitter.com/rustd)), Jon Galloway ([@jongalloway](https://twitter.com/jongalloway)), Tom Dykstra, and Rick Anderson ([@RickAndMSFT](https://twitter.com/#!/RickAndMSFT) ).</span></span>


## <a name="background-membership-in-aspnet"></a><span data-ttu-id="769c3-108">Plano de fundo: Associação ASP.NET</span><span class="sxs-lookup"><span data-stu-id="769c3-108">Background: Membership in ASP.NET</span></span>

### <a name="aspnet-membership"></a><span data-ttu-id="769c3-109">Associação do ASP.NET</span><span class="sxs-lookup"><span data-stu-id="769c3-109">ASP.NET Membership</span></span>

<span data-ttu-id="769c3-110">[Associação ASP.NET](https://msdn.microsoft.com/library/yh26yfzy(v=VS.100).aspx) foi projetado para resolver os requisitos de associação de site que eram comuns em 2005, que envolvia autenticação de formulários e um banco de dados do SQL Server para nomes de usuário, senhas e dados de perfil.</span><span class="sxs-lookup"><span data-stu-id="769c3-110">[ASP.NET Membership](https://msdn.microsoft.com/library/yh26yfzy(v=VS.100).aspx) was designed to solve site membership requirements that were common in 2005, which involved Forms Authentication, and a SQL Server database for user names, passwords, and profile data.</span></span> <span data-ttu-id="769c3-111">Atualmente, há uma matriz muito mais ampla de opções de armazenamento de dados para aplicativos web e a maioria dos desenvolvedores deseja habilitar seus sites usar provedores de identidade de redes sociais para a funcionalidade de autenticação e autorização.</span><span class="sxs-lookup"><span data-stu-id="769c3-111">Today there is a much broader array of data storage options for web applications, and most developers want to enable their sites to use social identity providers for authentication and authorization functionality.</span></span> <span data-ttu-id="769c3-112">As limitações de design da associação ASP.NET dificultam essa transição:</span><span class="sxs-lookup"><span data-stu-id="769c3-112">The limitations of ASP.NET Membership's design make this transition difficult:</span></span>

- <span data-ttu-id="769c3-113">O esquema de banco de dados foi projetado para o SQL Server e você não pode alterá-lo.</span><span class="sxs-lookup"><span data-stu-id="769c3-113">The database schema was designed for SQL Server and you can't change it.</span></span> <span data-ttu-id="769c3-114">Você pode adicionar informações de perfil, mas os dados adicionais são compactados em uma tabela diferente, o que torna difícil para acesso por qualquer meio, exceto por meio da API de provedor de perfil.</span><span class="sxs-lookup"><span data-stu-id="769c3-114">You can add profile information, but the additional data is packed into a different table, which makes it difficult to access by any means except through the Profile Provider API.</span></span>
- <span data-ttu-id="769c3-115">O sistema do provedor permite que você altere o armazenamento de dados de backup, mas o sistema foi projetado para suposições apropriadas para um banco de dados relacional.</span><span class="sxs-lookup"><span data-stu-id="769c3-115">The provider system enables you to change the backing data store, but the system is designed around assumptions appropriate for a relational database.</span></span> <span data-ttu-id="769c3-116">Você pode escrever um provedor para armazenar informações de associação em um mecanismo de armazenamento não relacionais, como tabelas de armazenamento do Azure, mas, em seguida, você precisa resolver o design relacional escrevendo muito código e muito `System.NotImplementedException` exceções para métodos que não se aplicam a bancos de dados NoSQL.</span><span class="sxs-lookup"><span data-stu-id="769c3-116">You can write a provider to store membership information in a non-relational storage mechanism, such as Azure Storage Tables, but then you have to work around the relational design by writing a lot of code and a lot of `System.NotImplementedException` exceptions for methods that don't apply to NoSQL databases.</span></span>
- <span data-ttu-id="769c3-117">Como a funcionalidade de log-in/log-out baseia-se a autenticação de formulários, o sistema de associação não pode usar [OWIN](../../../aspnet/overview/owin-and-katana/an-overview-of-project-katana.md).</span><span class="sxs-lookup"><span data-stu-id="769c3-117">Since the log-in/log-out functionality is based on Forms Authentication, the membership system can't use [OWIN](../../../aspnet/overview/owin-and-katana/an-overview-of-project-katana.md).</span></span> <span data-ttu-id="769c3-118">OWIN inclui componentes de middleware de autenticação, incluindo suporte para logons usando provedores de identidade externa (como Google Accounts da Microsoft, Facebook, Twitter) e logons usam contas da organização do Active Directory local ou Active Directory do Azure.</span><span class="sxs-lookup"><span data-stu-id="769c3-118">OWIN includes middleware components for authentication, including support for log-ins using external identity providers (like Microsoft Accounts, Facebook, Google, Twitter), and log-ins using organizational accounts from on-premises Active Directory or Azure Active Directory.</span></span> <span data-ttu-id="769c3-119">OWIN também inclui suporte para OAuth 2.0 JWT e CORS.</span><span class="sxs-lookup"><span data-stu-id="769c3-119">OWIN also includes support for OAuth 2.0, JWT and CORS.</span></span>

### <a name="aspnet-simple-membership"></a><span data-ttu-id="769c3-120">Associação simples do ASP.NET</span><span class="sxs-lookup"><span data-stu-id="769c3-120">ASP.NET Simple Membership</span></span>

<span data-ttu-id="769c3-121">[Associação simples do ASP.NET](../../../web-pages/overview/security/16-adding-security-and-membership.md) foi desenvolvido como um sistema de associação para páginas da Web do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="769c3-121">[ASP.NET simple membership](../../../web-pages/overview/security/16-adding-security-and-membership.md) was developed as a membership system for ASP.NET Web Pages.</span></span> <span data-ttu-id="769c3-122">Ele foi lançado com o WebMatrix e Visual Studio 2010 SP1.</span><span class="sxs-lookup"><span data-stu-id="769c3-122">It was released with WebMatrix and Visual Studio 2010 SP1.</span></span> <span data-ttu-id="769c3-123">O objetivo de associação simples foi tornar mais fácil adicionar a funcionalidade de associação a um aplicativo de páginas da Web.</span><span class="sxs-lookup"><span data-stu-id="769c3-123">The goal of Simple Membership was to make it easy to add membership functionality to a Web Pages application.</span></span>

<span data-ttu-id="769c3-124">Associação simples facilitam a personalizar as informações de perfil de usuário, mas ainda compartilha os outros problemas com a associação do ASP.NET e ele tem algumas limitações:</span><span class="sxs-lookup"><span data-stu-id="769c3-124">Simple Membership did make it easier to customize user profile information, but it still shares the other problems with ASP.NET Membership, and it has some limitations:</span></span>

- <span data-ttu-id="769c3-125">Era difícil de manter dados de sistema de associação em um repositório não relacionais.</span><span class="sxs-lookup"><span data-stu-id="769c3-125">It was hard to persist membership system data in a non-relational store.</span></span>
- <span data-ttu-id="769c3-126">Você não pode usá-lo com OWIN.</span><span class="sxs-lookup"><span data-stu-id="769c3-126">You can't use it with OWIN.</span></span>
- <span data-ttu-id="769c3-127">Eles não funcionam bem com provedores de associação ASP.NET existente e não é extensível.</span><span class="sxs-lookup"><span data-stu-id="769c3-127">It doesn't work well with existing ASP.NET Membership providers, and it's not extensible.</span></span>

### <a name="aspnet-universal-providers"></a><span data-ttu-id="769c3-128">Provedores Universais ASP.NET</span><span class="sxs-lookup"><span data-stu-id="769c3-128">ASP.NET Universal Providers</span></span>

<span data-ttu-id="769c3-129">[ASP.NET Universal Providers](http://www.hanselman.com/blog/IntroducingSystemWebProvidersASPNETUniversalProvidersForSessionMembershipRolesAndUserProfileOnSQLCompactAndSQLAzure.aspx) foram desenvolvidos para possibilitar manter informações de associação no Microsoft que o banco de dados SQL do Azure e elas também funcionam com o SQL Server Compact.</span><span class="sxs-lookup"><span data-stu-id="769c3-129">[ASP.NET Universal Providers](http://www.hanselman.com/blog/IntroducingSystemWebProvidersASPNETUniversalProvidersForSessionMembershipRolesAndUserProfileOnSQLCompactAndSQLAzure.aspx) were developed to make it possible to persist membership information in Microsoft Azure SQL Database, and they also work with SQL Server Compact.</span></span> <span data-ttu-id="769c3-130">O Universal Providers foi compilado no Entity Framework Code First, que significa que os provedores de Universal pode ser usados para manter dados em qualquer repositório EF com suporte.</span><span class="sxs-lookup"><span data-stu-id="769c3-130">The Universal Providers were built on Entity Framework Code First, which means that the Universal Providers can be used to persist data in any store supported by EF.</span></span> <span data-ttu-id="769c3-131">Com os provedores de Universal, o esquema de banco de dados foi limpo bastante muito bem.</span><span class="sxs-lookup"><span data-stu-id="769c3-131">With the Universal Providers, the database schema was cleaned up quite a lot as well.</span></span>

<span data-ttu-id="769c3-132">Universal Providers é criado na infraestrutura de associação ASP.NET, portanto eles ainda realizar as mesmas limitações que o provedor de SqlMembership.</span><span class="sxs-lookup"><span data-stu-id="769c3-132">The Universal Providers are built on the ASP.NET Membership infrastructure, so they still carry the same limitations as the SqlMembership Provider.</span></span> <span data-ttu-id="769c3-133">Ou seja, eles foram projetados para bancos de dados relacionais e é difícil personalizar as informações de perfil e o usuário.</span><span class="sxs-lookup"><span data-stu-id="769c3-133">That is, they were designed for relational databases and it's hard to customize profile and user information.</span></span> <span data-ttu-id="769c3-134">Esses provedores ainda usam autenticação de formulários para a funcionalidade de logon e logoff.</span><span class="sxs-lookup"><span data-stu-id="769c3-134">These providers also still use Forms Authentication for log-in and log-out functionality.</span></span>

## <a name="aspnet-identity"></a><span data-ttu-id="769c3-135">ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="769c3-135">ASP.NET Identity</span></span>

<span data-ttu-id="769c3-136">Como a associação história no ASP.NET evolução ao longo dos anos, a equipe do ASP.NET aprendeu muito com os comentários dos clientes.</span><span class="sxs-lookup"><span data-stu-id="769c3-136">As the membership story in ASP.NET has evolved over the years, the ASP.NET team has learned a lot from feedback from customers.</span></span>

<span data-ttu-id="769c3-137">A suposição de que os usuários efetuarem logon digitando um nome de usuário e senha que eles foram registrados no seu próprio aplicativo não é mais válida.</span><span class="sxs-lookup"><span data-stu-id="769c3-137">The assumption that users will log in by entering a user name and password that they have registered in your own application is no longer valid.</span></span> <span data-ttu-id="769c3-138">Web se tornou mais social.</span><span class="sxs-lookup"><span data-stu-id="769c3-138">The web has become more social.</span></span> <span data-ttu-id="769c3-139">Os usuários estão interagindo com o outro em tempo real por meio de canais sociais, como Facebook, Twitter e outros sites sociais.</span><span class="sxs-lookup"><span data-stu-id="769c3-139">Users are interacting with each other in real time through social channels such as Facebook, Twitter, and other social web sites.</span></span> <span data-ttu-id="769c3-140">Desenvolvedores desejam que os usuários possam fazer logon com suas identidades sociais para que eles podem ter uma experiência avançada em seus sites.</span><span class="sxs-lookup"><span data-stu-id="769c3-140">Developers want users to be able to log in with their social identities so that they can have a rich experience on their web sites.</span></span> <span data-ttu-id="769c3-141">Um sistema de associação modernos deve habilitar o redirecionamento com base em logons para provedores de autenticação, como Facebook, Twitter e outros.</span><span class="sxs-lookup"><span data-stu-id="769c3-141">A modern membership system must enable redirection-based log-ins to authentication providers such as Facebook, Twitter, and others.</span></span>

<span data-ttu-id="769c3-142">Conforme a evolução de desenvolvimento na web, portanto não os padrões de desenvolvimento na web.</span><span class="sxs-lookup"><span data-stu-id="769c3-142">As web development evolved, so did the patterns of web development.</span></span> <span data-ttu-id="769c3-143">Unidade de código do aplicativo de teste se tornou uma preocupação principal para desenvolvedores de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="769c3-143">Unit testing of application code became a core concern for application developers.</span></span> <span data-ttu-id="769c3-144">2008 ASP.NET adicionada uma nova estrutura com base no padrão Model-View-Controller (MVC), em parte, para ajudar os desenvolvedores a criar aplicativos de ASP.NET testados de unidade.</span><span class="sxs-lookup"><span data-stu-id="769c3-144">In 2008 ASP.NET added a new framework based on the Model-View-Controller (MVC) pattern, in part to help developers build unit testable ASP.NET applications.</span></span> <span data-ttu-id="769c3-145">Os desenvolvedores que desejam unidade teste sua lógica de aplicativo também queira ser capaz de fazer isso com o sistema de associação.</span><span class="sxs-lookup"><span data-stu-id="769c3-145">Developers who wanted to unit test their application logic also wanted to be able to do that with the membership system.</span></span>

<span data-ttu-id="769c3-146">Considerando que essas alterações no desenvolvimento de aplicativos web, ASP.NET Identity foi desenvolvido com os seguintes objetivos:</span><span class="sxs-lookup"><span data-stu-id="769c3-146">Considering these changes in web application development, ASP.NET Identity was developed with the following goals:</span></span>

- <span data-ttu-id="769c3-147">**Um sistema de identidade do ASP.NET**</span><span class="sxs-lookup"><span data-stu-id="769c3-147">**One ASP.NET Identity system**</span></span>

    - <span data-ttu-id="769c3-148">Identidade do ASP.NET pode ser usada com todas as estruturas ASP.NET, como ASP.NET MVC, formulários da Web, páginas da Web, API da Web e SignalR.</span><span class="sxs-lookup"><span data-stu-id="769c3-148">ASP.NET Identity can be used with all of the ASP.NET frameworks, such as ASP.NET MVC, Web Forms, Web Pages, Web API, and SignalR.</span></span>
    - <span data-ttu-id="769c3-149">Identidade do ASP.NET pode ser usada durante a criação de aplicativos web, telefone, armazenamento ou híbrida.</span><span class="sxs-lookup"><span data-stu-id="769c3-149">ASP.NET Identity can be used when you are building web, phone, store, or hybrid applications.</span></span>
- <span data-ttu-id="769c3-150">**Facilidade de conexão de dados de perfil sobre o usuário**</span><span class="sxs-lookup"><span data-stu-id="769c3-150">**Ease of plugging in profile data about the user**</span></span>

    - <span data-ttu-id="769c3-151">Você tem controle sobre o esquema de usuário e informações de perfil.</span><span class="sxs-lookup"><span data-stu-id="769c3-151">You have control over the schema of user and profile information.</span></span> <span data-ttu-id="769c3-152">Por exemplo, você pode facilmente habilitar o sistema armazenar as datas de nascimento inseridas por usuários quando eles se registram uma conta em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="769c3-152">For example, you can easily enable the system to store birth dates entered by users when they register an account in your application.</span></span>

- <span data-ttu-id="769c3-153">**Controle de persistência**</span><span class="sxs-lookup"><span data-stu-id="769c3-153">**Persistence control**</span></span>

    - <span data-ttu-id="769c3-154">Por padrão, o sistema de identidade do ASP.NET armazena todas as informações de usuário em um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="769c3-154">By default, the ASP.NET Identity system stores all the user information in a database.</span></span> <span data-ttu-id="769c3-155">Usa o ASP.NET Identity Entity Framework Code First para implementar todo seu mecanismo de persistência.</span><span class="sxs-lookup"><span data-stu-id="769c3-155">ASP.NET Identity uses Entity Framework Code First to implement all of its persistence mechanism.</span></span>
    - <span data-ttu-id="769c3-156">Desde que você controle o esquema de banco de dados, tarefas comuns, como alterar nomes de tabela ou alterar o tipo de dados de chaves primárias é simple.</span><span class="sxs-lookup"><span data-stu-id="769c3-156">Since you control the database schema, common tasks such as changing table names or changing the data type of primary keys is simple to do.</span></span>
    - <span data-ttu-id="769c3-157">É fácil de plug-in diferentes mecanismos de armazenamento, como o SharePoint, o serviço de tabela de armazenamento do Azure, bancos de dados NoSQL, etc., sem precisar gerar `System.NotImplementedExceptions` exceções.</span><span class="sxs-lookup"><span data-stu-id="769c3-157">It's easy to plug in different storage mechanisms such as SharePoint, Azure Storage Table Service, NoSQL databases, etc., without having to throw `System.NotImplementedExceptions` exceptions.</span></span>
- <span data-ttu-id="769c3-158">**Capacidade de teste de unidade**</span><span class="sxs-lookup"><span data-stu-id="769c3-158">**Unit testability**</span></span>

    - <span data-ttu-id="769c3-159">Identidade do ASP.NET faz com que o aplicativo web mais unidade podem ser testados.</span><span class="sxs-lookup"><span data-stu-id="769c3-159">ASP.NET Identity makes the web application more unit testable.</span></span> <span data-ttu-id="769c3-160">Você pode escrever testes de unidade para as partes do seu aplicativo que usam a identidade do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="769c3-160">You can write unit tests for the parts of your application that use ASP.NET Identity.</span></span>
- <span data-ttu-id="769c3-161">**Provedor de função**</span><span class="sxs-lookup"><span data-stu-id="769c3-161">**Role provider**</span></span>

    - <span data-ttu-id="769c3-162">Não há um provedor de função que permite restringir o acesso a partes do seu aplicativo por funções.</span><span class="sxs-lookup"><span data-stu-id="769c3-162">There is a role provider which lets you restrict access to parts of your application by roles.</span></span> <span data-ttu-id="769c3-163">Você pode facilmente criar funções como "Admin" e adicionar usuários a funções.</span><span class="sxs-lookup"><span data-stu-id="769c3-163">You can easily create roles such as "Admin" and add users to roles.</span></span>
- <span data-ttu-id="769c3-164">**Baseada em declarações**</span><span class="sxs-lookup"><span data-stu-id="769c3-164">**Claims Based**</span></span>

    - <span data-ttu-id="769c3-165">Identidade do ASP.NET oferece suporte à autenticação baseada em declarações, onde a identidade do usuário é representada como um conjunto de declarações.</span><span class="sxs-lookup"><span data-stu-id="769c3-165">ASP.NET Identity supports claims-based authentication, where the user's identity is represented as a set of claims.</span></span> <span data-ttu-id="769c3-166">Declarações permitem aos desenvolvedores ser muito mais expressivas descrever a identidade do usuário de permitir que funções.</span><span class="sxs-lookup"><span data-stu-id="769c3-166">Claims allow developers to be a lot more expressive in describing a user's identity than roles allow.</span></span> <span data-ttu-id="769c3-167">Enquanto a associação de função é apenas um booliano (membro ou membro não), uma declaração pode incluir informações detalhadas sobre a identidade do usuário e a associação.</span><span class="sxs-lookup"><span data-stu-id="769c3-167">Whereas role membership is just a boolean (member or non-member), a claim can include rich information about the user's identity and membership.</span></span>
- <span data-ttu-id="769c3-168">**Provedores de logon social**</span><span class="sxs-lookup"><span data-stu-id="769c3-168">**Social Login Providers**</span></span>

    - <span data-ttu-id="769c3-169">Você pode facilmente adicionar logons sociais como Account da Microsoft, Facebook, Twitter, Google e outras pessoas ao seu aplicativo e armazenar os dados específicos do usuário em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="769c3-169">You can easily add social log-ins such as Microsoft Account, Facebook, Twitter, Google, and others to your application, and store the user-specific data in your application.</span></span>
- <span data-ttu-id="769c3-170">**Azure Active Directory**</span><span class="sxs-lookup"><span data-stu-id="769c3-170">**Azure Active Directory**</span></span>

    - <span data-ttu-id="769c3-171">Você pode também adiciona a funcionalidade de log usando o Active Directory do Azure e armazenar os dados específicos do usuário em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="769c3-171">You can also add log-in functionality using Azure Active Directory, and store the user-specific data in your application.</span></span> <span data-ttu-id="769c3-172">Para obter mais informações, consulte [contas organizacionais](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauth) na criação de projetos Web do ASP.NET no Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="769c3-172">For more information, see [Organizational Accounts](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauth) in Creating ASP.NET Web Projects in Visual Studio 2013</span></span>
- <span data-ttu-id="769c3-173">**Integração de OWIN**</span><span class="sxs-lookup"><span data-stu-id="769c3-173">**OWIN Integration**</span></span>

    - <span data-ttu-id="769c3-174">A autenticação do ASP.NET baseia-se agora a owin que pode ser usado em qualquer host do OWIN.</span><span class="sxs-lookup"><span data-stu-id="769c3-174">ASP.NET authentication is now based on OWIN middleware that can be used on any OWIN-based host.</span></span> <span data-ttu-id="769c3-175">Identidade do ASP.NET não tem qualquer dependência em System. Web.</span><span class="sxs-lookup"><span data-stu-id="769c3-175">ASP.NET Identity does not have any dependency on System.Web.</span></span> <span data-ttu-id="769c3-176">Ele é uma estrutura OWIN totalmente compatível e pode ser usado em qualquer aplicativo OWIN hospedado.</span><span class="sxs-lookup"><span data-stu-id="769c3-176">It is a fully compliant OWIN framework and can be used in any OWIN hosted application.</span></span>
    - <span data-ttu-id="769c3-177">Identidade do ASP.NET usa autenticação OWIN para log-em/logoff de usuários no site da web.</span><span class="sxs-lookup"><span data-stu-id="769c3-177">ASP.NET Identity uses OWIN Authentication for log-in/log-out of users in the web site.</span></span> <span data-ttu-id="769c3-178">Isso significa que, em vez de usar FormsAuthentication para gerar o cookie, o aplicativo usa CookieAuthentication OWIN para fazer isso.</span><span class="sxs-lookup"><span data-stu-id="769c3-178">This means that instead of using FormsAuthentication to generate the cookie, the application uses OWIN CookieAuthentication to do that.</span></span>
- <span data-ttu-id="769c3-179">**Pacote do NuGet**</span><span class="sxs-lookup"><span data-stu-id="769c3-179">**NuGet package**</span></span>

    - <span data-ttu-id="769c3-180">Identidade do ASP.NET é redistribuída como um pacote NuGet, que é instalado nos modelos ASP.NET MVC, formulários da Web e a API da Web que são fornecidos com o Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="769c3-180">ASP.NET Identity is redistributed as a NuGet package which is installed in the ASP.NET MVC, Web Forms and Web API templates that ship with Visual Studio 2013.</span></span> <span data-ttu-id="769c3-181">Você pode baixar este pacote do NuGet da Galeria NuGet.</span><span class="sxs-lookup"><span data-stu-id="769c3-181">You can download this NuGet package from the NuGet gallery.</span></span>
    - <span data-ttu-id="769c3-182">Pacote liberar a identidade do ASP.NET como um NuGet torna mais fácil para a equipe do ASP.NET para iterar sobre novos recursos e correções de bugs e fornecer esses para os desenvolvedores de forma ágil.</span><span class="sxs-lookup"><span data-stu-id="769c3-182">Releasing ASP.NET Identity as a NuGet package makes it easier for the ASP.NET team to iterate on new features and bug fixes, and deliver these to developers in an agile manner.</span></span>

## <a name="getting-started-with-aspnet-identity"></a><span data-ttu-id="769c3-183">Introdução ao ASP.NET Identity</span><span class="sxs-lookup"><span data-stu-id="769c3-183">Getting started with ASP.NET Identity</span></span>

<span data-ttu-id="769c3-184">Identidade do ASP.NET é usada nos modelos de projeto do Visual Studio 2013 para ASP.NET MVC, formulários da Web, API da Web e SPA.</span><span class="sxs-lookup"><span data-stu-id="769c3-184">ASP.NET Identity is used in the Visual Studio 2013 project templates for ASP.NET MVC, Web Forms, Web API and SPA.</span></span> <span data-ttu-id="769c3-185">Neste passo a passo, vamos ilustram como os modelos de projeto usam identidade do ASP.NET para adicionar funcionalidade ao se registrar, faça logon e logoff de um usuário.</span><span class="sxs-lookup"><span data-stu-id="769c3-185">In this walkthrough, we'll illustrate how the project templates use ASP.NET Identity to add functionality to register, log in and log out a user.</span></span>

<span data-ttu-id="769c3-186">Identidade do ASP.NET é implementada usando o procedimento a seguir.</span><span class="sxs-lookup"><span data-stu-id="769c3-186">ASP.NET Identity is implemented using the following procedure.</span></span> <span data-ttu-id="769c3-187">A finalidade deste artigo é fornecer uma visão geral de alto nível da identidade do ASP.NET; Você pode segui-la passo a passo ou apenas ler os detalhes.</span><span class="sxs-lookup"><span data-stu-id="769c3-187">The purpose of this article is to give you a high level overview of ASP.NET Identity; you can follow it step by step or just read the details.</span></span> <span data-ttu-id="769c3-188">Para obter instruções mais detalhadas sobre a criação de aplicativos usando a identidade do ASP.NET, inclusive usando a nova API para adicionar usuários, funções e as informações de perfil, consulte a seção próximas etapas no final deste artigo.</span><span class="sxs-lookup"><span data-stu-id="769c3-188">For more detailed instructions on creating apps using ASP.NET Identity, including using the new API to add users, roles and profile information, see the Next Steps section at the end of this article.</span></span>

1. <span data-ttu-id="769c3-189">Crie um aplicativo ASP.NET MVC com contas individuais.</span><span class="sxs-lookup"><span data-stu-id="769c3-189">Create an ASP.NET MVC application with Individual Accounts.</span></span> <span data-ttu-id="769c3-190">Você pode usar a identidade do ASP.NET no ASP.NET MVC, formulários da Web, API da Web, SignalR etc. Neste artigo vamos começar com um aplicativo ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="769c3-190">You can use ASP.NET Identity in ASP.NET MVC, Web Forms, Web API, SignalR etc. In this article we will start with an ASP.NET MVC application.</span></span>  
  
    ![](introduction-to-aspnet-identity/_static/image1.png)
2. <span data-ttu-id="769c3-191">O projeto criado contém os seguintes três pacotes para a identidade do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="769c3-191">The created project contains the following three packages for ASP.NET Identity.</span></span>

    - [`Microsoft.AspNet.Identity.EntityFramework`](http://www.nuget.org/packages/Microsoft.AspNet.Identity.EntityFramework/)  
   <span data-ttu-id="769c3-192">Este pacote tem a implementação do Entity Framework da identidade do ASP.NET que persistirá os dados de identidade do ASP.NET e o esquema para o SQL Server.</span><span class="sxs-lookup"><span data-stu-id="769c3-192">This package has the Entity Framework implementation of ASP.NET Identity which will persist the ASP.NET Identity data and schema to SQL Server.</span></span>
    - [`Microsoft.AspNet.Identity.Core`](http://www.nuget.org/packages/Microsoft.AspNet.Identity.Core/)  
   <span data-ttu-id="769c3-193">Este pacote tem interfaces principais para a identidade do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="769c3-193">This package has the core interfaces for ASP.NET Identity.</span></span> <span data-ttu-id="769c3-194">Esse pacote pode ser usado para gravar uma implementação para a identidade do ASP.NET que persistência diferentes destinos armazena como armazenamento de tabela do Azure, NoSQL bancos de dados etc.</span><span class="sxs-lookup"><span data-stu-id="769c3-194">This package can be used to write an implementation for ASP.NET Identity that targets different persistence stores such as Azure Table Storage, NoSQL databases etc.</span></span>
    - [`Microsoft.AspNet.Identity.OWIN`](http://www.nuget.org/packages/Microsoft.AspNet.Identity.Owin/)  
   <span data-ttu-id="769c3-195">Este pacote contém a funcionalidade que é usada para o plug-in de autenticação OWIN com a identidade do ASP.NET em aplicativos ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="769c3-195">This package contains functionality that is used to plug in OWIN authentication with ASP.NET Identity in ASP.NET applications.</span></span> <span data-ttu-id="769c3-196">Isso é usado quando você adicionar log na funcionalidade ao seu aplicativo e as chamadas no middleware de autenticação de Cookie OWIN para gerar um cookie.</span><span class="sxs-lookup"><span data-stu-id="769c3-196">This is used when you add log in functionality to your application and call into OWIN Cookie Authentication middleware to generate a cookie.</span></span>
3. <span data-ttu-id="769c3-197">Criar um usuário.</span><span class="sxs-lookup"><span data-stu-id="769c3-197">Creating a user.</span></span>  
   <span data-ttu-id="769c3-198">Iniciar o aplicativo e, em seguida, clique no **registrar** link para criar um usuário.</span><span class="sxs-lookup"><span data-stu-id="769c3-198">Launch the application and then click on the **Register** link to create a user.</span></span> <span data-ttu-id="769c3-199">A imagem a seguir mostra a página de registro que coleta o nome de usuário e senha.</span><span class="sxs-lookup"><span data-stu-id="769c3-199">The following image shows the Register page which collects the user name and password.</span></span>  
  
    ![](introduction-to-aspnet-identity/_static/image2.png)  
  
   <span data-ttu-id="769c3-200">Quando o usuário clica o **registrar** botão, o `Register` ação do controlador de conta cria o usuário chamando a API de identidade do ASP.NET, como destacado abaixo:</span><span class="sxs-lookup"><span data-stu-id="769c3-200">When the user clicks the **Register** button, the `Register` action of the Account controller creates the user by calling the ASP.NET Identity API, as highlighted below:</span></span>

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample1.cs?highlight=8-9)]
4. <span data-ttu-id="769c3-201">Iniciar sessão.</span><span class="sxs-lookup"><span data-stu-id="769c3-201">Log in.</span></span>  
   <span data-ttu-id="769c3-202">Se o usuário foi criado com êxito, ela é registrada pelo `SignInAsync` método.</span><span class="sxs-lookup"><span data-stu-id="769c3-202">If the user was successfully created, she is logged in by the `SignInAsync` method.</span></span>  

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample2.cs?highlight=12)]

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample3.cs?highlight=5-6)]

   <span data-ttu-id="769c3-203">O código realçado acima no `SignInAsync` método gera uma [ClaimsIdentity](https://msdn.microsoft.com/library/system.security.claims.claimsidentity.aspx).</span><span class="sxs-lookup"><span data-stu-id="769c3-203">The highlighted code above in the `SignInAsync` method generates a [ClaimsIdentity](https://msdn.microsoft.com/library/system.security.claims.claimsidentity.aspx).</span></span> <span data-ttu-id="769c3-204">Como identidade do ASP.NET e autenticação de Cookie OWIN são sistema baseado em declarações, o framework requer o aplicativo para gerar uma ClaimsIdentity para o usuário.</span><span class="sxs-lookup"><span data-stu-id="769c3-204">Since ASP.NET Identity and OWIN Cookie Authentication are claims-based system, the framework requires the app to generate a ClaimsIdentity for the user.</span></span> <span data-ttu-id="769c3-205">ClaimsIdentity tem informações sobre todas as declarações para o usuário, como as funções que o usuário pertence.</span><span class="sxs-lookup"><span data-stu-id="769c3-205">ClaimsIdentity has information about all the claims for the user, such as what roles the user belongs to.</span></span> <span data-ttu-id="769c3-206">Você também pode adicionar mais declarações para o usuário neste estágio.</span><span class="sxs-lookup"><span data-stu-id="769c3-206">You can also add more claims for the user at this stage.</span></span>  
  
   <span data-ttu-id="769c3-207">O código realçado abaixo no `SignInAsync` método assina o usuário usando o AuthenticationManager do OWIN e chamar `SignIn` e passando o ClaimsIdentity.</span><span class="sxs-lookup"><span data-stu-id="769c3-207">The highlighted code below in the `SignInAsync` method signs in the user by using the AuthenticationManager from OWIN and calling `SignIn` and passing in the ClaimsIdentity.</span></span>  

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample4.cs?highlight=8-11)]
5. <span data-ttu-id="769c3-208">Fazer logoff.</span><span class="sxs-lookup"><span data-stu-id="769c3-208">Log off.</span></span>  
   <span data-ttu-id="769c3-209">Clique o **logoff** link chama a ação de LogOff no controlador de conta.</span><span class="sxs-lookup"><span data-stu-id="769c3-209">Clicking the **Log off** link calls the LogOff action in the account controller.</span></span> 

    [!code-csharp[Main](introduction-to-aspnet-identity/samples/sample5.cs?highlight=6)]

   <span data-ttu-id="769c3-210">Código realçada acima mostra o OWIN `AuthenticationManager.SignOut` método.</span><span class="sxs-lookup"><span data-stu-id="769c3-210">The highlighted code above shows the OWIN `AuthenticationManager.SignOut` method.</span></span> <span data-ttu-id="769c3-211">Isso equivale a [FormsAuthentication.SignOut](https://msdn.microsoft.com/library/system.web.security.formsauthentication.signout.aspx) método usado pelo [FormsAuthentication](https://msdn.microsoft.com/library/system.web.security.formsauthenticationmodule.aspx) módulo em formulários da Web.</span><span class="sxs-lookup"><span data-stu-id="769c3-211">This is analogous to [FormsAuthentication.SignOut](https://msdn.microsoft.com/library/system.web.security.formsauthentication.signout.aspx) method used by the [FormsAuthentication](https://msdn.microsoft.com/library/system.web.security.formsauthenticationmodule.aspx) module in Web Forms.</span></span>

## <a name="components-of-aspnet-identity"></a><span data-ttu-id="769c3-212">Componentes da identidade do ASP.NET</span><span class="sxs-lookup"><span data-stu-id="769c3-212">Components of ASP.NET Identity</span></span>

<span data-ttu-id="769c3-213">O diagrama a seguir mostra os componentes do sistema de identidade do ASP.NET (clique no [isso](introduction-to-aspnet-identity/_static/image3.png) ou no diagrama para aumentá-la).</span><span class="sxs-lookup"><span data-stu-id="769c3-213">The diagram below shows the components of the ASP.NET Identity system (click on [this](introduction-to-aspnet-identity/_static/image3.png) or on the diagram to enlarge it).</span></span> <span data-ttu-id="769c3-214">Os pacotes em verde compõem o sistema de identidade do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="769c3-214">The packages in green make up the ASP.NET Identity system.</span></span> <span data-ttu-id="769c3-215">Todos os outros pacotes são dependências que são necessárias para usar o sistema de identidade do ASP.NET em aplicativos ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="769c3-215">All the other packages are dependencies which are needed to use the ASP.NET Identity system in ASP.NET applications.</span></span>

[![](introduction-to-aspnet-identity/_static/image5.png)](introduction-to-aspnet-identity/_static/image4.png)

<span data-ttu-id="769c3-216">A seguir está uma breve descrição dos pacotes do NuGet não mencionadas anteriormente:</span><span class="sxs-lookup"><span data-stu-id="769c3-216">The following is a brief description of the NuGet packages not mentioned previously:</span></span>

- [<span data-ttu-id="769c3-217">Microsoft.Owin.Security.Cookies</span><span class="sxs-lookup"><span data-stu-id="769c3-217">Microsoft.Owin.Security.Cookies</span></span>](http://www.nuget.org/packages/Microsoft.Owin.Security.Cookies/)  
 <span data-ttu-id="769c3-218">Middleware que permite que um aplicativo para usar o cookie de autenticação, semelhante ao ASP com base em. Autenticação de formulários do NET.</span><span class="sxs-lookup"><span data-stu-id="769c3-218">Middleware that enables an application to use cookie based authentication, similar to ASP.NET's Forms Authentication.</span></span>
- [<span data-ttu-id="769c3-219">EntityFramework</span><span class="sxs-lookup"><span data-stu-id="769c3-219">EntityFramework</span></span>](http://www.nuget.org/packages/EntityFramework/)  
 <span data-ttu-id="769c3-220">Entity Framework é uma tecnologia de acesso a dados recomendada da Microsoft para bancos de dados relacionais.</span><span class="sxs-lookup"><span data-stu-id="769c3-220">Entity Framework is Microsoft's recommended data access technology for relational databases.</span></span>

## <a name="migrating-from-membership-to-aspnet-identity"></a><span data-ttu-id="769c3-221">Migrando da associação para a identidade do ASP.NET</span><span class="sxs-lookup"><span data-stu-id="769c3-221">Migrating from Membership to ASP.NET Identity</span></span>

<span data-ttu-id="769c3-222">Esperamos que em breve fornecem orientação sobre como migrar seus aplicativos existentes que usam associação do ASP.NET ou associação simples para o novo sistema de identidade do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="769c3-222">We hope to soon provide guidance on migrating your existing apps that use ASP.NET Membership or Simple Membership to the new ASP.NET Identity system.</span></span>

## <a name="next-steps"></a><span data-ttu-id="769c3-223">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="769c3-223">Next Steps</span></span>

- [<span data-ttu-id="769c3-224">Criar um aplicativo ASP.NET MVC 5 com o Facebook e Google OAuth2 e logon do OpenID</span><span class="sxs-lookup"><span data-stu-id="769c3-224">Create an ASP.NET MVC 5 App with Facebook and Google OAuth2 and OpenID Sign-on</span></span>](../../../mvc/overview/security/create-an-aspnet-mvc-5-app-with-facebook-and-google-oauth2-and-openid-sign-on.md)  
 <span data-ttu-id="769c3-225">O tutorial usa a API de identidade do ASP.NET para adicionar informações de perfil para o banco de dados de usuário e como autenticar com o Google e Facebook.</span><span class="sxs-lookup"><span data-stu-id="769c3-225">The tutorial uses the ASP.NET Identity API to add profile information to the user database, and how to authenticate with Google and Facebook.</span></span>
- [<span data-ttu-id="769c3-226">Criar um aplicativo ASP.NET MVC com autenticação e o banco de dados SQL e implantar o serviço de aplicativo do Azure</span><span class="sxs-lookup"><span data-stu-id="769c3-226">Create an ASP.NET MVC app with auth and SQL DB and deploy to Azure App Service</span></span>](https://docs.microsoft.com/aspnet/core/security/authorization/secure-data)  
 <span data-ttu-id="769c3-227">Este tutorial mostra como usar a API de identidade para adicionar usuários e funções.</span><span class="sxs-lookup"><span data-stu-id="769c3-227">This tutorial shows how to use the Identity API to add users and roles.</span></span>
- <span data-ttu-id="769c3-228">[Contas de usuário individuais](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#indauth) na criação de projetos Web ASP.NET no Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="769c3-228">[Individual User Accounts](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#indauth) in Creating ASP.NET Web Projects in Visual Studio 2013</span></span>
- <span data-ttu-id="769c3-229">[Contas organizacionais](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauth) na criação de projetos Web ASP.NET no Visual Studio 2013</span><span class="sxs-lookup"><span data-stu-id="769c3-229">[Organizational Accounts](../../../visual-studio/overview/2013/creating-web-projects-in-visual-studio.md#orgauth) in Creating ASP.NET Web Projects in Visual Studio 2013</span></span>
- [<span data-ttu-id="769c3-230">Personalizando informações de perfil no ASP.NET Identity em modelos do VS 2013</span><span class="sxs-lookup"><span data-stu-id="769c3-230">Customizing profile information in ASP.NET Identity in VS 2013 templates</span></span>](https://blogs.msdn.com/b/webdev/archive/2013/10/16/customizing-profile-information-in-asp-net-identity-in-vs-2013-templates.aspx)
- [<span data-ttu-id="769c3-231">Obter mais informações dos provedores sociais usados nos modelos de projeto do VS 2013</span><span class="sxs-lookup"><span data-stu-id="769c3-231">Get more information from Social providers used in the VS 2013 project templates</span></span>](https://blogs.msdn.com/b/webdev/archive/2013/10/16/get-more-information-from-social-providers-used-in-the-vs-2013-project-templates.aspx)
- [https://github.com/rustd/AspnetIdentitySample](https://github.com/rustd/AspnetIdentitySample)  
 <span data-ttu-id="769c3-232">Aplicativo de exemplo que mostra como adicionar funções básicas e suporte ao usuário e como fazer o gerenciamento de usuário e funções.</span><span class="sxs-lookup"><span data-stu-id="769c3-232">Sample application that shows how to add basic roles and user support and how to do roles and user management.</span></span>
