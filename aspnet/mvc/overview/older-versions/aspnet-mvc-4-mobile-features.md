---
uid: mvc/overview/older-versions/aspnet-mvc-4-mobile-features
title: Recursos de celular do ASP.NET MVC 4 | Microsoft Docs
author: Rick-Anderson
description: Agora há uma versão do MVC 5 deste tutorial com exemplos de código em implantar um aplicativo da Web do ASP.NET MVC 5 Mobile nos Sites do Azure.
ms.author: aspnetcontent
manager: wpickett
ms.date: 08/15/2012
ms.topic: article
ms.assetid: 27dc4fc8-1b51-43b0-933f-fc1b52476523
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/older-versions/aspnet-mvc-4-mobile-features
msc.type: authoredcontent
ms.openlocfilehash: 5f38fcdd8e71ce12f7899214b6b2133e21f9910c
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/06/2018
---
<a name="aspnet-mvc-4-mobile-features"></a><span data-ttu-id="e5d6a-103">Recursos móveis do ASP.NET MVC 4</span><span class="sxs-lookup"><span data-stu-id="e5d6a-103">ASP.NET MVC 4 Mobile Features</span></span>
====================
<span data-ttu-id="e5d6a-104">por [Rick Anderson](https://github.com/Rick-Anderson)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-104">by [Rick Anderson](https://github.com/Rick-Anderson)</span></span>

> <span data-ttu-id="e5d6a-105">Agora há uma versão do MVC 5 deste tutorial com exemplos de código em [implantar um aplicativo da Web do ASP.NET MVC 5 Mobile nos Sites do Azure](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-mobile-app/).</span><span class="sxs-lookup"><span data-stu-id="e5d6a-105">There is now an MVC 5 version of this tutorial with code samples at [Deploy an ASP.NET MVC 5 Mobile Web Application on Azure Web Sites](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-mobile-app/).</span></span>


<span data-ttu-id="e5d6a-106">Este tutorial ensina as Noções básicas de como trabalhar com recursos de celular em um aplicativo Web do ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-106">This tutorial will teach you the basics of how to work with mobile features in an ASP.NET MVC 4 Web application.</span></span> <span data-ttu-id="e5d6a-107">Para este tutorial, você pode usar [Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) ou Visual Web Developer 2010 Express Service Pack 1 (&quot;Visual Web Developer ou VWD&quot;).</span><span class="sxs-lookup"><span data-stu-id="e5d6a-107">For this tutorial, you can use [Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) or Visual Web Developer 2010 Express Service Pack 1 (&quot;Visual Web Developer or VWD&quot;).</span></span> <span data-ttu-id="e5d6a-108">Você pode usar a versão professional do Visual Studio se ele já está instalado.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-108">You can use the professional version of Visual Studio if you already have that.</span></span>

<span data-ttu-id="e5d6a-109">Antes de começar, verifique se que você instalou os pré-requisitos listados abaixo.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-109">Before you start, make sure you've installed the prerequisites listed below.</span></span>

- <span data-ttu-id="e5d6a-110">[O Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) (recomendado) ou o Visual Studio Web Developer Express SP1.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-110">[Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) (recommended) or Visual Studio Web Developer Express SP1.</span></span> <span data-ttu-id="e5d6a-111">O Visual Studio 2012 contém o ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-111">Visual Studio 2012 contains ASP.NET MVC 4.</span></span> <span data-ttu-id="e5d6a-112">Se você estiver usando o Visual Web Developer 2010, você deve instalar [ASP.NET MVC 4](https://go.microsoft.com/fwlink/?LinkId=243392).</span><span class="sxs-lookup"><span data-stu-id="e5d6a-112">If you are using Visual Web Developer 2010, you must install [ASP.NET MVC 4](https://go.microsoft.com/fwlink/?LinkId=243392).</span></span>

<span data-ttu-id="e5d6a-113">Você também precisará emulador um navegador móvel.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-113">You will also need a mobile browser emulator.</span></span> <span data-ttu-id="e5d6a-114">Qualquer um dos seguintes funcionará:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-114">Any of the following will work:</span></span>

- <span data-ttu-id="e5d6a-115">[Emulador do Windows Phone 7 do Windows](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span><span class="sxs-lookup"><span data-stu-id="e5d6a-115">[Windows 7 Phone Emulator](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span></span> <span data-ttu-id="e5d6a-116">(Esse é o emulador que é usado na maioria das capturas de tela neste tutorial.)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-116">(This is the emulator that's used in most of the screen shots in this tutorial.)</span></span>
- <span data-ttu-id="e5d6a-117">Altere a cadeia de caracteres de agente de usuário para emular um iPhone.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-117">Change the user agent string to emulate an iPhone.</span></span> <span data-ttu-id="e5d6a-118">Consulte [isso](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) entrada de blog.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-118">See [this](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) blog entry.</span></span>
- [<span data-ttu-id="e5d6a-119">Opera Mobile Emulator</span><span class="sxs-lookup"><span data-stu-id="e5d6a-119">Opera Mobile Emulator</span></span>](http://www.opera.com/developer/tools/mobile/)
- <span data-ttu-id="e5d6a-120">[Apple Safari](http://www.apple.com/safari/download/) com o agente do usuário definido para iPhone.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-120">[Apple Safari](http://www.apple.com/safari/download/) with the user agent set to iPhone.</span></span> <span data-ttu-id="e5d6a-121">Para obter instruções sobre como configurar o agente do usuário no Safari para "iPhone", consulte [como permitir que o Safari fingem é IE](http://www.davidalison.com/2008/05/how-to-let-safari-pretend-its-ie.html) no blog de David Alison.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-121">For instructions on how to set the user agent in Safari to "iPhone", see [How to let Safari pretend it's IE](http://www.davidalison.com/2008/05/how-to-let-safari-pretend-its-ie.html) on David Alison's blog.</span></span>

<span data-ttu-id="e5d6a-122">Projetos do Visual Studio com o código-fonte c# estão disponíveis para acompanhar este tópico:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-122">Visual Studio projects with C# source code are available to accompany this topic:</span></span>

- [<span data-ttu-id="e5d6a-123">Download do projeto de Starter</span><span class="sxs-lookup"><span data-stu-id="e5d6a-123">Starter project download</span></span>](https://go.microsoft.com/fwlink/?linkid=228307&amp;clcid=0x409)
- [<span data-ttu-id="e5d6a-124">Concluído o download do projeto</span><span class="sxs-lookup"><span data-stu-id="e5d6a-124">Completed project download</span></span>](https://go.microsoft.com/fwlink/?linkid=228306&amp;clcid=0x409)

### <a name="what-youll-build"></a><span data-ttu-id="e5d6a-125">O que você vai criar</span><span class="sxs-lookup"><span data-stu-id="e5d6a-125">What You'll Build</span></span>

<span data-ttu-id="e5d6a-126">Para este tutorial, você adicionará recursos móveis para o aplicativo de listagem de conferência simple que é fornecido no [projeto starter](https://go.microsoft.com/fwlink/?LinkId=228307).</span><span class="sxs-lookup"><span data-stu-id="e5d6a-126">For this tutorial, you'll add mobile features to the simple conference-listing application that's provided in the [starter project](https://go.microsoft.com/fwlink/?LinkId=228307).</span></span> <span data-ttu-id="e5d6a-127">Captura de tela a seguir mostra a página de marcas do aplicativo concluído como visto no [emulador do Windows Phone 7 Windows](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span><span class="sxs-lookup"><span data-stu-id="e5d6a-127">The following screenshot shows the tags page of the completed application as seen in the [Windows 7 Phone Emulator](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span></span> <span data-ttu-id="e5d6a-128">Consulte [mapeamento do teclado para o Windows Phone Emulator](https://msdn.microsoft.com/library/ff754352(v=vs.92).aspx) para simplificar a entrada do teclado.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-128">See [Keyboard Mapping for Windows Phone Emulator](https://msdn.microsoft.com/library/ff754352(v=vs.92).aspx) to simplify keyboard input.</span></span>

<span data-ttu-id="e5d6a-129">[![p1_Tags_CompletedProj](aspnet-mvc-4-mobile-features/_static/image2.png)](aspnet-mvc-4-mobile-features/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-129">[![p1_Tags_CompletedProj](aspnet-mvc-4-mobile-features/_static/image2.png)](aspnet-mvc-4-mobile-features/_static/image1.png)</span></span>

<span data-ttu-id="e5d6a-130">Você pode usar o Internet Explorer 9 ou 10, FireFox ou Chrome para desenvolver seu aplicativo móvel, definindo o [cadeia de caracteres de agente de usuário](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/).</span><span class="sxs-lookup"><span data-stu-id="e5d6a-130">You can use Internet Explorer version 9 or 10, FireFox or Chrome to develop your mobile application by setting the [user agent string](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/).</span></span> <span data-ttu-id="e5d6a-131">A imagem a seguir mostra o tutorial concluído usando o Internet Explorer que emula um iPhone.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-131">The following image shows the completed tutorial using Internet Explorer emulating an iPhone.</span></span> <span data-ttu-id="e5d6a-132">Você pode usar as ferramentas de desenvolvedor do Internet Explorer F-12 e [ferramenta Fiddler](http://www.fiddler2.com/fiddler2/) para ajudar a depurar seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-132">You can use the Internet Explorer F-12 developer tools and the [Fiddler tool](http://www.fiddler2.com/fiddler2/) to help debug your application.</span></span>

![](aspnet-mvc-4-mobile-features/_static/image3.png)

### <a name="skills-youll-learn"></a><span data-ttu-id="e5d6a-133">Você vai aprender as habilidades</span><span class="sxs-lookup"><span data-stu-id="e5d6a-133">Skills You'll Learn</span></span>

<span data-ttu-id="e5d6a-134">Aqui está o que você aprenderá:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-134">Here's what you'll learn:</span></span>

- <span data-ttu-id="e5d6a-135">Como os modelos do ASP.NET MVC 4 usam o HTML5 `viewport` atributo e renderização adaptável para melhorar a exibição em dispositivos móveis.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-135">How the ASP.NET MVC 4 templates use the HTML5 `viewport` attribute and adaptive rendering to improve display on mobile devices.</span></span>
- <span data-ttu-id="e5d6a-136">Como criar exibições específicas para dispositivos móveis.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-136">How to create mobile-specific views.</span></span>
- <span data-ttu-id="e5d6a-137">Como criar uma alternância de exibição alternância de usuários que permite entre uma exibição móvel e uma área de trabalho do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-137">How to create a view switcher that lets users toggle between a mobile view and a desktop view of the application.</span></span>

### <a name="getting-started"></a><span data-ttu-id="e5d6a-138">Guia de Introdução</span><span class="sxs-lookup"><span data-stu-id="e5d6a-138">Getting Started</span></span>

<span data-ttu-id="e5d6a-139">Baixe o aplicativo de conferência listagem para o projeto inicial usando o seguinte link: [baixar](https://go.microsoft.com/fwlink/?LinkId=228307).</span><span class="sxs-lookup"><span data-stu-id="e5d6a-139">Download the conference-listing application for the starter project using the following link: [Download](https://go.microsoft.com/fwlink/?LinkId=228307).</span></span> <span data-ttu-id="e5d6a-140">No Windows Explorer, clique com o *MvcMobile.zip* de arquivo e escolha **propriedades**.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-140">Then in Windows Explorer, right-click the *MvcMobile.zip* file and choose **Properties**.</span></span> <span data-ttu-id="e5d6a-141">No **MvcMobile.zip propriedades** caixa de diálogo caixa, escolha o **desbloquear** botão.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-141">In the **MvcMobile.zip Properties** dialog box, choose the **Unblock** button.</span></span> <span data-ttu-id="e5d6a-142">(Desbloqueio impede que um aviso de segurança que ocorre quando você tentar usar um *. zip* arquivo que você baixou da web.)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-142">(Unblocking prevents a security warning that occurs when you try to use a *.zip* file that you've downloaded from the web.)</span></span>

![p1_unBlock](aspnet-mvc-4-mobile-features/_static/image4.png)

<span data-ttu-id="e5d6a-144">Com o botão direito do *MvcMobile.zip* de arquivo e selecione **extrair tudo** para descompactar o arquivo.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-144">Right-click the *MvcMobile.zip* file and select **Extract All** to unzip the file.</span></span> <span data-ttu-id="e5d6a-145">No Visual Studio, abra o *MvcMobile.sln* arquivo.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-145">In Visual Studio, open the *MvcMobile.sln* file.</span></span>

<span data-ttu-id="e5d6a-146">Pressione CTRL + F5 para executar o aplicativo, que será exibido no navegador da área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-146">Press CTRL+F5 to run the application, which will display it in your desktop browser.</span></span> <span data-ttu-id="e5d6a-147">Iniciar o emulador do navegador de dispositivo móvel, copie a URL para o aplicativo de conferência para o emulador e, em seguida, clique no **procurar por marca** link.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-147">Start your mobile browser emulator, copy the URL for the conference application into the emulator, and then click the **Browse by tag** link.</span></span> <span data-ttu-id="e5d6a-148">Se você estiver usando o emulador do Windows Phone, clique na barra de URL e pressione a tecla Pause para obter acesso de teclado.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-148">If you are using the Windows Phone Emulator, click in the URL bar and press the Pause key to get keyboard access.</span></span> <span data-ttu-id="e5d6a-149">A imagem abaixo mostra o *AllTags* exibição (escolha **procurar por marca**).</span><span class="sxs-lookup"><span data-stu-id="e5d6a-149">The image below shows the *AllTags* view (from choosing **Browse by tag**).</span></span>

<span data-ttu-id="e5d6a-150">[![p1_browseTag](aspnet-mvc-4-mobile-features/_static/image6.png)](aspnet-mvc-4-mobile-features/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-150">[![p1_browseTag](aspnet-mvc-4-mobile-features/_static/image6.png)](aspnet-mvc-4-mobile-features/_static/image5.png)</span></span>

<span data-ttu-id="e5d6a-151">A exibição é muito legível em um dispositivo móvel.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-151">The display is very readable on a mobile device.</span></span> <span data-ttu-id="e5d6a-152">Escolha o link do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-152">Choose the ASP.NET link.</span></span>

<span data-ttu-id="e5d6a-153">[![p1_tagged_ASPNET](aspnet-mvc-4-mobile-features/_static/image8.png)](aspnet-mvc-4-mobile-features/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-153">[![p1_tagged_ASPNET](aspnet-mvc-4-mobile-features/_static/image8.png)](aspnet-mvc-4-mobile-features/_static/image7.png)</span></span>

<span data-ttu-id="e5d6a-154">O modo de exibição do ASP.NET marca é muito confuso.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-154">The ASP.NET tag view is very cluttered.</span></span> <span data-ttu-id="e5d6a-155">Por exemplo, o **data** coluna é muito difícil de ler.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-155">For example, the **Date** column is very difficult to read.</span></span> <span data-ttu-id="e5d6a-156">Posteriormente no tutorial, você criará uma versão do *AllTags* exibição especificamente para navegadores de dispositivos móveis e para tornar a exibição legível.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-156">Later in the tutorial you'll create a version of the *AllTags* view that's specifically for mobile browsers and that will make the display readable.</span></span>

<span data-ttu-id="e5d6a-157">Observação: No momento existe um bug no mecanismo de cache móvel.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-157">Note: Currently a bug exists in the mobile caching engine.</span></span> <span data-ttu-id="e5d6a-158">Para aplicativos de produção, você deve instalar o [DisplayModes fixa](http://nuget.org/packages/Microsoft.AspNet.Mvc.FixedDisplayModes) pacote preciosidade.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-158">For production applications, you must install the [Fixed DisplayModes](http://nuget.org/packages/Microsoft.AspNet.Mvc.FixedDisplayModes) nugget package.</span></span> <span data-ttu-id="e5d6a-159">Consulte [ASP.NET MVC 4 Mobile cache Bug fixa](https://blogs.msdn.com/b/rickandy/archive/2012/09/17/asp-net-mvc-4-mobile-caching-bug-fixed.aspx) para obter detalhes sobre a correção.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-159">See [ASP.NET MVC 4 Mobile Caching Bug Fixed](https://blogs.msdn.com/b/rickandy/archive/2012/09/17/asp-net-mvc-4-mobile-caching-bug-fixed.aspx) for details on the fix.</span></span>

## <a name="css-media-queries"></a><span data-ttu-id="e5d6a-160">Consultas de mídia CSS</span><span class="sxs-lookup"><span data-stu-id="e5d6a-160">CSS Media Queries</span></span>

<span data-ttu-id="e5d6a-161">[Consultas de mídia CSS](http://www.w3.org/TR/css3-mediaqueries/) são uma extensão de CSS para tipos de mídia.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-161">[CSS media queries](http://www.w3.org/TR/css3-mediaqueries/) are an extension to CSS for media types.</span></span> <span data-ttu-id="e5d6a-162">Eles permitem que você crie regras que substituem as regras CSS padrão para navegadores específicos (agentes de usuário).</span><span class="sxs-lookup"><span data-stu-id="e5d6a-162">They allow you to create rules that override the default CSS rules for specific browsers (user agents).</span></span> <span data-ttu-id="e5d6a-163">Uma regra comum de CSS que tem como alvo os navegadores móveis é definir o tamanho máximo da tela.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-163">A common rule for CSS that targets mobile browsers is defining the maximum screen size.</span></span> <span data-ttu-id="e5d6a-164">O *Content\Site.css* arquivo criado quando você cria um novo projeto ASP.NET MVC 4 Internet contém a seguinte consulta de mídia:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-164">The *Content\Site.css* file that's created when you create a new ASP.NET MVC 4 Internet project contains the following media query:</span></span>

[!code-css[Main](aspnet-mvc-4-mobile-features/samples/sample1.css)]

<span data-ttu-id="e5d6a-165">Se a janela do navegador é 850 pixels ou menos, ele usará as regras de CSS dentro deste bloco de mídia.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-165">If the browser window is 850 pixels wide or less, it will use the CSS rules inside this media block.</span></span> <span data-ttu-id="e5d6a-166">Você pode usar consultas de mídia CSS como este para fornecer uma melhor exibição de conteúdo HTML em navegadores pequenos (como navegadores móveis) que as regras CSS padrão que são projetadas para o exibe mais amplo de navegadores de desktop.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-166">You can use CSS media queries like this to provide a better display of HTML content on small browsers (like mobile browsers) than the default CSS rules that are designed for the wider displays of desktop browsers.</span></span>

## <a name="the-viewport-meta-tag"></a><span data-ttu-id="e5d6a-167">A marca Meta do visor</span><span class="sxs-lookup"><span data-stu-id="e5d6a-167">The Viewport Meta Tag</span></span>

<span data-ttu-id="e5d6a-168">A maioria dos navegadores definem uma largura da janela de navegador virtual (o *visor*) que é muito maior do que a largura real do dispositivo móvel.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-168">Most mobile browsers define a virtual browser window width (the *viewport*) that's much larger than the actual width of the mobile device.</span></span> <span data-ttu-id="e5d6a-169">Isso permite que navegadores móveis ajustar toda a página da web dentro de exibição virtual.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-169">This allows mobile browsers to fit the entire web page inside the virtual display.</span></span> <span data-ttu-id="e5d6a-170">Os usuários podem, em seguida, aplicar zoom na conteúdo interessante.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-170">Users can then zoom in on interesting content.</span></span> <span data-ttu-id="e5d6a-171">No entanto, se você definir a largura do visor para a largura do dispositivo real, sem zoom é necessário, porque o conteúdo se encaixar no navegador móvel.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-171">However, if you set the viewport width to the actual device width, no zooming is required, because the content fits in the mobile browser.</span></span>

<span data-ttu-id="e5d6a-172">O visor `<meta>` marca no arquivo de layout do ASP.NET MVC 4 define o visor para a largura do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-172">The viewport `<meta>` tag in the ASP.NET MVC 4 layout file sets the viewport to the device width.</span></span> <span data-ttu-id="e5d6a-173">A linha a seguir mostra o visor `<meta>` marca no arquivo de layout do ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-173">The following line shows the viewport `<meta>` tag in the ASP.NET MVC 4 layout file.</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample2.html)]

## <a name="examining-the-effect-of-css-media-queries-and-the-viewport-meta-tag"></a><span data-ttu-id="e5d6a-174">Examinar o efeito de consultas de mídia CSS e a marca Meta do visor</span><span class="sxs-lookup"><span data-stu-id="e5d6a-174">Examining the Effect of CSS Media Queries and the Viewport Meta Tag</span></span>

<span data-ttu-id="e5d6a-175">Abra o *exibições \ compartilhadas\\cshtml* arquivo no editor e comente o visor `<meta>` marca.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-175">Open the *Views\Shared\\_Layout.cshtml* file in the editor and comment out the viewport `<meta>` tag.</span></span> <span data-ttu-id="e5d6a-176">A marcação a seguir mostra a linha de comentado.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-176">The following markup shows the commented-out line.</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample3.cshtml)]

<span data-ttu-id="e5d6a-177">Abra o *MvcMobile\Content\Site.css* no editor de arquivo e altere a largura máxima da consulta de mídia para zero pixels.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-177">Open the *MvcMobile\Content\Site.css* file in the editor and change the maximum width in the media query to zero pixels.</span></span> <span data-ttu-id="e5d6a-178">Isso impedirá que as regras de CSS que está sendo usado em navegadores móveis.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-178">This will prevent the CSS rules from being used in mobile browsers.</span></span> <span data-ttu-id="e5d6a-179">A linha a seguir mostra a consulta de mídia modificado:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-179">The following line shows the modified media query:</span></span>

[!code-css[Main](aspnet-mvc-4-mobile-features/samples/sample4.css)]

<span data-ttu-id="e5d6a-180">Salve suas alterações e navegue até o aplicativo de conferência em um emulador de navegador móvel.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-180">Save your changes and browse to the Conference application in a mobile browser emulator.</span></span> <span data-ttu-id="e5d6a-181">O texto pequeno na imagem a seguir é o resultado da remoção do visor `<meta>` marca.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-181">The tiny text in the following image is the result of removing the viewport `<meta>` tag.</span></span> <span data-ttu-id="e5d6a-182">Com nenhuma visor `<meta>` marca, o navegador é diminuir o zoom para a largura do visor padrão (850 pixels ou maior para a maioria dos navegadores.)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-182">With no viewport `<meta>` tag, the browser is zooming out to the default viewport width (850 pixels or wider for most mobile browsers.)</span></span>

<span data-ttu-id="e5d6a-183">[![p1_noViewPort](aspnet-mvc-4-mobile-features/_static/image10.png)](aspnet-mvc-4-mobile-features/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-183">[![p1_noViewPort](aspnet-mvc-4-mobile-features/_static/image10.png)](aspnet-mvc-4-mobile-features/_static/image9.png)</span></span>

<span data-ttu-id="e5d6a-184">Desfaça as alterações, descomente o visor `<meta>` marca no arquivo de layout e a consulta de mídia de restauração para 850 pixels do *Site.css* arquivo.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-184">Undo your changes — uncomment the viewport `<meta>` tag in the layout file and restore the media query to 850 pixels in the *Site.css* file.</span></span> <span data-ttu-id="e5d6a-185">Salve suas alterações e atualizar o navegador móvel para verificar se a exibição de dispositivos móveis foi restaurada.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-185">Save your changes and refresh the mobile browser to verify that the mobile-friendly display has been restored.</span></span>

<span data-ttu-id="e5d6a-186">O visor `<meta>` marca e a consulta de mídia do CSS não são específicas para ASP.NET MVC 4, e você pode tirar proveito desses recursos em um aplicativo web.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-186">The viewport `<meta>` tag and the CSS media query are not specific to ASP.NET MVC 4, and you can take advantage of these features in any web application.</span></span> <span data-ttu-id="e5d6a-187">Mas, agora, eles são criados para os arquivos que são gerados quando você cria um novo projeto ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-187">But they are now built into the files that are generated when you create a new ASP.NET MVC 4 project.</span></span>

<span data-ttu-id="e5d6a-188">Para obter mais informações sobre o visor `<meta>` marca, consulte [uma história de dois visores — parte dois](http://www.quirksmode.org/mobile/viewports2.html).</span><span class="sxs-lookup"><span data-stu-id="e5d6a-188">For more information about the viewport `<meta>` tag, see [A tale of two viewports — part two](http://www.quirksmode.org/mobile/viewports2.html).</span></span>

<span data-ttu-id="e5d6a-189">Na próxima seção, você verá como fornecer exibições específicas do navegador móvel.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-189">In the next section you'll see how to provide mobile-browser specific views.</span></span>

## <a name="overriding-views-layouts-and-partial-views"></a><span data-ttu-id="e5d6a-190">Substituindo exibições parciais, Layouts e modos de exibição</span><span class="sxs-lookup"><span data-stu-id="e5d6a-190">Overriding Views, Layouts, and Partial Views</span></span>

<span data-ttu-id="e5d6a-191">Um novo recurso significativo no ASP.NET MVC 4 é um mecanismo que permite que você substitua qualquer modo de exibição (inclusive layouts e exibições parciais) para navegadores de dispositivos móveis em geral, para um navegador móvel individual ou para qualquer navegador específico.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-191">A significant new feature in ASP.NET MVC 4 is a simple mechanism that lets you override any view (including layouts and partial views) for mobile browsers in general, for an individual mobile browser, or for any specific browser.</span></span> <span data-ttu-id="e5d6a-192">Para fornecer uma exibição específicas para dispositivos móveis, você pode copiar um arquivo de exibição e adicionar *. Mobile* ao nome do arquivo.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-192">To provide a mobile-specific view, you can copy a view file and add *.Mobile* to the file name.</span></span> <span data-ttu-id="e5d6a-193">Por exemplo, para criar um celular *índice* exibir, copiar *Views\Home\Index.cshtml* para *Views\Home\Index.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-193">For example, to create a mobile *Index* view, copy *Views\Home\Index.cshtml* to *Views\Home\Index.Mobile.cshtml*.</span></span>

<span data-ttu-id="e5d6a-194">Nesta seção, você criará um arquivo de layout específicas para dispositivos móveis.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-194">In this section, you'll create a mobile-specific layout file.</span></span>

<span data-ttu-id="e5d6a-195">Para começar, copie *exibições \ compartilhadas\\cshtml* para *exibições \ compartilhadas\\cshtml*.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-195">To start, copy *Views\Shared\\_Layout.cshtml* to *Views\Shared\\_Layout.Mobile.cshtml*.</span></span> <span data-ttu-id="e5d6a-196">Abra  *\_Layout.Mobile.cshtml* e altere o título do **MVC4 conferência** para **conferência (móvel)**.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-196">Open *\_Layout.Mobile.cshtml* and change the title from **MVC4 Conference** to **Conference (Mobile)**.</span></span>

<span data-ttu-id="e5d6a-197">Em cada `Html.ActionLink` chamar, remova "Procurar por" em cada link *ActionLink*.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-197">In each `Html.ActionLink` call, remove "Browse by" in each link *ActionLink*.</span></span> <span data-ttu-id="e5d6a-198">O código a seguir mostra a seção de corpo concluído do arquivo de layout para dispositivos móveis.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-198">The following code shows the completed body section of the mobile layout file.</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample5.cshtml)]

<span data-ttu-id="e5d6a-199">Copie o *Views\Home\AllTags.cshtml* o arquivo para *Views\Home\AllTags.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-199">Copy the *Views\Home\AllTags.cshtml* file to *Views\Home\AllTags.Mobile.cshtml*.</span></span> <span data-ttu-id="e5d6a-200">Abra o novo arquivo e altere o `<h2>` elemento de "Tags" para "marcas (M)":</span><span class="sxs-lookup"><span data-stu-id="e5d6a-200">Open the new file and change the `<h2>` element from "Tags" to "Tags (M)":</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample6.html)]

<span data-ttu-id="e5d6a-201">Navegue até a página de marcas usando um navegador da área de trabalho e usar o emulador do navegador móvel.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-201">Browse to the tags page using a desktop browser and using mobile browser emulator.</span></span> <span data-ttu-id="e5d6a-202">O emulador do navegador móvel mostra as duas alterações feitas por você.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-202">The mobile browser emulator shows the two changes you made.</span></span>

<span data-ttu-id="e5d6a-203">[![p2m_layoutTags.mobile](aspnet-mvc-4-mobile-features/_static/image12.png)](aspnet-mvc-4-mobile-features/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-203">[![p2m_layoutTags.mobile](aspnet-mvc-4-mobile-features/_static/image12.png)](aspnet-mvc-4-mobile-features/_static/image11.png)</span></span>

<span data-ttu-id="e5d6a-204">Por outro lado, a exibição da área de trabalho não foi alterado.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-204">In contrast, the desktop display has not changed.</span></span>

<span data-ttu-id="e5d6a-205">[![p2_layoutTagsDesktop](aspnet-mvc-4-mobile-features/_static/image14.png)](aspnet-mvc-4-mobile-features/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-205">[![p2_layoutTagsDesktop](aspnet-mvc-4-mobile-features/_static/image14.png)](aspnet-mvc-4-mobile-features/_static/image13.png)</span></span>

## <a name="browser-specific-views"></a><span data-ttu-id="e5d6a-206">Modos de exibição de navegador específico</span><span class="sxs-lookup"><span data-stu-id="e5d6a-206">Browser-Specific Views</span></span>

<span data-ttu-id="e5d6a-207">Além das exibições específicas para dispositivos móveis e área de trabalho específica, você pode criar modos de exibição para um navegador individual.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-207">In addition to mobile-specific and desktop-specific views, you can create views for an individual browser.</span></span> <span data-ttu-id="e5d6a-208">Por exemplo, você pode criar exibições que são específicas para o navegador do iPhone.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-208">For example, you can create views that are specifically for the iPhone browser.</span></span> <span data-ttu-id="e5d6a-209">Nesta seção, você criará um layout para o navegador do iPhone e uma versão iPhone o *AllTags* exibição.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-209">In this section, you'll create a layout for the iPhone browser and an iPhone version of the *AllTags* view.</span></span>

<span data-ttu-id="e5d6a-210">Abra o *global. asax* de arquivo e adicione o seguinte código para o `Application_Start` método.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-210">Open the *Global.asax* file and add the following code to the `Application_Start` method.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample7.cs)]

<span data-ttu-id="e5d6a-211">Esse código define um novo modo de exibição denominado "iPhone" que será comparado com cada solicitação de entrada.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-211">This code defines a new display mode named "iPhone" that will be matched against each incoming request.</span></span> <span data-ttu-id="e5d6a-212">Se a solicitação de entrada corresponder a condição definida (ou seja, se o agente do usuário contém a cadeia de caracteres "iPhone"), o ASP.NET MVC procurará exibições cujo nome contém o sufixo "iPhone".</span><span class="sxs-lookup"><span data-stu-id="e5d6a-212">If the incoming request matches the condition you defined (that is, if the user agent contains the string "iPhone"), ASP.NET MVC will look for views whose name contains the "iPhone" suffix.</span></span>

<span data-ttu-id="e5d6a-213">No código, clique com botão direito `DefaultDisplayMode`, escolha **resolver**e, em seguida, escolha `using System.Web.WebPages;`.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-213">In the code, right-click `DefaultDisplayMode`, choose **Resolve**, and then choose `using System.Web.WebPages;`.</span></span> <span data-ttu-id="e5d6a-214">Isso adiciona uma referência para o `System.Web.WebPages` namespace, que é o local onde o `DisplayModes` e `DefaultDisplayMode` tipos são definidos.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-214">This adds a reference to the `System.Web.WebPages` namespace, which is where the `DisplayModes` and `DefaultDisplayMode` types are defined.</span></span>

<span data-ttu-id="e5d6a-215">[![p2_resolve](aspnet-mvc-4-mobile-features/_static/image16.png)](aspnet-mvc-4-mobile-features/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-215">[![p2_resolve](aspnet-mvc-4-mobile-features/_static/image16.png)](aspnet-mvc-4-mobile-features/_static/image15.png)</span></span>

<span data-ttu-id="e5d6a-216">Como alternativa, você pode adicionar a seguinte linha à apenas manualmente o `using` seção do arquivo.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-216">Alternatively, you can just manually add the following line to the `using` section of the file.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample8.cs)]

<span data-ttu-id="e5d6a-217">Todo o conteúdo do *global. asax* arquivo é mostrado abaixo.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-217">The complete contents of the *Global.asax* file is shown below.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample9.cs)]

<span data-ttu-id="e5d6a-218">Salve as alterações.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-218">Save the changes.</span></span> <span data-ttu-id="e5d6a-219">Copie o *MvcMobile\Views\Shared\\cshtml* o arquivo para *MvcMobile\Views\Shared\\_Layout.iPhone.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-219">Copy the *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file to *MvcMobile\Views\Shared\\_Layout.iPhone.cshtml*.</span></span> <span data-ttu-id="e5d6a-220">Abra o novo arquivo e, em seguida, alterar o `h1` título do `Conference (Mobile)` para `Conference (iPhone)`.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-220">Open the new file and then change the `h1` heading from `Conference (Mobile)` to `Conference (iPhone)`.</span></span>

<span data-ttu-id="e5d6a-221">Copie o *MvcMobile\Views\Home\AllTags.Mobile.cshtml* o arquivo para *MvcMobile\Views\Home\AllTags.iPhone.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-221">Copy the *MvcMobile\Views\Home\AllTags.Mobile.cshtml* file to *MvcMobile\Views\Home\AllTags.iPhone.cshtml*.</span></span> <span data-ttu-id="e5d6a-222">No novo arquivo, altere o `<h2>` elemento de "marcas (M)" para "Tags (iPhone)".</span><span class="sxs-lookup"><span data-stu-id="e5d6a-222">In the new file, change the `<h2>` element from "Tags (M)" to "Tags (iPhone)".</span></span>

<span data-ttu-id="e5d6a-223">Execute o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-223">Run the application.</span></span> <span data-ttu-id="e5d6a-224">Executar um emulador de navegador de dispositivo móvel, verifique se seu agente de usuário é definido como "iPhone" e navegue até o *AllTags* exibição.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-224">Run a mobile browser emulator, make sure its user agent is set to "iPhone", and browse to the *AllTags* view.</span></span> <span data-ttu-id="e5d6a-225">A captura de tela a seguir mostra o *AllTags* exibição renderizada no [Safari](http://www.apple.com/safari/download/) navegador.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-225">The following screenshot shows the *AllTags* view rendered in the [Safari](http://www.apple.com/safari/download/) browser.</span></span> <span data-ttu-id="e5d6a-226">Você pode baixar o Safari para Windows [aqui](https://support.apple.com/kb/DL1531).</span><span class="sxs-lookup"><span data-stu-id="e5d6a-226">You can download Safari for Windows [here](https://support.apple.com/kb/DL1531).</span></span>

<span data-ttu-id="e5d6a-227">[![p2_iphoneView](aspnet-mvc-4-mobile-features/_static/image18.png)](aspnet-mvc-4-mobile-features/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-227">[![p2_iphoneView](aspnet-mvc-4-mobile-features/_static/image18.png)](aspnet-mvc-4-mobile-features/_static/image17.png)</span></span>

<span data-ttu-id="e5d6a-228">Esta seção vimos como criar exibições e layouts de móveis e como criar layouts e modos de exibição para dispositivos específicos, como o iPhone.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-228">In this section we've seen how to create mobile layouts and views and how to create layouts and views for specific devices such as the iPhone.</span></span> <span data-ttu-id="e5d6a-229">Na próxima seção, você verá como aproveitar o jQuery Mobile para mais atraentes modos de exibição móveis.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-229">In the next section you'll see how to leverage jQuery Mobile for more compelling mobile views.</span></span>

## <a name="using-jquery-mobile"></a><span data-ttu-id="e5d6a-230">Usando o jQuery Mobile</span><span class="sxs-lookup"><span data-stu-id="e5d6a-230">Using jQuery Mobile</span></span>

<span data-ttu-id="e5d6a-231">O [jQuery Mobile](http://jquerymobile.com/demos/1.0b3/#/demos/1.0b3/docs/about/intro.html) biblioteca fornece uma estrutura de interface de usuário que funciona em todos os principais navegadores móveis.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-231">The [jQuery Mobile](http://jquerymobile.com/demos/1.0b3/#/demos/1.0b3/docs/about/intro.html) library provides a user interface framework that works on all the major mobile browsers.</span></span> <span data-ttu-id="e5d6a-232">aplica-se do jQuery Mobile *aprimoramento progressivo* para navegadores de dispositivos móveis que oferecem suporte a CSS e JavaScript.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-232">jQuery Mobile applies *progressive enhancement* to mobile browsers that support CSS and JavaScript.</span></span> <span data-ttu-id="e5d6a-233">Aprimoramento progressivo permite que todos os navegadores exibir o conteúdo básico de uma página da web, permitindo ainda mais potentes navegadores e dispositivos com uma exibição mais rica.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-233">Progressive enhancement allows all browsers to display the basic content of a web page, while allowing more powerful browsers and devices to have a richer display.</span></span> <span data-ttu-id="e5d6a-234">Os arquivos JavaScript e CSS que estão incluídos com o jQuery Mobile muitos elementos de navegadores móveis sem fazer qualquer alteração de marcação de estilo.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-234">The JavaScript and CSS files that are included with jQuery Mobile style many elements to fit mobile browsers without making any markup changes.</span></span>

<span data-ttu-id="e5d6a-235">Nesta seção, você instalará o *jQuery.Mobile.MVC* pacote NuGet, que instala o jQuery Mobile e um widget de alternância de exibição.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-235">In this section you'll install the *jQuery.Mobile.MVC* NuGet package, which installs jQuery Mobile and a view-switcher widget.</span></span>

<span data-ttu-id="e5d6a-236">Para iniciar, excluir o *compartilhado\\cshtml* e *compartilhado\\_Layout.iPhone.cshtml* arquivos que você criou anteriormente.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-236">To start, delete the *Shared\\_Layout.Mobile.cshtml* and *Shared\\_Layout.iPhone.cshtml* files that you created earlier.</span></span>

<span data-ttu-id="e5d6a-237">Renomear *Views\Home\AllTags.Mobile.cshtml* e *Views\Home\AllTags.iPhone.cshtml* arquivos *Views\Home\AllTags.iPhone.cshtml.hide* e  *Views\Home\AllTags.Mobile.cshtml.Hide*.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-237">Rename *Views\Home\AllTags.Mobile.cshtml* and *Views\Home\AllTags.iPhone.cshtml* files to *Views\Home\AllTags.iPhone.cshtml.hide* and *Views\Home\AllTags.Mobile.cshtml.hide*.</span></span> <span data-ttu-id="e5d6a-238">Porque os arquivos não têm um *. cshtml* extensão, não ser usadas pelo tempo de execução do ASP.NET MVC para renderizar o *AllTags* exibição.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-238">Because the files no longer have a *.cshtml* extension, they won't be used by the ASP.NET MVC runtime to render the *AllTags* view.</span></span>

<span data-ttu-id="e5d6a-239">Instalar o *jQuery.Mobile.MVC* pacote NuGet ao fazer isso:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-239">Install the *jQuery.Mobile.MVC* NuGet package by doing this:</span></span>

1. <span data-ttu-id="e5d6a-240">Do **ferramentas** menu, selecione **Gerenciador de biblioteca de pacote**e, em seguida, selecione **Package Manager Console**.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-240">From the **Tools** menu, select **Library Package Manager**, and then select **Package Manager Console**.</span></span>

    <span data-ttu-id="e5d6a-241">[![p3_packageMgr](aspnet-mvc-4-mobile-features/_static/image20.png)](aspnet-mvc-4-mobile-features/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-241">[![p3_packageMgr](aspnet-mvc-4-mobile-features/_static/image20.png)](aspnet-mvc-4-mobile-features/_static/image19.png)</span></span>
2. <span data-ttu-id="e5d6a-242">No **Package Manager Console**, digite `Install-Package jQuery.Mobile.MVC -version 1.0.0`</span><span class="sxs-lookup"><span data-stu-id="e5d6a-242">In the **Package Manager Console**, enter `Install-Package jQuery.Mobile.MVC -version 1.0.0`</span></span>

<span data-ttu-id="e5d6a-243">A imagem a seguir mostra os arquivos adicionados e alterados para o projeto MvcMobile pelo pacote jQuery.Mobile.MVC NuGet.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-243">The following image shows the files added and changed to the MvcMobile project by the NuGet jQuery.Mobile.MVC package.</span></span> <span data-ttu-id="e5d6a-244">Arquivos que são adicionados a ter [Adicionar] acrescentado após o nome do arquivo.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-244">Files which are added have [add] appended after the file name.</span></span> <span data-ttu-id="e5d6a-245">A imagem não mostra o GIF e PNG arquivos adicionados ao *Content\images* pasta.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-245">The image does not show the GIF and PNG files added to the *Content\images* folder.</span></span>

![](aspnet-mvc-4-mobile-features/_static/image21.png)

<span data-ttu-id="e5d6a-246">O pacote jQuery.Mobile.MVC NuGet instala o seguinte:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-246">The jQuery.Mobile.MVC NuGet package installs the following:</span></span>

- <span data-ttu-id="e5d6a-247">O *aplicativo\_Start\BundleMobileConfig.cs* arquivo, que é necessário para fazer referência a jQuery JavaScript e CSS arquivos adicionados.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-247">The *App\_Start\BundleMobileConfig.cs* file, which is needed to reference the jQuery JavaScript and CSS files added.</span></span> <span data-ttu-id="e5d6a-248">Siga as instruções abaixo e deve referenciar o pacote móvel definido nesse arquivo.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-248">You must follow the instructions below and reference the mobile bundle defined in this file.</span></span>
- <span data-ttu-id="e5d6a-249">arquivos do jQuery Mobile CSS.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-249">jQuery Mobile CSS files.</span></span>
- <span data-ttu-id="e5d6a-250">Um `ViewSwitcher` widget controlador (*Controllers\ViewSwitcherController.cs*).</span><span class="sxs-lookup"><span data-stu-id="e5d6a-250">A `ViewSwitcher` controller widget (*Controllers\ViewSwitcherController.cs*).</span></span>
- <span data-ttu-id="e5d6a-251">arquivos do jQuery Mobile JavaScript.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-251">jQuery Mobile JavaScript files.</span></span>
- <span data-ttu-id="e5d6a-252">Um arquivo de layout com estilo Mobile jQuery (*exibições \ compartilhadas\\cshtml*).</span><span class="sxs-lookup"><span data-stu-id="e5d6a-252">A jQuery Mobile-styled layout file (*Views\Shared\\_Layout.Mobile.cshtml*).</span></span>
- <span data-ttu-id="e5d6a-253">Uma exibição parcial de alternância de exibição *(MvcMobile\Views\Shared\\_ViewSwitcher.cshtml*) que fornece um link na parte superior de cada página para alternar do modo de exibição da área de trabalho para o modo de exibição móvel e vice-versa.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-253">A view-switcher partial view *(MvcMobile\Views\Shared\\_ViewSwitcher.cshtml*) that provides a link at the top of each page to switch from desktop view to mobile view and vice versa.</span></span>
- <span data-ttu-id="e5d6a-254">Vários<em>. PNG</em> e <em>. gif</em> arquivos de imagem de <em>Content\images</em> pasta.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-254">Several<em>.png</em> and <em>.gif</em> image files in the <em>Content\images</em> folder.</span></span>

<span data-ttu-id="e5d6a-255">Abra o *global. asax* de arquivo e adicione o código a seguir como a última linha do `Application_Start` método.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-255">Open the *Global.asax* file and add the following code as the last line of the `Application_Start` method.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample10.cs)]

<span data-ttu-id="e5d6a-256">O código a seguir mostra o completo *global. asax* arquivo.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-256">The following code shows the complete *Global.asax* file.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample11.cs?highlight=26)]

> [!NOTE]
> <span data-ttu-id="e5d6a-257">Se você estiver usando o Internet Explorer 9 e você não vir o `BundleMobileConfig` linha acima no realce amarelo, clique o [botão modo de exibição de compatibilidade](https://windows.microsoft.com/windows7/How-to-use-Compatibility-View-in-Internet-Explorer-9)![imagem do botão de exibição de compatibilidade (desativado)] (http://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg " Imagem do botão de exibição de compatibilidade (desativado)") no IE para alterar o ícone de uma estrutura de tópicos ![imagem do botão de exibição de compatibilidade (desativado)](http://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "imagem do botão de exibição de compatibilidade (desativado) ") para uma cor sólida ![imagem do botão modo de exibição de compatibilidade (on)](http://res1.windows.microsoft.com/resbox/en/Windows 7/main/156805ff-3130-481b-a12d-4d3a96470f36_14.jpg "imagem do botão modo de exibição de compatibilidade (on)").</span><span class="sxs-lookup"><span data-stu-id="e5d6a-257">If you are using Internet Explorer 9 and you don't see the `BundleMobileConfig` line above in yellow highlight, click the [Compatibility View button](https://windows.microsoft.com/windows7/How-to-use-Compatibility-View-in-Internet-Explorer-9)![Picture of the Compatibility View button (off)](http://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Picture of the Compatibility View button (off)") in IE to make the icon change from an outline ![Picture of the Compatibility View button (off)](http://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Picture of the Compatibility View button (off)") to a solid color ![Picture of the Compatibility View button (on)](http://res1.windows.microsoft.com/resbox/en/Windows 7/main/156805ff-3130-481b-a12d-4d3a96470f36_14.jpg "Picture of the Compatibility View button (on)").</span></span> <span data-ttu-id="e5d6a-258">Como alternativa, você pode exibir este tutorial no FireFox ou Chrome.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-258">Alternatively you can view this tutorial in FireFox or Chrome.</span></span>


<span data-ttu-id="e5d6a-259">Abra o *MvcMobile\Views\Shared\\cshtml* de arquivo e adicione a seguinte marcação diretamente após o `Html.Partial` chamar:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-259">Open the *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file and add the following markup directly after the `Html.Partial` call:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample12.cshtml)]

<span data-ttu-id="e5d6a-260">Completo *MvcMobile\Views\Shared\\cshtml* arquivo é mostrado abaixo:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-260">The complete *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file is shown below:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample13.cshtml)]

<span data-ttu-id="e5d6a-261">Compilar o aplicativo e no emulador seu navegador de dispositivo móvel, navegue até o *AllTags* exibição.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-261">Build the application, and in your mobile browser emulator browse to the *AllTags* view.</span></span> <span data-ttu-id="e5d6a-262">Você verá o seguinte:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-262">You see the following:</span></span>

<span data-ttu-id="e5d6a-263">[![p3_afterNuGet](aspnet-mvc-4-mobile-features/_static/image23.png)](aspnet-mvc-4-mobile-features/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-263">[![p3_afterNuGet](aspnet-mvc-4-mobile-features/_static/image23.png)](aspnet-mvc-4-mobile-features/_static/image22.png)</span></span>

> [!NOTE]
> <span data-ttu-id="e5d6a-264">Você pode depurar o código móvel específico por [definindo a cadeia de caracteres de agente do usuário](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) para o Internet Explorer ou Chrome para iPhone e, em seguida, usando as ferramentas de desenvolvedor F-12.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-264">You can debug the mobile specific code by [setting the user agent string](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) for IE or Chrome to iPhone and then using the F-12 developer tools.</span></span> <span data-ttu-id="e5d6a-265">Se o navegador móvel não exibir o **início**, **locutor**, **marca**, e **data** links como botões, as referências para jQuery Mobile scripts e arquivos CSS provavelmente não estão corretos.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-265">If your mobile browser doesn't display the **Home**, **Speaker**, **Tag**, and **Date** links as buttons, the references to jQuery Mobile scripts and CSS files are probably not correct.</span></span>


<span data-ttu-id="e5d6a-266">Além das alterações de estilo, você deve ver **exibindo exibição móvel** e um link que permite que você alternar do modo de exibição móvel para o modo de área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-266">In addition to the style changes, you see **Displaying mobile view** and a link that lets you switch from mobile view to desktop view.</span></span> <span data-ttu-id="e5d6a-267">Escolha o **exibição da área de trabalho** link e o modo de exibição da área de trabalho é exibida.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-267">Choose the **Desktop view** link, and the desktop view is displayed.</span></span>

<span data-ttu-id="e5d6a-268">[![p3_desktopView](aspnet-mvc-4-mobile-features/_static/image25.png)](aspnet-mvc-4-mobile-features/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-268">[![p3_desktopView](aspnet-mvc-4-mobile-features/_static/image25.png)](aspnet-mvc-4-mobile-features/_static/image24.png)</span></span>

<span data-ttu-id="e5d6a-269">O modo de exibição da área de trabalho não fornece uma maneira de navegar diretamente para o modo de exibição móvel.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-269">The desktop view doesn't provide a way to directly navigate back to the mobile view.</span></span> <span data-ttu-id="e5d6a-270">Isso será corrigido agora.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-270">You'll fix that now.</span></span> <span data-ttu-id="e5d6a-271">Abra o *exibições \ compartilhadas\\cshtml* arquivo.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-271">Open the *Views\Shared\\_Layout.cshtml* file.</span></span> <span data-ttu-id="e5d6a-272">Apenas em página `body` elemento, adicione o seguinte código, que renderiza o widget de alternância de exibição:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-272">Just under the page `body` element, add the following code, which renders the view-switcher widget:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample14.cshtml)]

<span data-ttu-id="e5d6a-273">Atualizar o *AllTags* exibição no navegador móvel.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-273">Refresh the *AllTags* view in the mobile browser.</span></span> <span data-ttu-id="e5d6a-274">Agora você pode navegar entre as exibições de desktop e mobile.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-274">You can now navigate between desktop and mobile views.</span></span>

<span data-ttu-id="e5d6a-275">[![p3_desktopViewWithMobileLink](aspnet-mvc-4-mobile-features/_static/image27.png)](aspnet-mvc-4-mobile-features/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-275">[![p3_desktopViewWithMobileLink](aspnet-mvc-4-mobile-features/_static/image27.png)](aspnet-mvc-4-mobile-features/_static/image26.png)</span></span>

> [!NOTE]
> <span data-ttu-id="e5d6a-276">Depurar Observação: você pode adicionar o seguinte código ao final da exibições \ compartilhadas\\_ViewSwitcher.cshtml para ajudar a depurar modos de exibição quando usando um navegador, a cadeia de caracteres de agente do usuário definido em um dispositivo móvel.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-276">Debug note: You can add the following code to the end of the Views\Shared\\_ViewSwitcher.cshtml to help debug views when using a browser the user agent string set to a mobile device.</span></span>
> 
> [!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample15.cs)]
> 
>  <span data-ttu-id="e5d6a-277">e adicionando o seguinte cabeçalho para o *exibições \ compartilhadas\\cshtml* arquivo.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-277">and adding the following heading to the *Views\Shared\\_Layout.cshtml* file.</span></span>  
> 
> [!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample16.html)]


<span data-ttu-id="e5d6a-278">Navegue até o *AllTags* página em um navegador da área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-278">Browse to the *AllTags* page in a desktop browser.</span></span> <span data-ttu-id="e5d6a-279">O widget de alternância de exibição não é exibido em um navegador da área de trabalho porque ela é adicionada apenas à página de layout para dispositivos móveis.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-279">The view-switcher widget is not displayed in a desktop browser because it's added only to the mobile layout page.</span></span> <span data-ttu-id="e5d6a-280">No tutorial posteriormente, você verá como é possível adicionar o widget de alternância de exibição para o modo de exibição da área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-280">Later in the tutorial you'll see how you can add the view-switcher widget to the desktop view.</span></span>

<span data-ttu-id="e5d6a-281">[![p3_desktopBrowser](aspnet-mvc-4-mobile-features/_static/image29.png)](aspnet-mvc-4-mobile-features/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-281">[![p3_desktopBrowser](aspnet-mvc-4-mobile-features/_static/image29.png)](aspnet-mvc-4-mobile-features/_static/image28.png)</span></span>

## <a name="improving-the-speakers-list"></a><span data-ttu-id="e5d6a-282">Melhorando a lista de alto-falantes</span><span class="sxs-lookup"><span data-stu-id="e5d6a-282">Improving the Speakers List</span></span>

<span data-ttu-id="e5d6a-283">No navegador móvel, selecione o **alto-falantes** link.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-283">In the mobile browser, select the **Speakers** link.</span></span> <span data-ttu-id="e5d6a-284">Porque não há nenhum modo de exibição móvel (*AllSpeakers.Mobile.cshtml*), exibem os alto-falantes padrão (*AllSpeakers.cshtml*) é processado usando o modo de exibição de layout para dispositivos móveis ( *\_ Layout.Mobile.cshtml*).</span><span class="sxs-lookup"><span data-stu-id="e5d6a-284">Because there's no mobile view(*AllSpeakers.Mobile.cshtml*), the default speakers display (*AllSpeakers.cshtml*) is rendered using the mobile layout view (*\_Layout.Mobile.cshtml*).</span></span>

<span data-ttu-id="e5d6a-285">[![p3_speakersDeskTop](aspnet-mvc-4-mobile-features/_static/image31.png)](aspnet-mvc-4-mobile-features/_static/image30.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-285">[![p3_speakersDeskTop](aspnet-mvc-4-mobile-features/_static/image31.png)](aspnet-mvc-4-mobile-features/_static/image30.png)</span></span>

<span data-ttu-id="e5d6a-286">Globalmente você pode desabilitar o modo de exibição padrão (não móveis) da renderização dentro de um layout para dispositivos móveis, definindo `RequireConsistentDisplayMode` para `true` no *exibições\\viewstart* arquivo, como este:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-286">You can globally disable a default (non-mobile) view from rendering inside a mobile layout by setting `RequireConsistentDisplayMode` to `true` in the *Views\\_ViewStart.cshtml* file, like this:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample17.cshtml)]

<span data-ttu-id="e5d6a-287">Quando `RequireConsistentDisplayMode` é definido como `true`, o layout para dispositivos móveis (<em>\_Layout.Mobile.cshtml</em>) é usado apenas para exibições móveis.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-287">When `RequireConsistentDisplayMode` is set to `true`, the mobile layout (<em>\_Layout.Mobile.cshtml</em>) is used only for mobile views.</span></span> <span data-ttu-id="e5d6a-288">(Ou seja, o arquivo de exibição tem o formato <em>* * ViewName</em><em>. Cshtml</em>.) Talvez você queira definir `RequireConsistentDisplayMode` para `true` se o layout para dispositivos móveis não funcionar bem com seus modos de exibição não móveis.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-288">(That is, the view file is of the form <em>**ViewName</em><em>.Mobile.cshtml</em>.) You might want to set `RequireConsistentDisplayMode` to `true` if your mobile layout doesn't work well with your non-mobile views.</span></span> <span data-ttu-id="e5d6a-289">Captura de tela a seguir mostra como o <em>alto-falantes</em> page renderiza quando `RequireConsistentDisplayMode` é definido como `true`.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-289">The screenshot below shows how the <em>Speakers</em> page renders when `RequireConsistentDisplayMode` is set to `true`.</span></span>

<span data-ttu-id="e5d6a-290">[![p3_speakersConsistent](aspnet-mvc-4-mobile-features/_static/image33.png)](aspnet-mvc-4-mobile-features/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-290">[![p3_speakersConsistent](aspnet-mvc-4-mobile-features/_static/image33.png)](aspnet-mvc-4-mobile-features/_static/image32.png)</span></span>

<span data-ttu-id="e5d6a-291">Você pode desabilitar o modo de exibição consistente em uma exibição definindo `RequireConsistentDisplayMode` para `false` no arquivo de exibição.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-291">You can disable consistent display mode in a view by setting `RequireConsistentDisplayMode` to `false` in the view file.</span></span> <span data-ttu-id="e5d6a-292">A seguinte marcação no *Views\Home\AllSpeakers.cshtml* conjuntos de arquivos `RequireConsistentDisplayMode` para `false`:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-292">The following markup in the *Views\Home\AllSpeakers.cshtml* file sets `RequireConsistentDisplayMode` to `false`:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample18.cshtml)]

## <a name="creating-a-mobile-speakers-view"></a><span data-ttu-id="e5d6a-293">Criação de uma exibição de alto-falantes móvel</span><span class="sxs-lookup"><span data-stu-id="e5d6a-293">Creating a Mobile Speakers View</span></span>

<span data-ttu-id="e5d6a-294">Como você acabou de ver o *alto-falantes* modo de exibição pode ser lido, mas os links são pequenos e difíceis de toque em um dispositivo móvel.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-294">As you just saw, the *Speakers* view is readable, but the links are small and are difficult to tap on a mobile device.</span></span> <span data-ttu-id="e5d6a-295">Nesta seção, você criará uma específicas para dispositivos móveis *alto-falantes* exibição parece um aplicativo móvel moderno — exibe grande, fácil de toque links e contém uma caixa de pesquisa para localizar rapidamente os alto-falantes.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-295">In this section, you'll create a mobile-specific *Speakers* view that looks like a modern mobile application — it displays large, easy-to-tap links and contains a search box to quickly find speakers.</span></span>

<span data-ttu-id="e5d6a-296">Cópia *AllSpeakers.cshtml* para *AllSpeakers.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-296">Copy *AllSpeakers.cshtml* to *AllSpeakers.Mobile.cshtml*.</span></span> <span data-ttu-id="e5d6a-297">Abra o *AllSpeakers.Mobile.cshtml* de arquivo e remover o `<h2>` elemento de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-297">Open the *AllSpeakers.Mobile.cshtml* file and remove the `<h2>` heading element.</span></span>

<span data-ttu-id="e5d6a-298">No `<ul>` marca, adicione o `data-role` de atributos e defina seu valor como `listview`.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-298">In the `<ul>` tag, add the `data-role` attribute and set its value to `listview`.</span></span> <span data-ttu-id="e5d6a-299">Assim como outros [ `data-*` atributos](http://html5doctor.com/html5-custom-data-attributes/), `data-role="listview"` faz com que os itens da lista grande mais fácil para toque.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-299">Like other [`data-*` attributes](http://html5doctor.com/html5-custom-data-attributes/), `data-role="listview"` makes the large list items easier to tap.</span></span> <span data-ttu-id="e5d6a-300">Esta é a aparência de marcação concluída:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-300">This is what the completed markup looks like:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample19.cshtml)]

<span data-ttu-id="e5d6a-301">Atualize o navegador móvel.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-301">Refresh the mobile browser.</span></span> <span data-ttu-id="e5d6a-302">O modo de exibição atualizado tem esta aparência:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-302">The updated view looks like this:</span></span>

<span data-ttu-id="e5d6a-303">[![p3_updatedSpeakerView1](aspnet-mvc-4-mobile-features/_static/image35.png)](aspnet-mvc-4-mobile-features/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-303">[![p3_updatedSpeakerView1](aspnet-mvc-4-mobile-features/_static/image35.png)](aspnet-mvc-4-mobile-features/_static/image34.png)</span></span>

<span data-ttu-id="e5d6a-304">Embora o modo de exibição móvel melhorou, é difícil navegar a longa lista de alto-falantes.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-304">Although the mobile view has improved, it's difficult to navigate the long list of speakers.</span></span> <span data-ttu-id="e5d6a-305">Para corrigir isso, no `<ul>` marca, adicione o `data-filter` de atributos e defina-a como `true`.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-305">To fix this, in the `<ul>` tag, add the `data-filter` attribute and set it to `true`.</span></span> <span data-ttu-id="e5d6a-306">O código a seguir mostra o `ul` marcação.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-306">The code below shows the `ul` markup.</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample20.html)]

<span data-ttu-id="e5d6a-307">A imagem a seguir mostra a caixa de filtro de pesquisa na parte superior da página que resulta do `data-filter` atributo.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-307">The following image shows the search filter box at the top of the page that results from the `data-filter` attribute.</span></span>

<span data-ttu-id="e5d6a-308">[![ps_Data_Filter](aspnet-mvc-4-mobile-features/_static/image37.png)](aspnet-mvc-4-mobile-features/_static/image36.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-308">[![ps_Data_Filter](aspnet-mvc-4-mobile-features/_static/image37.png)](aspnet-mvc-4-mobile-features/_static/image36.png)</span></span>

<span data-ttu-id="e5d6a-309">Conforme você digita cada letra na caixa de pesquisa, o jQuery Mobile filtra a lista exibida conforme mostrado na imagem abaixo.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-309">As you type each letter in the search box, jQuery Mobile filters the displayed list as shown in the image below.</span></span>

<span data-ttu-id="e5d6a-310">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image39.png)](aspnet-mvc-4-mobile-features/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-310">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image39.png)](aspnet-mvc-4-mobile-features/_static/image38.png)</span></span>

## <a name="improving-the-tags-list"></a><span data-ttu-id="e5d6a-311">Melhorando a lista de marcas</span><span class="sxs-lookup"><span data-stu-id="e5d6a-311">Improving the Tags List</span></span>

<span data-ttu-id="e5d6a-312">Como o padrão *alto-falantes* exibição, o *marcas* modo de exibição pode ser lido, mas os links são pequenos e difíceis de toque em um dispositivo móvel.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-312">Like the default *Speakers* view, the *Tags* view is readable, but the links are small and difficult to tap on a mobile device.</span></span> <span data-ttu-id="e5d6a-313">Nesta seção, você corrigirá a *marcas* exibir da mesma maneira que você fixa o *alto-falantes* exibição.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-313">In this section, you'll fix the *Tags* view the same way you fixed the *Speakers* view.</span></span>

<span data-ttu-id="e5d6a-314">Remover o &quot;ocultar&quot; sufixo para o *Views\Home\AllTags.Mobile.cshtml.hide* é o nome de arquivo *Views\Home\AllTags.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-314">Remove the &quot;hide&quot; suffix to the *Views\Home\AllTags.Mobile.cshtml.hide* file so the name is *Views\Home\AllTags.Mobile.cshtml*.</span></span> <span data-ttu-id="e5d6a-315">Abra o arquivo renomeado e remova o `<h2>` elemento.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-315">Open the renamed file and remove the `<h2>` element.</span></span>

<span data-ttu-id="e5d6a-316">Adicionar o `data-role` e `data-filter` atributos para o `<ul>` marca, conforme mostrado aqui:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-316">Add the `data-role` and `data-filter` attributes to the `<ul>` tag, as shown here:</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample21.html)]

<span data-ttu-id="e5d6a-317">A imagem a seguir mostra a página de marcas de filtragem na letra `J`.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-317">The image below shows the tags page filtering on the letter `J`.</span></span>

<span data-ttu-id="e5d6a-318">[![p3_tags_J](aspnet-mvc-4-mobile-features/_static/image41.png)](aspnet-mvc-4-mobile-features/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-318">[![p3_tags_J](aspnet-mvc-4-mobile-features/_static/image41.png)](aspnet-mvc-4-mobile-features/_static/image40.png)</span></span>

## <a name="improving-the-dates-list"></a><span data-ttu-id="e5d6a-319">Melhorando a lista de datas</span><span class="sxs-lookup"><span data-stu-id="e5d6a-319">Improving the Dates List</span></span>

<span data-ttu-id="e5d6a-320">Você pode melhorar o *datas* exibir como você aprimorado o *alto-falantes* e *marcas* exibe, para que seja mais fácil de usar em um dispositivo móvel.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-320">You can improve the *Dates* view like you improved the *Speakers* and *Tags* views, so that it's easier to use on a mobile device.</span></span>

<span data-ttu-id="e5d6a-321">Copie o *Views\Home\AllDates.cshtml* o arquivo para *Views\Home\AllDates.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-321">Copy the *Views\Home\AllDates.cshtml* file to *Views\Home\AllDates.Mobile.cshtml*.</span></span> <span data-ttu-id="e5d6a-322">Abra o novo arquivo e remover o `<h2>` elemento.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-322">Open the new file and remove the `<h2>` element.</span></span>

<span data-ttu-id="e5d6a-323">Adicionar `data-role="listview"` para o `<ul>` marca, como este:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-323">Add `data-role="listview"` to the `<ul>` tag, like this:</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample22.html)]

<span data-ttu-id="e5d6a-324">A imagem abaixo mostra o que o **data** página parece com o `data-role` atributo em vigor.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-324">The image below shows what the **Date** page looks like with the `data-role` attribute in place.</span></span>

<span data-ttu-id="e5d6a-325">[![p3_dates1](aspnet-mvc-4-mobile-features/_static/image43.png)](aspnet-mvc-4-mobile-features/_static/image42.png) substituir o conteúdo do *Views\Home\AllDates.Mobile.cshtml* arquivo com o código a seguir:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-325">[![p3_dates1](aspnet-mvc-4-mobile-features/_static/image43.png)](aspnet-mvc-4-mobile-features/_static/image42.png) Replace the contents of the *Views\Home\AllDates.Mobile.cshtml* file with the following code:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample23.cshtml)]

<span data-ttu-id="e5d6a-326">Esse código agrupa todas as sessões em dias.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-326">This code groups all sessions by days.</span></span> <span data-ttu-id="e5d6a-327">Ele cria um divisor de lista para cada novo dia e lista todas as sessões para cada dia em uma linha divisória.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-327">It creates a list divider for each new day, and it lists all the sessions for each day under a divider.</span></span> <span data-ttu-id="e5d6a-328">Aqui está o que se parece quando esse código é executado:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-328">Here's what it looks like when this code runs:</span></span>

<span data-ttu-id="e5d6a-329">[![p3_dates2](aspnet-mvc-4-mobile-features/_static/image45.png)](aspnet-mvc-4-mobile-features/_static/image44.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-329">[![p3_dates2](aspnet-mvc-4-mobile-features/_static/image45.png)](aspnet-mvc-4-mobile-features/_static/image44.png)</span></span>

## <a name="improving-the-sessionstable-view"></a><span data-ttu-id="e5d6a-330">Melhorando a exibição de SessionsTable</span><span class="sxs-lookup"><span data-stu-id="e5d6a-330">Improving the SessionsTable View</span></span>

<span data-ttu-id="e5d6a-331">Nesta seção, você criará uma exibição específicas para dispositivos móveis de sessões.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-331">In this section, you'll create a mobile-specific view of sessions.</span></span> <span data-ttu-id="e5d6a-332">As alterações que fazemos serão mais abrangentes que outros modos de exibição que você criou.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-332">The changes we make will be more extensive than in other views we have created.</span></span>

<span data-ttu-id="e5d6a-333">No navegador móvel, toque o **locutor** botão e, em seguida, digite `Sc` na caixa de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-333">In the mobile browser, tap the **Speaker** button, then enter `Sc` in the search box.</span></span>

<span data-ttu-id="e5d6a-334">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image47.png)](aspnet-mvc-4-mobile-features/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-334">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image47.png)](aspnet-mvc-4-mobile-features/_static/image46.png)</span></span>

<span data-ttu-id="e5d6a-335">Toque na **Scott Hanselman** link.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-335">Tap the **Scott Hanselman** link.</span></span>

<span data-ttu-id="e5d6a-336">[![p3_scottHa](aspnet-mvc-4-mobile-features/_static/image49.png)](aspnet-mvc-4-mobile-features/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-336">[![p3_scottHa](aspnet-mvc-4-mobile-features/_static/image49.png)](aspnet-mvc-4-mobile-features/_static/image48.png)</span></span>

<span data-ttu-id="e5d6a-337">Como você pode ver, a exibição é difícil de ler em um navegador móvel.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-337">As you can see, the display is difficult to read on a mobile browser.</span></span> <span data-ttu-id="e5d6a-338">A coluna de data é difícil a leitura e a coluna de marcas está fora do modo de exibição.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-338">The date column is hard to read and the tags column is out of the view.</span></span> <span data-ttu-id="e5d6a-339">Para corrigir isso, copie *Views\Home\SessionsTable.cshtml* para *Views\Home\SessionsTable.Mobile.cshtml*e, em seguida, substitua o conteúdo do arquivo com o código a seguir:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-339">To fix this, copy *Views\Home\SessionsTable.cshtml* to *Views\Home\SessionsTable.Mobile.cshtml*, and then replace the contents of the file with the following code:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample24.cshtml)]

<span data-ttu-id="e5d6a-340">O código remove sala marcas colunas e formata o título, alto-falantes e data verticalmente, de modo que todas essas informações pode ser lidas em um navegador móvel.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-340">The code removes the room and tags columns, and formats the title, speaker, and date vertically, so that all this information is readable on a mobile browser.</span></span> <span data-ttu-id="e5d6a-341">A imagem a seguir reflete as alterações de código.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-341">The image below reflects the code changes.</span></span>

<span data-ttu-id="e5d6a-342">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image51.png)](aspnet-mvc-4-mobile-features/_static/image50.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-342">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image51.png)](aspnet-mvc-4-mobile-features/_static/image50.png)</span></span>

## <a name="improving-the-sessionbycode-view"></a><span data-ttu-id="e5d6a-343">Melhorando a exibição de SessionByCode</span><span class="sxs-lookup"><span data-stu-id="e5d6a-343">Improving the SessionByCode View</span></span>

<span data-ttu-id="e5d6a-344">Por fim, você criará uma exibição específicas para dispositivos móveis do *SessionByCode* exibição.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-344">Finally, you'll create a mobile-specific view of the *SessionByCode* view.</span></span> <span data-ttu-id="e5d6a-345">No navegador móvel, toque o **locutor** botão e, em seguida, digite `Sc` na caixa de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-345">In the mobile browser, tap the **Speaker** button, then enter `Sc` in the search box.</span></span>

<span data-ttu-id="e5d6a-346">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image53.png)](aspnet-mvc-4-mobile-features/_static/image52.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-346">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image53.png)](aspnet-mvc-4-mobile-features/_static/image52.png)</span></span>

<span data-ttu-id="e5d6a-347">Toque na **Scott Hanselman** link.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-347">Tap the **Scott Hanselman** link.</span></span> <span data-ttu-id="e5d6a-348">Sessões de Scott Hanselman são exibidas.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-348">Scott Hanselman's sessions are displayed.</span></span>

<span data-ttu-id="e5d6a-349">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image55.png)](aspnet-mvc-4-mobile-features/_static/image54.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-349">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image55.png)](aspnet-mvc-4-mobile-features/_static/image54.png)</span></span>

<span data-ttu-id="e5d6a-350">Escolha o **visão geral do MS da pilha de Love** link.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-350">Choose the **An Overview of the MS Web Stack of Love** link.</span></span>

<span data-ttu-id="e5d6a-351">[![ps_love](aspnet-mvc-4-mobile-features/_static/image57.png)](aspnet-mvc-4-mobile-features/_static/image56.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-351">[![ps_love](aspnet-mvc-4-mobile-features/_static/image57.png)](aspnet-mvc-4-mobile-features/_static/image56.png)</span></span>

<span data-ttu-id="e5d6a-352">A exibição da área de trabalho padrão é bom, mas você pode melhorá-la.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-352">The default desktop view is fine, but you can improve it.</span></span>

<span data-ttu-id="e5d6a-353">Copie o *Views\Home\SessionByCode.cshtml* para *Views\Home\SessionByCode.Mobile.cshtml* e substitua o conteúdo do *Views\Home\SessionByCode.Mobile.cshtml*arquivo com a seguinte marcação:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-353">Copy the *Views\Home\SessionByCode.cshtml* to *Views\Home\SessionByCode.Mobile.cshtml* and replace the contents of the *Views\Home\SessionByCode.Mobile.cshtml* file with the following markup:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample25.cshtml)]

<span data-ttu-id="e5d6a-354">Usa a marcação de novo o `data-role` atributo para aprimorar o layout do modo de exibição.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-354">The new markup uses the `data-role` attribute to improve the layout of the view.</span></span>

<span data-ttu-id="e5d6a-355">Atualize o navegador móvel.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-355">Refresh the mobile browser.</span></span> <span data-ttu-id="e5d6a-356">A imagem a seguir reflete as alterações de código que você acabou de criar:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-356">The following image reflects the code changes that you just made:</span></span>

<span data-ttu-id="e5d6a-357">[![p3_love2](aspnet-mvc-4-mobile-features/_static/image59.png)](aspnet-mvc-4-mobile-features/_static/image58.png)</span><span class="sxs-lookup"><span data-stu-id="e5d6a-357">[![p3_love2](aspnet-mvc-4-mobile-features/_static/image59.png)](aspnet-mvc-4-mobile-features/_static/image58.png)</span></span>

## <a name="wrapup-and-review"></a><span data-ttu-id="e5d6a-358">Revisão e Wrapup</span><span class="sxs-lookup"><span data-stu-id="e5d6a-358">Wrapup and Review</span></span>

<span data-ttu-id="e5d6a-359">Este tutorial introduziu novos recursos de visualização do desenvolvedor do ASP.NET MVC 4 móveis.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-359">This tutorial has introduced the new mobile features of ASP.NET MVC 4 Developer Preview.</span></span> <span data-ttu-id="e5d6a-360">Os recursos móveis incluem:</span><span class="sxs-lookup"><span data-stu-id="e5d6a-360">The mobile features include:</span></span>

- <span data-ttu-id="e5d6a-361">A habilidade de substituir o layout, exibições e exibições parciais, globalmente e para uma exibição individual.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-361">The ability to override layout, views, and partial views, both globally and for an individual view.</span></span>
- <span data-ttu-id="e5d6a-362">Controle sobre o layout e a substituição parcial imposição usando o `RequireConsistentDisplayMode` propriedade.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-362">Control over layout and partial override enforcement using the `RequireConsistentDisplayMode` property.</span></span>
- <span data-ttu-id="e5d6a-363">Um widget de alternância de exibição para dispositivos móveis exibições que também podem ser exibidos em modos de exibição da área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-363">A view-switcher widget for mobile views than can also be displayed in desktop views.</span></span>
- <span data-ttu-id="e5d6a-364">Suporte para dar suporte a navegadores específicos, como o navegador do iPhone.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-364">Support for supporting specific browsers, such as the iPhone browser.</span></span>

## <a name="see-also"></a><span data-ttu-id="e5d6a-365">Consulte também</span><span class="sxs-lookup"><span data-stu-id="e5d6a-365">See Also</span></span>

- <span data-ttu-id="e5d6a-366">[o jQuery Mobile](http://jquerymobile.com) site.</span><span class="sxs-lookup"><span data-stu-id="e5d6a-366">[jQuery Mobile](http://jquerymobile.com) site.</span></span>
- [<span data-ttu-id="e5d6a-367">jQuery Mobile Overview</span><span class="sxs-lookup"><span data-stu-id="e5d6a-367">jQuery Mobile Overview</span></span>](http://jquerymobile.com/demos/1.0b3/docs/about/intro.html)
- [<span data-ttu-id="e5d6a-368">Práticas recomendadas de aplicativo do W3C recomendação Web móvel</span><span class="sxs-lookup"><span data-stu-id="e5d6a-368">W3C Recommendation Mobile Web Application Best Practices</span></span>](http://www.w3.org/TR/mwabp/)
- [<span data-ttu-id="e5d6a-369">Recomendação do W3C candidato para consultas de mídia</span><span class="sxs-lookup"><span data-stu-id="e5d6a-369">W3C Candidate Recommendation for media queries</span></span>](http://www.w3.org/TR/css3-mediaqueries/)
